var K_=e=>{throw TypeError(e)};var Bm=(e,t,n)=>t.has(e)||K_("Cannot "+n);var X=(e,t,n)=>(Bm(e,t,"read from private field"),n?n.call(e):t.get(e)),Je=(e,t,n)=>t.has(e)?K_("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),Ie=(e,t,n,r)=>(Bm(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),en=(e,t,n)=>(Bm(e,t,"access private method"),n);var nd=(e,t,n,r)=>({set _(s){Ie(e,t,s,n)},get _(){return X(e,t,r)}});function HR(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();var GR=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Pv(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var E1={exports:{}},cf={},R1={exports:{}},Ze={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gu=Symbol.for("react.element"),ZR=Symbol.for("react.portal"),KR=Symbol.for("react.fragment"),YR=Symbol.for("react.strict_mode"),XR=Symbol.for("react.profiler"),QR=Symbol.for("react.provider"),JR=Symbol.for("react.context"),eA=Symbol.for("react.forward_ref"),tA=Symbol.for("react.suspense"),nA=Symbol.for("react.memo"),rA=Symbol.for("react.lazy"),Y_=Symbol.iterator;function sA(e){return e===null||typeof e!="object"?null:(e=Y_&&e[Y_]||e["@@iterator"],typeof e=="function"?e:null)}var A1={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},O1=Object.assign,L1={};function xl(e,t,n){this.props=e,this.context=t,this.refs=L1,this.updater=n||A1}xl.prototype.isReactComponent={};xl.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};xl.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function M1(){}M1.prototype=xl.prototype;function jv(e,t,n){this.props=e,this.context=t,this.refs=L1,this.updater=n||A1}var Tv=jv.prototype=new M1;Tv.constructor=jv;O1(Tv,xl.prototype);Tv.isPureReactComponent=!0;var X_=Array.isArray,I1=Object.prototype.hasOwnProperty,Ev={current:null},D1={key:!0,ref:!0,__self:!0,__source:!0};function $1(e,t,n){var r,s={},i=null,a=null;if(t!=null)for(r in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(i=""+t.key),t)I1.call(t,r)&&!D1.hasOwnProperty(r)&&(s[r]=t[r]);var c=arguments.length-2;if(c===1)s.children=n;else if(1<c){for(var d=Array(c),h=0;h<c;h++)d[h]=arguments[h+2];s.children=d}if(e&&e.defaultProps)for(r in c=e.defaultProps,c)s[r]===void 0&&(s[r]=c[r]);return{$$typeof:gu,type:e,key:i,ref:a,props:s,_owner:Ev.current}}function iA(e,t){return{$$typeof:gu,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Rv(e){return typeof e=="object"&&e!==null&&e.$$typeof===gu}function oA(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Q_=/\/+/g;function Um(e,t){return typeof e=="object"&&e!==null&&e.key!=null?oA(""+e.key):t.toString(36)}function Id(e,t,n,r,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(i){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case gu:case ZR:a=!0}}if(a)return a=e,s=s(a),e=r===""?"."+Um(a,0):r,X_(s)?(n="",e!=null&&(n=e.replace(Q_,"$&/")+"/"),Id(s,t,n,"",function(h){return h})):s!=null&&(Rv(s)&&(s=iA(s,n+(!s.key||a&&a.key===s.key?"":(""+s.key).replace(Q_,"$&/")+"/")+e)),t.push(s)),1;if(a=0,r=r===""?".":r+":",X_(e))for(var c=0;c<e.length;c++){i=e[c];var d=r+Um(i,c);a+=Id(i,t,n,d,s)}else if(d=sA(e),typeof d=="function")for(e=d.call(e),c=0;!(i=e.next()).done;)i=i.value,d=r+Um(i,c++),a+=Id(i,t,n,d,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function rd(e,t,n){if(e==null)return e;var r=[],s=0;return Id(e,r,"","",function(i){return t.call(n,i,s++)}),r}function aA(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Sn={current:null},Dd={transition:null},lA={ReactCurrentDispatcher:Sn,ReactCurrentBatchConfig:Dd,ReactCurrentOwner:Ev};function F1(){throw Error("act(...) is not supported in production builds of React.")}Ze.Children={map:rd,forEach:function(e,t,n){rd(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return rd(e,function(){t++}),t},toArray:function(e){return rd(e,function(t){return t})||[]},only:function(e){if(!Rv(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Ze.Component=xl;Ze.Fragment=KR;Ze.Profiler=XR;Ze.PureComponent=jv;Ze.StrictMode=YR;Ze.Suspense=tA;Ze.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=lA;Ze.act=F1;Ze.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=O1({},e.props),s=e.key,i=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,a=Ev.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(d in t)I1.call(t,d)&&!D1.hasOwnProperty(d)&&(r[d]=t[d]===void 0&&c!==void 0?c[d]:t[d])}var d=arguments.length-2;if(d===1)r.children=n;else if(1<d){c=Array(d);for(var h=0;h<d;h++)c[h]=arguments[h+2];r.children=c}return{$$typeof:gu,type:e.type,key:s,ref:i,props:r,_owner:a}};Ze.createContext=function(e){return e={$$typeof:JR,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:QR,_context:e},e.Consumer=e};Ze.createElement=$1;Ze.createFactory=function(e){var t=$1.bind(null,e);return t.type=e,t};Ze.createRef=function(){return{current:null}};Ze.forwardRef=function(e){return{$$typeof:eA,render:e}};Ze.isValidElement=Rv;Ze.lazy=function(e){return{$$typeof:rA,_payload:{_status:-1,_result:e},_init:aA}};Ze.memo=function(e,t){return{$$typeof:nA,type:e,compare:t===void 0?null:t}};Ze.startTransition=function(e){var t=Dd.transition;Dd.transition={};try{e()}finally{Dd.transition=t}};Ze.unstable_act=F1;Ze.useCallback=function(e,t){return Sn.current.useCallback(e,t)};Ze.useContext=function(e){return Sn.current.useContext(e)};Ze.useDebugValue=function(){};Ze.useDeferredValue=function(e){return Sn.current.useDeferredValue(e)};Ze.useEffect=function(e,t){return Sn.current.useEffect(e,t)};Ze.useId=function(){return Sn.current.useId()};Ze.useImperativeHandle=function(e,t,n){return Sn.current.useImperativeHandle(e,t,n)};Ze.useInsertionEffect=function(e,t){return Sn.current.useInsertionEffect(e,t)};Ze.useLayoutEffect=function(e,t){return Sn.current.useLayoutEffect(e,t)};Ze.useMemo=function(e,t){return Sn.current.useMemo(e,t)};Ze.useReducer=function(e,t,n){return Sn.current.useReducer(e,t,n)};Ze.useRef=function(e){return Sn.current.useRef(e)};Ze.useState=function(e){return Sn.current.useState(e)};Ze.useSyncExternalStore=function(e,t,n){return Sn.current.useSyncExternalStore(e,t,n)};Ze.useTransition=function(){return Sn.current.useTransition()};Ze.version="18.3.1";R1.exports=Ze;var p=R1.exports;const Y=Pv(p),Av=HR({__proto__:null,default:Y},[p]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cA=p,uA=Symbol.for("react.element"),dA=Symbol.for("react.fragment"),hA=Object.prototype.hasOwnProperty,fA=cA.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,mA={key:!0,ref:!0,__self:!0,__source:!0};function z1(e,t,n){var r,s={},i=null,a=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(a=t.ref);for(r in t)hA.call(t,r)&&!mA.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:uA,type:e,key:i,ref:a,props:s,_owner:fA.current}}cf.Fragment=dA;cf.jsx=z1;cf.jsxs=z1;E1.exports=cf;var l=E1.exports,B1={exports:{}},Jn={},U1={exports:{}},V1={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(A,D){var U=A.length;A.push(D);e:for(;0<U;){var re=U-1>>>1,le=A[re];if(0<s(le,D))A[re]=D,A[U]=le,U=re;else break e}}function n(A){return A.length===0?null:A[0]}function r(A){if(A.length===0)return null;var D=A[0],U=A.pop();if(U!==D){A[0]=U;e:for(var re=0,le=A.length,_e=le>>>1;re<_e;){var me=2*(re+1)-1,Se=A[me],xe=me+1,te=A[xe];if(0>s(Se,U))xe<le&&0>s(te,Se)?(A[re]=te,A[xe]=U,re=xe):(A[re]=Se,A[me]=U,re=me);else if(xe<le&&0>s(te,U))A[re]=te,A[xe]=U,re=xe;else break e}}return D}function s(A,D){var U=A.sortIndex-D.sortIndex;return U!==0?U:A.id-D.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var a=Date,c=a.now();e.unstable_now=function(){return a.now()-c}}var d=[],h=[],m=1,g=null,y=3,v=!1,b=!1,x=!1,S=typeof setTimeout=="function"?setTimeout:null,N=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function k(A){for(var D=n(h);D!==null;){if(D.callback===null)r(h);else if(D.startTime<=A)r(h),D.sortIndex=D.expirationTime,t(d,D);else break;D=n(h)}}function P(A){if(x=!1,k(A),!b)if(n(d)!==null)b=!0,G(T);else{var D=n(h);D!==null&&se(P,D.startTime-A)}}function T(A,D){b=!1,x&&(x=!1,N(M),M=-1),v=!0;var U=y;try{for(k(D),g=n(d);g!==null&&(!(g.expirationTime>D)||A&&!Q());){var re=g.callback;if(typeof re=="function"){g.callback=null,y=g.priorityLevel;var le=re(g.expirationTime<=D);D=e.unstable_now(),typeof le=="function"?g.callback=le:g===n(d)&&r(d),k(D)}else r(d);g=n(d)}if(g!==null)var _e=!0;else{var me=n(h);me!==null&&se(P,me.startTime-D),_e=!1}return _e}finally{g=null,y=U,v=!1}}var R=!1,E=null,M=-1,$=5,V=-1;function Q(){return!(e.unstable_now()-V<$)}function W(){if(E!==null){var A=e.unstable_now();V=A;var D=!0;try{D=E(!0,A)}finally{D?Z():(R=!1,E=null)}}else R=!1}var Z;if(typeof w=="function")Z=function(){w(W)};else if(typeof MessageChannel<"u"){var B=new MessageChannel,H=B.port2;B.port1.onmessage=W,Z=function(){H.postMessage(null)}}else Z=function(){S(W,0)};function G(A){E=A,R||(R=!0,Z())}function se(A,D){M=S(function(){A(e.unstable_now())},D)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(A){A.callback=null},e.unstable_continueExecution=function(){b||v||(b=!0,G(T))},e.unstable_forceFrameRate=function(A){0>A||125<A?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):$=0<A?Math.floor(1e3/A):5},e.unstable_getCurrentPriorityLevel=function(){return y},e.unstable_getFirstCallbackNode=function(){return n(d)},e.unstable_next=function(A){switch(y){case 1:case 2:case 3:var D=3;break;default:D=y}var U=y;y=D;try{return A()}finally{y=U}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(A,D){switch(A){case 1:case 2:case 3:case 4:case 5:break;default:A=3}var U=y;y=A;try{return D()}finally{y=U}},e.unstable_scheduleCallback=function(A,D,U){var re=e.unstable_now();switch(typeof U=="object"&&U!==null?(U=U.delay,U=typeof U=="number"&&0<U?re+U:re):U=re,A){case 1:var le=-1;break;case 2:le=250;break;case 5:le=1073741823;break;case 4:le=1e4;break;default:le=5e3}return le=U+le,A={id:m++,callback:D,priorityLevel:A,startTime:U,expirationTime:le,sortIndex:-1},U>re?(A.sortIndex=U,t(h,A),n(d)===null&&A===n(h)&&(x?(N(M),M=-1):x=!0,se(P,U-re))):(A.sortIndex=le,t(d,A),b||v||(b=!0,G(T))),A},e.unstable_shouldYield=Q,e.unstable_wrapCallback=function(A){var D=y;return function(){var U=y;y=D;try{return A.apply(this,arguments)}finally{y=U}}}})(V1);U1.exports=V1;var pA=U1.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gA=p,Xn=pA;function ne(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var W1=new Set,Rc={};function Lo(e,t){tl(e,t),tl(e+"Capture",t)}function tl(e,t){for(Rc[e]=t,e=0;e<t.length;e++)W1.add(t[e])}var Ls=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Wp=Object.prototype.hasOwnProperty,vA=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,J_={},ew={};function yA(e){return Wp.call(ew,e)?!0:Wp.call(J_,e)?!1:vA.test(e)?ew[e]=!0:(J_[e]=!0,!1)}function xA(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function _A(e,t,n,r){if(t===null||typeof t>"u"||xA(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function kn(e,t,n,r,s,i,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=a}var Qt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Qt[e]=new kn(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Qt[t]=new kn(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Qt[e]=new kn(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Qt[e]=new kn(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Qt[e]=new kn(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Qt[e]=new kn(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Qt[e]=new kn(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Qt[e]=new kn(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Qt[e]=new kn(e,5,!1,e.toLowerCase(),null,!1,!1)});var Ov=/[\-:]([a-z])/g;function Lv(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Ov,Lv);Qt[t]=new kn(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Ov,Lv);Qt[t]=new kn(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Ov,Lv);Qt[t]=new kn(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Qt[e]=new kn(e,1,!1,e.toLowerCase(),null,!1,!1)});Qt.xlinkHref=new kn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Qt[e]=new kn(e,1,!1,e.toLowerCase(),null,!0,!0)});function Mv(e,t,n,r){var s=Qt.hasOwnProperty(t)?Qt[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(_A(t,n,s,r)&&(n=null),r||s===null?yA(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Vs=gA.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,sd=Symbol.for("react.element"),_a=Symbol.for("react.portal"),wa=Symbol.for("react.fragment"),Iv=Symbol.for("react.strict_mode"),qp=Symbol.for("react.profiler"),q1=Symbol.for("react.provider"),H1=Symbol.for("react.context"),Dv=Symbol.for("react.forward_ref"),Hp=Symbol.for("react.suspense"),Gp=Symbol.for("react.suspense_list"),$v=Symbol.for("react.memo"),ei=Symbol.for("react.lazy"),G1=Symbol.for("react.offscreen"),tw=Symbol.iterator;function Gl(e){return e===null||typeof e!="object"?null:(e=tw&&e[tw]||e["@@iterator"],typeof e=="function"?e:null)}var yt=Object.assign,Vm;function lc(e){if(Vm===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Vm=t&&t[1]||""}return`
`+Vm+e}var Wm=!1;function qm(e,t){if(!e||Wm)return"";Wm=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(h){var r=h}Reflect.construct(e,[],t)}else{try{t.call()}catch(h){r=h}e.call(t.prototype)}else{try{throw Error()}catch(h){r=h}e()}}catch(h){if(h&&r&&typeof h.stack=="string"){for(var s=h.stack.split(`
`),i=r.stack.split(`
`),a=s.length-1,c=i.length-1;1<=a&&0<=c&&s[a]!==i[c];)c--;for(;1<=a&&0<=c;a--,c--)if(s[a]!==i[c]){if(a!==1||c!==1)do if(a--,c--,0>c||s[a]!==i[c]){var d=`
`+s[a].replace(" at new "," at ");return e.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",e.displayName)),d}while(1<=a&&0<=c);break}}}finally{Wm=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?lc(e):""}function wA(e){switch(e.tag){case 5:return lc(e.type);case 16:return lc("Lazy");case 13:return lc("Suspense");case 19:return lc("SuspenseList");case 0:case 2:case 15:return e=qm(e.type,!1),e;case 11:return e=qm(e.type.render,!1),e;case 1:return e=qm(e.type,!0),e;default:return""}}function Zp(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case wa:return"Fragment";case _a:return"Portal";case qp:return"Profiler";case Iv:return"StrictMode";case Hp:return"Suspense";case Gp:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case H1:return(e.displayName||"Context")+".Consumer";case q1:return(e._context.displayName||"Context")+".Provider";case Dv:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case $v:return t=e.displayName||null,t!==null?t:Zp(e.type)||"Memo";case ei:t=e._payload,e=e._init;try{return Zp(e(t))}catch{}}return null}function bA(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Zp(t);case 8:return t===Iv?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function ji(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Z1(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function SA(e){var t=Z1(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(a){r=""+a,i.call(this,a)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function id(e){e._valueTracker||(e._valueTracker=SA(e))}function K1(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Z1(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function th(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Kp(e,t){var n=t.checked;return yt({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function nw(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=ji(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Y1(e,t){t=t.checked,t!=null&&Mv(e,"checked",t,!1)}function Yp(e,t){Y1(e,t);var n=ji(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Xp(e,t.type,n):t.hasOwnProperty("defaultValue")&&Xp(e,t.type,ji(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function rw(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Xp(e,t,n){(t!=="number"||th(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var cc=Array.isArray;function La(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+ji(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Qp(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(ne(91));return yt({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function sw(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(ne(92));if(cc(n)){if(1<n.length)throw Error(ne(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:ji(n)}}function X1(e,t){var n=ji(t.value),r=ji(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function iw(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Q1(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Jp(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Q1(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var od,J1=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(od=od||document.createElement("div"),od.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=od.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Ac(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var vc={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},kA=["Webkit","ms","Moz","O"];Object.keys(vc).forEach(function(e){kA.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),vc[t]=vc[e]})});function eS(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||vc.hasOwnProperty(e)&&vc[e]?(""+t).trim():t+"px"}function tS(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=eS(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var NA=yt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function eg(e,t){if(t){if(NA[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(ne(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(ne(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(ne(61))}if(t.style!=null&&typeof t.style!="object")throw Error(ne(62))}}function tg(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ng=null;function Fv(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var rg=null,Ma=null,Ia=null;function ow(e){if(e=xu(e)){if(typeof rg!="function")throw Error(ne(280));var t=e.stateNode;t&&(t=mf(t),rg(e.stateNode,e.type,t))}}function nS(e){Ma?Ia?Ia.push(e):Ia=[e]:Ma=e}function rS(){if(Ma){var e=Ma,t=Ia;if(Ia=Ma=null,ow(e),t)for(e=0;e<t.length;e++)ow(t[e])}}function sS(e,t){return e(t)}function iS(){}var Hm=!1;function oS(e,t,n){if(Hm)return e(t,n);Hm=!0;try{return sS(e,t,n)}finally{Hm=!1,(Ma!==null||Ia!==null)&&(iS(),rS())}}function Oc(e,t){var n=e.stateNode;if(n===null)return null;var r=mf(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(ne(231,t,typeof n));return n}var sg=!1;if(Ls)try{var Zl={};Object.defineProperty(Zl,"passive",{get:function(){sg=!0}}),window.addEventListener("test",Zl,Zl),window.removeEventListener("test",Zl,Zl)}catch{sg=!1}function CA(e,t,n,r,s,i,a,c,d){var h=Array.prototype.slice.call(arguments,3);try{t.apply(n,h)}catch(m){this.onError(m)}}var yc=!1,nh=null,rh=!1,ig=null,PA={onError:function(e){yc=!0,nh=e}};function jA(e,t,n,r,s,i,a,c,d){yc=!1,nh=null,CA.apply(PA,arguments)}function TA(e,t,n,r,s,i,a,c,d){if(jA.apply(this,arguments),yc){if(yc){var h=nh;yc=!1,nh=null}else throw Error(ne(198));rh||(rh=!0,ig=h)}}function Mo(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function aS(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function aw(e){if(Mo(e)!==e)throw Error(ne(188))}function EA(e){var t=e.alternate;if(!t){if(t=Mo(e),t===null)throw Error(ne(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return aw(s),e;if(i===r)return aw(s),t;i=i.sibling}throw Error(ne(188))}if(n.return!==r.return)n=s,r=i;else{for(var a=!1,c=s.child;c;){if(c===n){a=!0,n=s,r=i;break}if(c===r){a=!0,r=s,n=i;break}c=c.sibling}if(!a){for(c=i.child;c;){if(c===n){a=!0,n=i,r=s;break}if(c===r){a=!0,r=i,n=s;break}c=c.sibling}if(!a)throw Error(ne(189))}}if(n.alternate!==r)throw Error(ne(190))}if(n.tag!==3)throw Error(ne(188));return n.stateNode.current===n?e:t}function lS(e){return e=EA(e),e!==null?cS(e):null}function cS(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=cS(e);if(t!==null)return t;e=e.sibling}return null}var uS=Xn.unstable_scheduleCallback,lw=Xn.unstable_cancelCallback,RA=Xn.unstable_shouldYield,AA=Xn.unstable_requestPaint,jt=Xn.unstable_now,OA=Xn.unstable_getCurrentPriorityLevel,zv=Xn.unstable_ImmediatePriority,dS=Xn.unstable_UserBlockingPriority,sh=Xn.unstable_NormalPriority,LA=Xn.unstable_LowPriority,hS=Xn.unstable_IdlePriority,uf=null,as=null;function MA(e){if(as&&typeof as.onCommitFiberRoot=="function")try{as.onCommitFiberRoot(uf,e,void 0,(e.current.flags&128)===128)}catch{}}var Mr=Math.clz32?Math.clz32:$A,IA=Math.log,DA=Math.LN2;function $A(e){return e>>>=0,e===0?32:31-(IA(e)/DA|0)|0}var ad=64,ld=4194304;function uc(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ih(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,i=e.pingedLanes,a=n&268435455;if(a!==0){var c=a&~s;c!==0?r=uc(c):(i&=a,i!==0&&(r=uc(i)))}else a=n&~s,a!==0?r=uc(a):i!==0&&(r=uc(i));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Mr(t),s=1<<n,r|=e[n],t&=~s;return r}function FA(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function zA(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var a=31-Mr(i),c=1<<a,d=s[a];d===-1?(!(c&n)||c&r)&&(s[a]=FA(c,t)):d<=t&&(e.expiredLanes|=c),i&=~c}}function og(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function fS(){var e=ad;return ad<<=1,!(ad&4194240)&&(ad=64),e}function Gm(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function vu(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Mr(t),e[t]=n}function BA(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-Mr(n),i=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~i}}function Bv(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Mr(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var st=0;function mS(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var pS,Uv,gS,vS,yS,ag=!1,cd=[],yi=null,xi=null,_i=null,Lc=new Map,Mc=new Map,ii=[],UA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function cw(e,t){switch(e){case"focusin":case"focusout":yi=null;break;case"dragenter":case"dragleave":xi=null;break;case"mouseover":case"mouseout":_i=null;break;case"pointerover":case"pointerout":Lc.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Mc.delete(t.pointerId)}}function Kl(e,t,n,r,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},t!==null&&(t=xu(t),t!==null&&Uv(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function VA(e,t,n,r,s){switch(t){case"focusin":return yi=Kl(yi,e,t,n,r,s),!0;case"dragenter":return xi=Kl(xi,e,t,n,r,s),!0;case"mouseover":return _i=Kl(_i,e,t,n,r,s),!0;case"pointerover":var i=s.pointerId;return Lc.set(i,Kl(Lc.get(i)||null,e,t,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Mc.set(i,Kl(Mc.get(i)||null,e,t,n,r,s)),!0}return!1}function xS(e){var t=lo(e.target);if(t!==null){var n=Mo(t);if(n!==null){if(t=n.tag,t===13){if(t=aS(n),t!==null){e.blockedOn=t,yS(e.priority,function(){gS(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function $d(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=lg(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);ng=r,n.target.dispatchEvent(r),ng=null}else return t=xu(n),t!==null&&Uv(t),e.blockedOn=n,!1;t.shift()}return!0}function uw(e,t,n){$d(e)&&n.delete(t)}function WA(){ag=!1,yi!==null&&$d(yi)&&(yi=null),xi!==null&&$d(xi)&&(xi=null),_i!==null&&$d(_i)&&(_i=null),Lc.forEach(uw),Mc.forEach(uw)}function Yl(e,t){e.blockedOn===t&&(e.blockedOn=null,ag||(ag=!0,Xn.unstable_scheduleCallback(Xn.unstable_NormalPriority,WA)))}function Ic(e){function t(s){return Yl(s,e)}if(0<cd.length){Yl(cd[0],e);for(var n=1;n<cd.length;n++){var r=cd[n];r.blockedOn===e&&(r.blockedOn=null)}}for(yi!==null&&Yl(yi,e),xi!==null&&Yl(xi,e),_i!==null&&Yl(_i,e),Lc.forEach(t),Mc.forEach(t),n=0;n<ii.length;n++)r=ii[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<ii.length&&(n=ii[0],n.blockedOn===null);)xS(n),n.blockedOn===null&&ii.shift()}var Da=Vs.ReactCurrentBatchConfig,oh=!0;function qA(e,t,n,r){var s=st,i=Da.transition;Da.transition=null;try{st=1,Vv(e,t,n,r)}finally{st=s,Da.transition=i}}function HA(e,t,n,r){var s=st,i=Da.transition;Da.transition=null;try{st=4,Vv(e,t,n,r)}finally{st=s,Da.transition=i}}function Vv(e,t,n,r){if(oh){var s=lg(e,t,n,r);if(s===null)rp(e,t,r,ah,n),cw(e,r);else if(VA(s,e,t,n,r))r.stopPropagation();else if(cw(e,r),t&4&&-1<UA.indexOf(e)){for(;s!==null;){var i=xu(s);if(i!==null&&pS(i),i=lg(e,t,n,r),i===null&&rp(e,t,r,ah,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else rp(e,t,r,null,n)}}var ah=null;function lg(e,t,n,r){if(ah=null,e=Fv(r),e=lo(e),e!==null)if(t=Mo(e),t===null)e=null;else if(n=t.tag,n===13){if(e=aS(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return ah=e,null}function _S(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(OA()){case zv:return 1;case dS:return 4;case sh:case LA:return 16;case hS:return 536870912;default:return 16}default:return 16}}var mi=null,Wv=null,Fd=null;function wS(){if(Fd)return Fd;var e,t=Wv,n=t.length,r,s="value"in mi?mi.value:mi.textContent,i=s.length;for(e=0;e<n&&t[e]===s[e];e++);var a=n-e;for(r=1;r<=a&&t[n-r]===s[i-r];r++);return Fd=s.slice(e,1<r?1-r:void 0)}function zd(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ud(){return!0}function dw(){return!1}function er(e){function t(n,r,s,i,a){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=a,this.currentTarget=null;for(var c in e)e.hasOwnProperty(c)&&(n=e[c],this[c]=n?n(i):i[c]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?ud:dw,this.isPropagationStopped=dw,this}return yt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ud)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ud)},persist:function(){},isPersistent:ud}),t}var _l={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},qv=er(_l),yu=yt({},_l,{view:0,detail:0}),GA=er(yu),Zm,Km,Xl,df=yt({},yu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Hv,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Xl&&(Xl&&e.type==="mousemove"?(Zm=e.screenX-Xl.screenX,Km=e.screenY-Xl.screenY):Km=Zm=0,Xl=e),Zm)},movementY:function(e){return"movementY"in e?e.movementY:Km}}),hw=er(df),ZA=yt({},df,{dataTransfer:0}),KA=er(ZA),YA=yt({},yu,{relatedTarget:0}),Ym=er(YA),XA=yt({},_l,{animationName:0,elapsedTime:0,pseudoElement:0}),QA=er(XA),JA=yt({},_l,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),eO=er(JA),tO=yt({},_l,{data:0}),fw=er(tO),nO={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},rO={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},sO={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function iO(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=sO[e])?!!t[e]:!1}function Hv(){return iO}var oO=yt({},yu,{key:function(e){if(e.key){var t=nO[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=zd(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?rO[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Hv,charCode:function(e){return e.type==="keypress"?zd(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?zd(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),aO=er(oO),lO=yt({},df,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),mw=er(lO),cO=yt({},yu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Hv}),uO=er(cO),dO=yt({},_l,{propertyName:0,elapsedTime:0,pseudoElement:0}),hO=er(dO),fO=yt({},df,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),mO=er(fO),pO=[9,13,27,32],Gv=Ls&&"CompositionEvent"in window,xc=null;Ls&&"documentMode"in document&&(xc=document.documentMode);var gO=Ls&&"TextEvent"in window&&!xc,bS=Ls&&(!Gv||xc&&8<xc&&11>=xc),pw=" ",gw=!1;function SS(e,t){switch(e){case"keyup":return pO.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function kS(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ba=!1;function vO(e,t){switch(e){case"compositionend":return kS(t);case"keypress":return t.which!==32?null:(gw=!0,pw);case"textInput":return e=t.data,e===pw&&gw?null:e;default:return null}}function yO(e,t){if(ba)return e==="compositionend"||!Gv&&SS(e,t)?(e=wS(),Fd=Wv=mi=null,ba=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return bS&&t.locale!=="ko"?null:t.data;default:return null}}var xO={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function vw(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!xO[e.type]:t==="textarea"}function NS(e,t,n,r){nS(r),t=lh(t,"onChange"),0<t.length&&(n=new qv("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var _c=null,Dc=null;function _O(e){IS(e,0)}function hf(e){var t=Na(e);if(K1(t))return e}function wO(e,t){if(e==="change")return t}var CS=!1;if(Ls){var Xm;if(Ls){var Qm="oninput"in document;if(!Qm){var yw=document.createElement("div");yw.setAttribute("oninput","return;"),Qm=typeof yw.oninput=="function"}Xm=Qm}else Xm=!1;CS=Xm&&(!document.documentMode||9<document.documentMode)}function xw(){_c&&(_c.detachEvent("onpropertychange",PS),Dc=_c=null)}function PS(e){if(e.propertyName==="value"&&hf(Dc)){var t=[];NS(t,Dc,e,Fv(e)),oS(_O,t)}}function bO(e,t,n){e==="focusin"?(xw(),_c=t,Dc=n,_c.attachEvent("onpropertychange",PS)):e==="focusout"&&xw()}function SO(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return hf(Dc)}function kO(e,t){if(e==="click")return hf(t)}function NO(e,t){if(e==="input"||e==="change")return hf(t)}function CO(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Fr=typeof Object.is=="function"?Object.is:CO;function $c(e,t){if(Fr(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Wp.call(t,s)||!Fr(e[s],t[s]))return!1}return!0}function _w(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ww(e,t){var n=_w(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=_w(n)}}function jS(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?jS(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function TS(){for(var e=window,t=th();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=th(e.document)}return t}function Zv(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function PO(e){var t=TS(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&jS(n.ownerDocument.documentElement,n)){if(r!==null&&Zv(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!e.extend&&i>r&&(s=r,r=i,i=s),s=ww(n,i);var a=ww(n,r);s&&a&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var jO=Ls&&"documentMode"in document&&11>=document.documentMode,Sa=null,cg=null,wc=null,ug=!1;function bw(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;ug||Sa==null||Sa!==th(r)||(r=Sa,"selectionStart"in r&&Zv(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),wc&&$c(wc,r)||(wc=r,r=lh(cg,"onSelect"),0<r.length&&(t=new qv("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Sa)))}function dd(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var ka={animationend:dd("Animation","AnimationEnd"),animationiteration:dd("Animation","AnimationIteration"),animationstart:dd("Animation","AnimationStart"),transitionend:dd("Transition","TransitionEnd")},Jm={},ES={};Ls&&(ES=document.createElement("div").style,"AnimationEvent"in window||(delete ka.animationend.animation,delete ka.animationiteration.animation,delete ka.animationstart.animation),"TransitionEvent"in window||delete ka.transitionend.transition);function ff(e){if(Jm[e])return Jm[e];if(!ka[e])return e;var t=ka[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in ES)return Jm[e]=t[n];return e}var RS=ff("animationend"),AS=ff("animationiteration"),OS=ff("animationstart"),LS=ff("transitionend"),MS=new Map,Sw="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Li(e,t){MS.set(e,t),Lo(t,[e])}for(var ep=0;ep<Sw.length;ep++){var tp=Sw[ep],TO=tp.toLowerCase(),EO=tp[0].toUpperCase()+tp.slice(1);Li(TO,"on"+EO)}Li(RS,"onAnimationEnd");Li(AS,"onAnimationIteration");Li(OS,"onAnimationStart");Li("dblclick","onDoubleClick");Li("focusin","onFocus");Li("focusout","onBlur");Li(LS,"onTransitionEnd");tl("onMouseEnter",["mouseout","mouseover"]);tl("onMouseLeave",["mouseout","mouseover"]);tl("onPointerEnter",["pointerout","pointerover"]);tl("onPointerLeave",["pointerout","pointerover"]);Lo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Lo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Lo("onBeforeInput",["compositionend","keypress","textInput","paste"]);Lo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Lo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Lo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var dc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),RO=new Set("cancel close invalid load scroll toggle".split(" ").concat(dc));function kw(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,TA(r,t,void 0,e),e.currentTarget=null}function IS(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var a=r.length-1;0<=a;a--){var c=r[a],d=c.instance,h=c.currentTarget;if(c=c.listener,d!==i&&s.isPropagationStopped())break e;kw(s,c,h),i=d}else for(a=0;a<r.length;a++){if(c=r[a],d=c.instance,h=c.currentTarget,c=c.listener,d!==i&&s.isPropagationStopped())break e;kw(s,c,h),i=d}}}if(rh)throw e=ig,rh=!1,ig=null,e}function dt(e,t){var n=t[pg];n===void 0&&(n=t[pg]=new Set);var r=e+"__bubble";n.has(r)||(DS(t,e,2,!1),n.add(r))}function np(e,t,n){var r=0;t&&(r|=4),DS(n,e,r,t)}var hd="_reactListening"+Math.random().toString(36).slice(2);function Fc(e){if(!e[hd]){e[hd]=!0,W1.forEach(function(n){n!=="selectionchange"&&(RO.has(n)||np(n,!1,e),np(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[hd]||(t[hd]=!0,np("selectionchange",!1,t))}}function DS(e,t,n,r){switch(_S(t)){case 1:var s=qA;break;case 4:s=HA;break;default:s=Vv}n=s.bind(null,t,n,e),s=void 0,!sg||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function rp(e,t,n,r,s){var i=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var c=r.stateNode.containerInfo;if(c===s||c.nodeType===8&&c.parentNode===s)break;if(a===4)for(a=r.return;a!==null;){var d=a.tag;if((d===3||d===4)&&(d=a.stateNode.containerInfo,d===s||d.nodeType===8&&d.parentNode===s))return;a=a.return}for(;c!==null;){if(a=lo(c),a===null)return;if(d=a.tag,d===5||d===6){r=i=a;continue e}c=c.parentNode}}r=r.return}oS(function(){var h=i,m=Fv(n),g=[];e:{var y=MS.get(e);if(y!==void 0){var v=qv,b=e;switch(e){case"keypress":if(zd(n)===0)break e;case"keydown":case"keyup":v=aO;break;case"focusin":b="focus",v=Ym;break;case"focusout":b="blur",v=Ym;break;case"beforeblur":case"afterblur":v=Ym;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=hw;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=KA;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=uO;break;case RS:case AS:case OS:v=QA;break;case LS:v=hO;break;case"scroll":v=GA;break;case"wheel":v=mO;break;case"copy":case"cut":case"paste":v=eO;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=mw}var x=(t&4)!==0,S=!x&&e==="scroll",N=x?y!==null?y+"Capture":null:y;x=[];for(var w=h,k;w!==null;){k=w;var P=k.stateNode;if(k.tag===5&&P!==null&&(k=P,N!==null&&(P=Oc(w,N),P!=null&&x.push(zc(w,P,k)))),S)break;w=w.return}0<x.length&&(y=new v(y,b,null,n,m),g.push({event:y,listeners:x}))}}if(!(t&7)){e:{if(y=e==="mouseover"||e==="pointerover",v=e==="mouseout"||e==="pointerout",y&&n!==ng&&(b=n.relatedTarget||n.fromElement)&&(lo(b)||b[Ms]))break e;if((v||y)&&(y=m.window===m?m:(y=m.ownerDocument)?y.defaultView||y.parentWindow:window,v?(b=n.relatedTarget||n.toElement,v=h,b=b?lo(b):null,b!==null&&(S=Mo(b),b!==S||b.tag!==5&&b.tag!==6)&&(b=null)):(v=null,b=h),v!==b)){if(x=hw,P="onMouseLeave",N="onMouseEnter",w="mouse",(e==="pointerout"||e==="pointerover")&&(x=mw,P="onPointerLeave",N="onPointerEnter",w="pointer"),S=v==null?y:Na(v),k=b==null?y:Na(b),y=new x(P,w+"leave",v,n,m),y.target=S,y.relatedTarget=k,P=null,lo(m)===h&&(x=new x(N,w+"enter",b,n,m),x.target=k,x.relatedTarget=S,P=x),S=P,v&&b)t:{for(x=v,N=b,w=0,k=x;k;k=ta(k))w++;for(k=0,P=N;P;P=ta(P))k++;for(;0<w-k;)x=ta(x),w--;for(;0<k-w;)N=ta(N),k--;for(;w--;){if(x===N||N!==null&&x===N.alternate)break t;x=ta(x),N=ta(N)}x=null}else x=null;v!==null&&Nw(g,y,v,x,!1),b!==null&&S!==null&&Nw(g,S,b,x,!0)}}e:{if(y=h?Na(h):window,v=y.nodeName&&y.nodeName.toLowerCase(),v==="select"||v==="input"&&y.type==="file")var T=wO;else if(vw(y))if(CS)T=NO;else{T=SO;var R=bO}else(v=y.nodeName)&&v.toLowerCase()==="input"&&(y.type==="checkbox"||y.type==="radio")&&(T=kO);if(T&&(T=T(e,h))){NS(g,T,n,m);break e}R&&R(e,y,h),e==="focusout"&&(R=y._wrapperState)&&R.controlled&&y.type==="number"&&Xp(y,"number",y.value)}switch(R=h?Na(h):window,e){case"focusin":(vw(R)||R.contentEditable==="true")&&(Sa=R,cg=h,wc=null);break;case"focusout":wc=cg=Sa=null;break;case"mousedown":ug=!0;break;case"contextmenu":case"mouseup":case"dragend":ug=!1,bw(g,n,m);break;case"selectionchange":if(jO)break;case"keydown":case"keyup":bw(g,n,m)}var E;if(Gv)e:{switch(e){case"compositionstart":var M="onCompositionStart";break e;case"compositionend":M="onCompositionEnd";break e;case"compositionupdate":M="onCompositionUpdate";break e}M=void 0}else ba?SS(e,n)&&(M="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(M="onCompositionStart");M&&(bS&&n.locale!=="ko"&&(ba||M!=="onCompositionStart"?M==="onCompositionEnd"&&ba&&(E=wS()):(mi=m,Wv="value"in mi?mi.value:mi.textContent,ba=!0)),R=lh(h,M),0<R.length&&(M=new fw(M,e,null,n,m),g.push({event:M,listeners:R}),E?M.data=E:(E=kS(n),E!==null&&(M.data=E)))),(E=gO?vO(e,n):yO(e,n))&&(h=lh(h,"onBeforeInput"),0<h.length&&(m=new fw("onBeforeInput","beforeinput",null,n,m),g.push({event:m,listeners:h}),m.data=E))}IS(g,t)})}function zc(e,t,n){return{instance:e,listener:t,currentTarget:n}}function lh(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Oc(e,n),i!=null&&r.unshift(zc(e,i,s)),i=Oc(e,t),i!=null&&r.push(zc(e,i,s))),e=e.return}return r}function ta(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Nw(e,t,n,r,s){for(var i=t._reactName,a=[];n!==null&&n!==r;){var c=n,d=c.alternate,h=c.stateNode;if(d!==null&&d===r)break;c.tag===5&&h!==null&&(c=h,s?(d=Oc(n,i),d!=null&&a.unshift(zc(n,d,c))):s||(d=Oc(n,i),d!=null&&a.push(zc(n,d,c)))),n=n.return}a.length!==0&&e.push({event:t,listeners:a})}var AO=/\r\n?/g,OO=/\u0000|\uFFFD/g;function Cw(e){return(typeof e=="string"?e:""+e).replace(AO,`
`).replace(OO,"")}function fd(e,t,n){if(t=Cw(t),Cw(e)!==t&&n)throw Error(ne(425))}function ch(){}var dg=null,hg=null;function fg(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var mg=typeof setTimeout=="function"?setTimeout:void 0,LO=typeof clearTimeout=="function"?clearTimeout:void 0,Pw=typeof Promise=="function"?Promise:void 0,MO=typeof queueMicrotask=="function"?queueMicrotask:typeof Pw<"u"?function(e){return Pw.resolve(null).then(e).catch(IO)}:mg;function IO(e){setTimeout(function(){throw e})}function sp(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),Ic(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Ic(t)}function wi(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function jw(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var wl=Math.random().toString(36).slice(2),rs="__reactFiber$"+wl,Bc="__reactProps$"+wl,Ms="__reactContainer$"+wl,pg="__reactEvents$"+wl,DO="__reactListeners$"+wl,$O="__reactHandles$"+wl;function lo(e){var t=e[rs];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Ms]||n[rs]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=jw(e);e!==null;){if(n=e[rs])return n;e=jw(e)}return t}e=n,n=e.parentNode}return null}function xu(e){return e=e[rs]||e[Ms],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Na(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(ne(33))}function mf(e){return e[Bc]||null}var gg=[],Ca=-1;function Mi(e){return{current:e}}function ht(e){0>Ca||(e.current=gg[Ca],gg[Ca]=null,Ca--)}function lt(e,t){Ca++,gg[Ca]=e.current,e.current=t}var Ti={},an=Mi(Ti),An=Mi(!1),bo=Ti;function nl(e,t){var n=e.type.contextTypes;if(!n)return Ti;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function On(e){return e=e.childContextTypes,e!=null}function uh(){ht(An),ht(an)}function Tw(e,t,n){if(an.current!==Ti)throw Error(ne(168));lt(an,t),lt(An,n)}function $S(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(ne(108,bA(e)||"Unknown",s));return yt({},n,r)}function dh(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ti,bo=an.current,lt(an,e),lt(An,An.current),!0}function Ew(e,t,n){var r=e.stateNode;if(!r)throw Error(ne(169));n?(e=$S(e,t,bo),r.__reactInternalMemoizedMergedChildContext=e,ht(An),ht(an),lt(an,e)):ht(An),lt(An,n)}var Cs=null,pf=!1,ip=!1;function FS(e){Cs===null?Cs=[e]:Cs.push(e)}function FO(e){pf=!0,FS(e)}function Ii(){if(!ip&&Cs!==null){ip=!0;var e=0,t=st;try{var n=Cs;for(st=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Cs=null,pf=!1}catch(s){throw Cs!==null&&(Cs=Cs.slice(e+1)),uS(zv,Ii),s}finally{st=t,ip=!1}}return null}var Pa=[],ja=0,hh=null,fh=0,or=[],ar=0,So=null,Es=1,Rs="";function Xi(e,t){Pa[ja++]=fh,Pa[ja++]=hh,hh=e,fh=t}function zS(e,t,n){or[ar++]=Es,or[ar++]=Rs,or[ar++]=So,So=e;var r=Es;e=Rs;var s=32-Mr(r)-1;r&=~(1<<s),n+=1;var i=32-Mr(t)+s;if(30<i){var a=s-s%5;i=(r&(1<<a)-1).toString(32),r>>=a,s-=a,Es=1<<32-Mr(t)+s|n<<s|r,Rs=i+e}else Es=1<<i|n<<s|r,Rs=e}function Kv(e){e.return!==null&&(Xi(e,1),zS(e,1,0))}function Yv(e){for(;e===hh;)hh=Pa[--ja],Pa[ja]=null,fh=Pa[--ja],Pa[ja]=null;for(;e===So;)So=or[--ar],or[ar]=null,Rs=or[--ar],or[ar]=null,Es=or[--ar],or[ar]=null}var Kn=null,Zn=null,mt=!1,Rr=null;function BS(e,t){var n=lr(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Rw(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Kn=e,Zn=wi(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Kn=e,Zn=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=So!==null?{id:Es,overflow:Rs}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=lr(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Kn=e,Zn=null,!0):!1;default:return!1}}function vg(e){return(e.mode&1)!==0&&(e.flags&128)===0}function yg(e){if(mt){var t=Zn;if(t){var n=t;if(!Rw(e,t)){if(vg(e))throw Error(ne(418));t=wi(n.nextSibling);var r=Kn;t&&Rw(e,t)?BS(r,n):(e.flags=e.flags&-4097|2,mt=!1,Kn=e)}}else{if(vg(e))throw Error(ne(418));e.flags=e.flags&-4097|2,mt=!1,Kn=e}}}function Aw(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Kn=e}function md(e){if(e!==Kn)return!1;if(!mt)return Aw(e),mt=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!fg(e.type,e.memoizedProps)),t&&(t=Zn)){if(vg(e))throw US(),Error(ne(418));for(;t;)BS(e,t),t=wi(t.nextSibling)}if(Aw(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(ne(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Zn=wi(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Zn=null}}else Zn=Kn?wi(e.stateNode.nextSibling):null;return!0}function US(){for(var e=Zn;e;)e=wi(e.nextSibling)}function rl(){Zn=Kn=null,mt=!1}function Xv(e){Rr===null?Rr=[e]:Rr.push(e)}var zO=Vs.ReactCurrentBatchConfig;function Ql(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(ne(309));var r=n.stateNode}if(!r)throw Error(ne(147,e));var s=r,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(a){var c=s.refs;a===null?delete c[i]:c[i]=a},t._stringRef=i,t)}if(typeof e!="string")throw Error(ne(284));if(!n._owner)throw Error(ne(290,e))}return e}function pd(e,t){throw e=Object.prototype.toString.call(t),Error(ne(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Ow(e){var t=e._init;return t(e._payload)}function VS(e){function t(N,w){if(e){var k=N.deletions;k===null?(N.deletions=[w],N.flags|=16):k.push(w)}}function n(N,w){if(!e)return null;for(;w!==null;)t(N,w),w=w.sibling;return null}function r(N,w){for(N=new Map;w!==null;)w.key!==null?N.set(w.key,w):N.set(w.index,w),w=w.sibling;return N}function s(N,w){return N=Ni(N,w),N.index=0,N.sibling=null,N}function i(N,w,k){return N.index=k,e?(k=N.alternate,k!==null?(k=k.index,k<w?(N.flags|=2,w):k):(N.flags|=2,w)):(N.flags|=1048576,w)}function a(N){return e&&N.alternate===null&&(N.flags|=2),N}function c(N,w,k,P){return w===null||w.tag!==6?(w=hp(k,N.mode,P),w.return=N,w):(w=s(w,k),w.return=N,w)}function d(N,w,k,P){var T=k.type;return T===wa?m(N,w,k.props.children,P,k.key):w!==null&&(w.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===ei&&Ow(T)===w.type)?(P=s(w,k.props),P.ref=Ql(N,w,k),P.return=N,P):(P=Gd(k.type,k.key,k.props,null,N.mode,P),P.ref=Ql(N,w,k),P.return=N,P)}function h(N,w,k,P){return w===null||w.tag!==4||w.stateNode.containerInfo!==k.containerInfo||w.stateNode.implementation!==k.implementation?(w=fp(k,N.mode,P),w.return=N,w):(w=s(w,k.children||[]),w.return=N,w)}function m(N,w,k,P,T){return w===null||w.tag!==7?(w=wo(k,N.mode,P,T),w.return=N,w):(w=s(w,k),w.return=N,w)}function g(N,w,k){if(typeof w=="string"&&w!==""||typeof w=="number")return w=hp(""+w,N.mode,k),w.return=N,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case sd:return k=Gd(w.type,w.key,w.props,null,N.mode,k),k.ref=Ql(N,null,w),k.return=N,k;case _a:return w=fp(w,N.mode,k),w.return=N,w;case ei:var P=w._init;return g(N,P(w._payload),k)}if(cc(w)||Gl(w))return w=wo(w,N.mode,k,null),w.return=N,w;pd(N,w)}return null}function y(N,w,k,P){var T=w!==null?w.key:null;if(typeof k=="string"&&k!==""||typeof k=="number")return T!==null?null:c(N,w,""+k,P);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case sd:return k.key===T?d(N,w,k,P):null;case _a:return k.key===T?h(N,w,k,P):null;case ei:return T=k._init,y(N,w,T(k._payload),P)}if(cc(k)||Gl(k))return T!==null?null:m(N,w,k,P,null);pd(N,k)}return null}function v(N,w,k,P,T){if(typeof P=="string"&&P!==""||typeof P=="number")return N=N.get(k)||null,c(w,N,""+P,T);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case sd:return N=N.get(P.key===null?k:P.key)||null,d(w,N,P,T);case _a:return N=N.get(P.key===null?k:P.key)||null,h(w,N,P,T);case ei:var R=P._init;return v(N,w,k,R(P._payload),T)}if(cc(P)||Gl(P))return N=N.get(k)||null,m(w,N,P,T,null);pd(w,P)}return null}function b(N,w,k,P){for(var T=null,R=null,E=w,M=w=0,$=null;E!==null&&M<k.length;M++){E.index>M?($=E,E=null):$=E.sibling;var V=y(N,E,k[M],P);if(V===null){E===null&&(E=$);break}e&&E&&V.alternate===null&&t(N,E),w=i(V,w,M),R===null?T=V:R.sibling=V,R=V,E=$}if(M===k.length)return n(N,E),mt&&Xi(N,M),T;if(E===null){for(;M<k.length;M++)E=g(N,k[M],P),E!==null&&(w=i(E,w,M),R===null?T=E:R.sibling=E,R=E);return mt&&Xi(N,M),T}for(E=r(N,E);M<k.length;M++)$=v(E,N,M,k[M],P),$!==null&&(e&&$.alternate!==null&&E.delete($.key===null?M:$.key),w=i($,w,M),R===null?T=$:R.sibling=$,R=$);return e&&E.forEach(function(Q){return t(N,Q)}),mt&&Xi(N,M),T}function x(N,w,k,P){var T=Gl(k);if(typeof T!="function")throw Error(ne(150));if(k=T.call(k),k==null)throw Error(ne(151));for(var R=T=null,E=w,M=w=0,$=null,V=k.next();E!==null&&!V.done;M++,V=k.next()){E.index>M?($=E,E=null):$=E.sibling;var Q=y(N,E,V.value,P);if(Q===null){E===null&&(E=$);break}e&&E&&Q.alternate===null&&t(N,E),w=i(Q,w,M),R===null?T=Q:R.sibling=Q,R=Q,E=$}if(V.done)return n(N,E),mt&&Xi(N,M),T;if(E===null){for(;!V.done;M++,V=k.next())V=g(N,V.value,P),V!==null&&(w=i(V,w,M),R===null?T=V:R.sibling=V,R=V);return mt&&Xi(N,M),T}for(E=r(N,E);!V.done;M++,V=k.next())V=v(E,N,M,V.value,P),V!==null&&(e&&V.alternate!==null&&E.delete(V.key===null?M:V.key),w=i(V,w,M),R===null?T=V:R.sibling=V,R=V);return e&&E.forEach(function(W){return t(N,W)}),mt&&Xi(N,M),T}function S(N,w,k,P){if(typeof k=="object"&&k!==null&&k.type===wa&&k.key===null&&(k=k.props.children),typeof k=="object"&&k!==null){switch(k.$$typeof){case sd:e:{for(var T=k.key,R=w;R!==null;){if(R.key===T){if(T=k.type,T===wa){if(R.tag===7){n(N,R.sibling),w=s(R,k.props.children),w.return=N,N=w;break e}}else if(R.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===ei&&Ow(T)===R.type){n(N,R.sibling),w=s(R,k.props),w.ref=Ql(N,R,k),w.return=N,N=w;break e}n(N,R);break}else t(N,R);R=R.sibling}k.type===wa?(w=wo(k.props.children,N.mode,P,k.key),w.return=N,N=w):(P=Gd(k.type,k.key,k.props,null,N.mode,P),P.ref=Ql(N,w,k),P.return=N,N=P)}return a(N);case _a:e:{for(R=k.key;w!==null;){if(w.key===R)if(w.tag===4&&w.stateNode.containerInfo===k.containerInfo&&w.stateNode.implementation===k.implementation){n(N,w.sibling),w=s(w,k.children||[]),w.return=N,N=w;break e}else{n(N,w);break}else t(N,w);w=w.sibling}w=fp(k,N.mode,P),w.return=N,N=w}return a(N);case ei:return R=k._init,S(N,w,R(k._payload),P)}if(cc(k))return b(N,w,k,P);if(Gl(k))return x(N,w,k,P);pd(N,k)}return typeof k=="string"&&k!==""||typeof k=="number"?(k=""+k,w!==null&&w.tag===6?(n(N,w.sibling),w=s(w,k),w.return=N,N=w):(n(N,w),w=hp(k,N.mode,P),w.return=N,N=w),a(N)):n(N,w)}return S}var sl=VS(!0),WS=VS(!1),mh=Mi(null),ph=null,Ta=null,Qv=null;function Jv(){Qv=Ta=ph=null}function ey(e){var t=mh.current;ht(mh),e._currentValue=t}function xg(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function $a(e,t){ph=e,Qv=Ta=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Rn=!0),e.firstContext=null)}function hr(e){var t=e._currentValue;if(Qv!==e)if(e={context:e,memoizedValue:t,next:null},Ta===null){if(ph===null)throw Error(ne(308));Ta=e,ph.dependencies={lanes:0,firstContext:e}}else Ta=Ta.next=e;return t}var co=null;function ty(e){co===null?co=[e]:co.push(e)}function qS(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,ty(t)):(n.next=s.next,s.next=n),t.interleaved=n,Is(e,r)}function Is(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var ti=!1;function ny(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function HS(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function As(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function bi(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,Ye&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,Is(e,n)}return s=r.interleaved,s===null?(t.next=t,ty(r)):(t.next=s.next,s.next=t),r.interleaved=t,Is(e,n)}function Bd(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Bv(e,n)}}function Lw(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=a:i=i.next=a,n=n.next}while(n!==null);i===null?s=i=t:i=i.next=t}else s=i=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function gh(e,t,n,r){var s=e.updateQueue;ti=!1;var i=s.firstBaseUpdate,a=s.lastBaseUpdate,c=s.shared.pending;if(c!==null){s.shared.pending=null;var d=c,h=d.next;d.next=null,a===null?i=h:a.next=h,a=d;var m=e.alternate;m!==null&&(m=m.updateQueue,c=m.lastBaseUpdate,c!==a&&(c===null?m.firstBaseUpdate=h:c.next=h,m.lastBaseUpdate=d))}if(i!==null){var g=s.baseState;a=0,m=h=d=null,c=i;do{var y=c.lane,v=c.eventTime;if((r&y)===y){m!==null&&(m=m.next={eventTime:v,lane:0,tag:c.tag,payload:c.payload,callback:c.callback,next:null});e:{var b=e,x=c;switch(y=t,v=n,x.tag){case 1:if(b=x.payload,typeof b=="function"){g=b.call(v,g,y);break e}g=b;break e;case 3:b.flags=b.flags&-65537|128;case 0:if(b=x.payload,y=typeof b=="function"?b.call(v,g,y):b,y==null)break e;g=yt({},g,y);break e;case 2:ti=!0}}c.callback!==null&&c.lane!==0&&(e.flags|=64,y=s.effects,y===null?s.effects=[c]:y.push(c))}else v={eventTime:v,lane:y,tag:c.tag,payload:c.payload,callback:c.callback,next:null},m===null?(h=m=v,d=g):m=m.next=v,a|=y;if(c=c.next,c===null){if(c=s.shared.pending,c===null)break;y=c,c=y.next,y.next=null,s.lastBaseUpdate=y,s.shared.pending=null}}while(!0);if(m===null&&(d=g),s.baseState=d,s.firstBaseUpdate=h,s.lastBaseUpdate=m,t=s.shared.interleaved,t!==null){s=t;do a|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);No|=a,e.lanes=a,e.memoizedState=g}}function Mw(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(ne(191,s));s.call(r)}}}var _u={},ls=Mi(_u),Uc=Mi(_u),Vc=Mi(_u);function uo(e){if(e===_u)throw Error(ne(174));return e}function ry(e,t){switch(lt(Vc,t),lt(Uc,e),lt(ls,_u),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Jp(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Jp(t,e)}ht(ls),lt(ls,t)}function il(){ht(ls),ht(Uc),ht(Vc)}function GS(e){uo(Vc.current);var t=uo(ls.current),n=Jp(t,e.type);t!==n&&(lt(Uc,e),lt(ls,n))}function sy(e){Uc.current===e&&(ht(ls),ht(Uc))}var gt=Mi(0);function vh(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var op=[];function iy(){for(var e=0;e<op.length;e++)op[e]._workInProgressVersionPrimary=null;op.length=0}var Ud=Vs.ReactCurrentDispatcher,ap=Vs.ReactCurrentBatchConfig,ko=0,vt=null,$t=null,Ut=null,yh=!1,bc=!1,Wc=0,BO=0;function tn(){throw Error(ne(321))}function oy(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Fr(e[n],t[n]))return!1;return!0}function ay(e,t,n,r,s,i){if(ko=i,vt=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ud.current=e===null||e.memoizedState===null?qO:HO,e=n(r,s),bc){i=0;do{if(bc=!1,Wc=0,25<=i)throw Error(ne(301));i+=1,Ut=$t=null,t.updateQueue=null,Ud.current=GO,e=n(r,s)}while(bc)}if(Ud.current=xh,t=$t!==null&&$t.next!==null,ko=0,Ut=$t=vt=null,yh=!1,t)throw Error(ne(300));return e}function ly(){var e=Wc!==0;return Wc=0,e}function Jr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ut===null?vt.memoizedState=Ut=e:Ut=Ut.next=e,Ut}function fr(){if($t===null){var e=vt.alternate;e=e!==null?e.memoizedState:null}else e=$t.next;var t=Ut===null?vt.memoizedState:Ut.next;if(t!==null)Ut=t,$t=e;else{if(e===null)throw Error(ne(310));$t=e,e={memoizedState:$t.memoizedState,baseState:$t.baseState,baseQueue:$t.baseQueue,queue:$t.queue,next:null},Ut===null?vt.memoizedState=Ut=e:Ut=Ut.next=e}return Ut}function qc(e,t){return typeof t=="function"?t(e):t}function lp(e){var t=fr(),n=t.queue;if(n===null)throw Error(ne(311));n.lastRenderedReducer=e;var r=$t,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var a=s.next;s.next=i.next,i.next=a}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var c=a=null,d=null,h=i;do{var m=h.lane;if((ko&m)===m)d!==null&&(d=d.next={lane:0,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null}),r=h.hasEagerState?h.eagerState:e(r,h.action);else{var g={lane:m,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null};d===null?(c=d=g,a=r):d=d.next=g,vt.lanes|=m,No|=m}h=h.next}while(h!==null&&h!==i);d===null?a=r:d.next=c,Fr(r,t.memoizedState)||(Rn=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=d,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do i=s.lane,vt.lanes|=i,No|=i,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function cp(e){var t=fr(),n=t.queue;if(n===null)throw Error(ne(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,i=t.memoizedState;if(s!==null){n.pending=null;var a=s=s.next;do i=e(i,a.action),a=a.next;while(a!==s);Fr(i,t.memoizedState)||(Rn=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function ZS(){}function KS(e,t){var n=vt,r=fr(),s=t(),i=!Fr(r.memoizedState,s);if(i&&(r.memoizedState=s,Rn=!0),r=r.queue,cy(QS.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||Ut!==null&&Ut.memoizedState.tag&1){if(n.flags|=2048,Hc(9,XS.bind(null,n,r,s,t),void 0,null),Wt===null)throw Error(ne(349));ko&30||YS(n,t,s)}return s}function YS(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=vt.updateQueue,t===null?(t={lastEffect:null,stores:null},vt.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function XS(e,t,n,r){t.value=n,t.getSnapshot=r,JS(t)&&ek(e)}function QS(e,t,n){return n(function(){JS(t)&&ek(e)})}function JS(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Fr(e,n)}catch{return!0}}function ek(e){var t=Is(e,1);t!==null&&Ir(t,e,1,-1)}function Iw(e){var t=Jr();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:qc,lastRenderedState:e},t.queue=e,e=e.dispatch=WO.bind(null,vt,e),[t.memoizedState,e]}function Hc(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=vt.updateQueue,t===null?(t={lastEffect:null,stores:null},vt.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function tk(){return fr().memoizedState}function Vd(e,t,n,r){var s=Jr();vt.flags|=e,s.memoizedState=Hc(1|t,n,void 0,r===void 0?null:r)}function gf(e,t,n,r){var s=fr();r=r===void 0?null:r;var i=void 0;if($t!==null){var a=$t.memoizedState;if(i=a.destroy,r!==null&&oy(r,a.deps)){s.memoizedState=Hc(t,n,i,r);return}}vt.flags|=e,s.memoizedState=Hc(1|t,n,i,r)}function Dw(e,t){return Vd(8390656,8,e,t)}function cy(e,t){return gf(2048,8,e,t)}function nk(e,t){return gf(4,2,e,t)}function rk(e,t){return gf(4,4,e,t)}function sk(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function ik(e,t,n){return n=n!=null?n.concat([e]):null,gf(4,4,sk.bind(null,t,e),n)}function uy(){}function ok(e,t){var n=fr();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&oy(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function ak(e,t){var n=fr();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&oy(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function lk(e,t,n){return ko&21?(Fr(n,t)||(n=fS(),vt.lanes|=n,No|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Rn=!0),e.memoizedState=n)}function UO(e,t){var n=st;st=n!==0&&4>n?n:4,e(!0);var r=ap.transition;ap.transition={};try{e(!1),t()}finally{st=n,ap.transition=r}}function ck(){return fr().memoizedState}function VO(e,t,n){var r=ki(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},uk(e))dk(t,n);else if(n=qS(e,t,n,r),n!==null){var s=_n();Ir(n,e,r,s),hk(n,t,r)}}function WO(e,t,n){var r=ki(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(uk(e))dk(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var a=t.lastRenderedState,c=i(a,n);if(s.hasEagerState=!0,s.eagerState=c,Fr(c,a)){var d=t.interleaved;d===null?(s.next=s,ty(t)):(s.next=d.next,d.next=s),t.interleaved=s;return}}catch{}finally{}n=qS(e,t,s,r),n!==null&&(s=_n(),Ir(n,e,r,s),hk(n,t,r))}}function uk(e){var t=e.alternate;return e===vt||t!==null&&t===vt}function dk(e,t){bc=yh=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function hk(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Bv(e,n)}}var xh={readContext:hr,useCallback:tn,useContext:tn,useEffect:tn,useImperativeHandle:tn,useInsertionEffect:tn,useLayoutEffect:tn,useMemo:tn,useReducer:tn,useRef:tn,useState:tn,useDebugValue:tn,useDeferredValue:tn,useTransition:tn,useMutableSource:tn,useSyncExternalStore:tn,useId:tn,unstable_isNewReconciler:!1},qO={readContext:hr,useCallback:function(e,t){return Jr().memoizedState=[e,t===void 0?null:t],e},useContext:hr,useEffect:Dw,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Vd(4194308,4,sk.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Vd(4194308,4,e,t)},useInsertionEffect:function(e,t){return Vd(4,2,e,t)},useMemo:function(e,t){var n=Jr();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Jr();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=VO.bind(null,vt,e),[r.memoizedState,e]},useRef:function(e){var t=Jr();return e={current:e},t.memoizedState=e},useState:Iw,useDebugValue:uy,useDeferredValue:function(e){return Jr().memoizedState=e},useTransition:function(){var e=Iw(!1),t=e[0];return e=UO.bind(null,e[1]),Jr().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=vt,s=Jr();if(mt){if(n===void 0)throw Error(ne(407));n=n()}else{if(n=t(),Wt===null)throw Error(ne(349));ko&30||YS(r,t,n)}s.memoizedState=n;var i={value:n,getSnapshot:t};return s.queue=i,Dw(QS.bind(null,r,i,e),[e]),r.flags|=2048,Hc(9,XS.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=Jr(),t=Wt.identifierPrefix;if(mt){var n=Rs,r=Es;n=(r&~(1<<32-Mr(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Wc++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=BO++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},HO={readContext:hr,useCallback:ok,useContext:hr,useEffect:cy,useImperativeHandle:ik,useInsertionEffect:nk,useLayoutEffect:rk,useMemo:ak,useReducer:lp,useRef:tk,useState:function(){return lp(qc)},useDebugValue:uy,useDeferredValue:function(e){var t=fr();return lk(t,$t.memoizedState,e)},useTransition:function(){var e=lp(qc)[0],t=fr().memoizedState;return[e,t]},useMutableSource:ZS,useSyncExternalStore:KS,useId:ck,unstable_isNewReconciler:!1},GO={readContext:hr,useCallback:ok,useContext:hr,useEffect:cy,useImperativeHandle:ik,useInsertionEffect:nk,useLayoutEffect:rk,useMemo:ak,useReducer:cp,useRef:tk,useState:function(){return cp(qc)},useDebugValue:uy,useDeferredValue:function(e){var t=fr();return $t===null?t.memoizedState=e:lk(t,$t.memoizedState,e)},useTransition:function(){var e=cp(qc)[0],t=fr().memoizedState;return[e,t]},useMutableSource:ZS,useSyncExternalStore:KS,useId:ck,unstable_isNewReconciler:!1};function Nr(e,t){if(e&&e.defaultProps){t=yt({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function _g(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:yt({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var vf={isMounted:function(e){return(e=e._reactInternals)?Mo(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=_n(),s=ki(e),i=As(r,s);i.payload=t,n!=null&&(i.callback=n),t=bi(e,i,s),t!==null&&(Ir(t,e,s,r),Bd(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=_n(),s=ki(e),i=As(r,s);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=bi(e,i,s),t!==null&&(Ir(t,e,s,r),Bd(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=_n(),r=ki(e),s=As(n,r);s.tag=2,t!=null&&(s.callback=t),t=bi(e,s,r),t!==null&&(Ir(t,e,r,n),Bd(t,e,r))}};function $w(e,t,n,r,s,i,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,a):t.prototype&&t.prototype.isPureReactComponent?!$c(n,r)||!$c(s,i):!0}function fk(e,t,n){var r=!1,s=Ti,i=t.contextType;return typeof i=="object"&&i!==null?i=hr(i):(s=On(t)?bo:an.current,r=t.contextTypes,i=(r=r!=null)?nl(e,s):Ti),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=vf,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function Fw(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&vf.enqueueReplaceState(t,t.state,null)}function wg(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},ny(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=hr(i):(i=On(t)?bo:an.current,s.context=nl(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(_g(e,t,i,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&vf.enqueueReplaceState(s,s.state,null),gh(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function ol(e,t){try{var n="",r=t;do n+=wA(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function up(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function bg(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var ZO=typeof WeakMap=="function"?WeakMap:Map;function mk(e,t,n){n=As(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){wh||(wh=!0,Ag=r),bg(e,t)},n}function pk(e,t,n){n=As(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){bg(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){bg(e,t),typeof r!="function"&&(Si===null?Si=new Set([this]):Si.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),n}function zw(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new ZO;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=lL.bind(null,e,t,n),t.then(e,e))}function Bw(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Uw(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=As(-1,1),t.tag=2,bi(n,t,1))),n.lanes|=1),e)}var KO=Vs.ReactCurrentOwner,Rn=!1;function mn(e,t,n,r){t.child=e===null?WS(t,null,n,r):sl(t,e.child,n,r)}function Vw(e,t,n,r,s){n=n.render;var i=t.ref;return $a(t,s),r=ay(e,t,n,r,i,s),n=ly(),e!==null&&!Rn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Ds(e,t,s)):(mt&&n&&Kv(t),t.flags|=1,mn(e,t,r,s),t.child)}function Ww(e,t,n,r,s){if(e===null){var i=n.type;return typeof i=="function"&&!yy(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,gk(e,t,i,r,s)):(e=Gd(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var a=i.memoizedProps;if(n=n.compare,n=n!==null?n:$c,n(a,r)&&e.ref===t.ref)return Ds(e,t,s)}return t.flags|=1,e=Ni(i,r),e.ref=t.ref,e.return=t,t.child=e}function gk(e,t,n,r,s){if(e!==null){var i=e.memoizedProps;if($c(i,r)&&e.ref===t.ref)if(Rn=!1,t.pendingProps=r=i,(e.lanes&s)!==0)e.flags&131072&&(Rn=!0);else return t.lanes=e.lanes,Ds(e,t,s)}return Sg(e,t,n,r,s)}function vk(e,t,n){var r=t.pendingProps,s=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},lt(Ra,Vn),Vn|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,lt(Ra,Vn),Vn|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,lt(Ra,Vn),Vn|=r}else i!==null?(r=i.baseLanes|n,t.memoizedState=null):r=n,lt(Ra,Vn),Vn|=r;return mn(e,t,s,n),t.child}function yk(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Sg(e,t,n,r,s){var i=On(n)?bo:an.current;return i=nl(t,i),$a(t,s),n=ay(e,t,n,r,i,s),r=ly(),e!==null&&!Rn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Ds(e,t,s)):(mt&&r&&Kv(t),t.flags|=1,mn(e,t,n,s),t.child)}function qw(e,t,n,r,s){if(On(n)){var i=!0;dh(t)}else i=!1;if($a(t,s),t.stateNode===null)Wd(e,t),fk(t,n,r),wg(t,n,r,s),r=!0;else if(e===null){var a=t.stateNode,c=t.memoizedProps;a.props=c;var d=a.context,h=n.contextType;typeof h=="object"&&h!==null?h=hr(h):(h=On(n)?bo:an.current,h=nl(t,h));var m=n.getDerivedStateFromProps,g=typeof m=="function"||typeof a.getSnapshotBeforeUpdate=="function";g||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(c!==r||d!==h)&&Fw(t,a,r,h),ti=!1;var y=t.memoizedState;a.state=y,gh(t,r,a,s),d=t.memoizedState,c!==r||y!==d||An.current||ti?(typeof m=="function"&&(_g(t,n,m,r),d=t.memoizedState),(c=ti||$w(t,n,c,r,y,d,h))?(g||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=d),a.props=r,a.state=d,a.context=h,r=c):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,HS(e,t),c=t.memoizedProps,h=t.type===t.elementType?c:Nr(t.type,c),a.props=h,g=t.pendingProps,y=a.context,d=n.contextType,typeof d=="object"&&d!==null?d=hr(d):(d=On(n)?bo:an.current,d=nl(t,d));var v=n.getDerivedStateFromProps;(m=typeof v=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(c!==g||y!==d)&&Fw(t,a,r,d),ti=!1,y=t.memoizedState,a.state=y,gh(t,r,a,s);var b=t.memoizedState;c!==g||y!==b||An.current||ti?(typeof v=="function"&&(_g(t,n,v,r),b=t.memoizedState),(h=ti||$w(t,n,h,r,y,b,d)||!1)?(m||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,b,d),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,b,d)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||c===e.memoizedProps&&y===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||c===e.memoizedProps&&y===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=b),a.props=r,a.state=b,a.context=d,r=h):(typeof a.componentDidUpdate!="function"||c===e.memoizedProps&&y===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||c===e.memoizedProps&&y===e.memoizedState||(t.flags|=1024),r=!1)}return kg(e,t,n,r,i,s)}function kg(e,t,n,r,s,i){yk(e,t);var a=(t.flags&128)!==0;if(!r&&!a)return s&&Ew(t,n,!1),Ds(e,t,i);r=t.stateNode,KO.current=t;var c=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&a?(t.child=sl(t,e.child,null,i),t.child=sl(t,null,c,i)):mn(e,t,c,i),t.memoizedState=r.state,s&&Ew(t,n,!0),t.child}function xk(e){var t=e.stateNode;t.pendingContext?Tw(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Tw(e,t.context,!1),ry(e,t.containerInfo)}function Hw(e,t,n,r,s){return rl(),Xv(s),t.flags|=256,mn(e,t,n,r),t.child}var Ng={dehydrated:null,treeContext:null,retryLane:0};function Cg(e){return{baseLanes:e,cachePool:null,transitions:null}}function _k(e,t,n){var r=t.pendingProps,s=gt.current,i=!1,a=(t.flags&128)!==0,c;if((c=a)||(c=e!==null&&e.memoizedState===null?!1:(s&2)!==0),c?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),lt(gt,s&1),e===null)return yg(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(a=r.children,e=r.fallback,i?(r=t.mode,i=t.child,a={mode:"hidden",children:a},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=a):i=_f(a,r,0,null),e=wo(e,r,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Cg(n),t.memoizedState=Ng,e):dy(t,a));if(s=e.memoizedState,s!==null&&(c=s.dehydrated,c!==null))return YO(e,t,a,r,c,s,n);if(i){i=r.fallback,a=t.mode,s=e.child,c=s.sibling;var d={mode:"hidden",children:r.children};return!(a&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=d,t.deletions=null):(r=Ni(s,d),r.subtreeFlags=s.subtreeFlags&14680064),c!==null?i=Ni(c,i):(i=wo(i,a,n,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,a=e.child.memoizedState,a=a===null?Cg(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},i.memoizedState=a,i.childLanes=e.childLanes&~n,t.memoizedState=Ng,r}return i=e.child,e=i.sibling,r=Ni(i,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function dy(e,t){return t=_f({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function gd(e,t,n,r){return r!==null&&Xv(r),sl(t,e.child,null,n),e=dy(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function YO(e,t,n,r,s,i,a){if(n)return t.flags&256?(t.flags&=-257,r=up(Error(ne(422))),gd(e,t,a,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=r.fallback,s=t.mode,r=_f({mode:"visible",children:r.children},s,0,null),i=wo(i,s,a,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,t.mode&1&&sl(t,e.child,null,a),t.child.memoizedState=Cg(a),t.memoizedState=Ng,i);if(!(t.mode&1))return gd(e,t,a,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var c=r.dgst;return r=c,i=Error(ne(419)),r=up(i,r,void 0),gd(e,t,a,r)}if(c=(a&e.childLanes)!==0,Rn||c){if(r=Wt,r!==null){switch(a&-a){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|a)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Is(e,s),Ir(r,e,s,-1))}return vy(),r=up(Error(ne(421))),gd(e,t,a,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=cL.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,Zn=wi(s.nextSibling),Kn=t,mt=!0,Rr=null,e!==null&&(or[ar++]=Es,or[ar++]=Rs,or[ar++]=So,Es=e.id,Rs=e.overflow,So=t),t=dy(t,r.children),t.flags|=4096,t)}function Gw(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),xg(e.return,t,n)}function dp(e,t,n,r,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function wk(e,t,n){var r=t.pendingProps,s=r.revealOrder,i=r.tail;if(mn(e,t,r.children,n),r=gt.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Gw(e,n,t);else if(e.tag===19)Gw(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(lt(gt,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&vh(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),dp(t,!1,s,n,i);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&vh(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}dp(t,!0,n,null,i);break;case"together":dp(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Wd(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ds(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),No|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(ne(153));if(t.child!==null){for(e=t.child,n=Ni(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Ni(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function XO(e,t,n){switch(t.tag){case 3:xk(t),rl();break;case 5:GS(t);break;case 1:On(t.type)&&dh(t);break;case 4:ry(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;lt(mh,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(lt(gt,gt.current&1),t.flags|=128,null):n&t.child.childLanes?_k(e,t,n):(lt(gt,gt.current&1),e=Ds(e,t,n),e!==null?e.sibling:null);lt(gt,gt.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return wk(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),lt(gt,gt.current),r)break;return null;case 22:case 23:return t.lanes=0,vk(e,t,n)}return Ds(e,t,n)}var bk,Pg,Sk,kk;bk=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Pg=function(){};Sk=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,uo(ls.current);var i=null;switch(n){case"input":s=Kp(e,s),r=Kp(e,r),i=[];break;case"select":s=yt({},s,{value:void 0}),r=yt({},r,{value:void 0}),i=[];break;case"textarea":s=Qp(e,s),r=Qp(e,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=ch)}eg(n,r);var a;n=null;for(h in s)if(!r.hasOwnProperty(h)&&s.hasOwnProperty(h)&&s[h]!=null)if(h==="style"){var c=s[h];for(a in c)c.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else h!=="dangerouslySetInnerHTML"&&h!=="children"&&h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&h!=="autoFocus"&&(Rc.hasOwnProperty(h)?i||(i=[]):(i=i||[]).push(h,null));for(h in r){var d=r[h];if(c=s!=null?s[h]:void 0,r.hasOwnProperty(h)&&d!==c&&(d!=null||c!=null))if(h==="style")if(c){for(a in c)!c.hasOwnProperty(a)||d&&d.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in d)d.hasOwnProperty(a)&&c[a]!==d[a]&&(n||(n={}),n[a]=d[a])}else n||(i||(i=[]),i.push(h,n)),n=d;else h==="dangerouslySetInnerHTML"?(d=d?d.__html:void 0,c=c?c.__html:void 0,d!=null&&c!==d&&(i=i||[]).push(h,d)):h==="children"?typeof d!="string"&&typeof d!="number"||(i=i||[]).push(h,""+d):h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&(Rc.hasOwnProperty(h)?(d!=null&&h==="onScroll"&&dt("scroll",e),i||c===d||(i=[])):(i=i||[]).push(h,d))}n&&(i=i||[]).push("style",n);var h=i;(t.updateQueue=h)&&(t.flags|=4)}};kk=function(e,t,n,r){n!==r&&(t.flags|=4)};function Jl(e,t){if(!mt)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function nn(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function QO(e,t,n){var r=t.pendingProps;switch(Yv(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return nn(t),null;case 1:return On(t.type)&&uh(),nn(t),null;case 3:return r=t.stateNode,il(),ht(An),ht(an),iy(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(md(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Rr!==null&&(Mg(Rr),Rr=null))),Pg(e,t),nn(t),null;case 5:sy(t);var s=uo(Vc.current);if(n=t.type,e!==null&&t.stateNode!=null)Sk(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(ne(166));return nn(t),null}if(e=uo(ls.current),md(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[rs]=t,r[Bc]=i,e=(t.mode&1)!==0,n){case"dialog":dt("cancel",r),dt("close",r);break;case"iframe":case"object":case"embed":dt("load",r);break;case"video":case"audio":for(s=0;s<dc.length;s++)dt(dc[s],r);break;case"source":dt("error",r);break;case"img":case"image":case"link":dt("error",r),dt("load",r);break;case"details":dt("toggle",r);break;case"input":nw(r,i),dt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},dt("invalid",r);break;case"textarea":sw(r,i),dt("invalid",r)}eg(n,i),s=null;for(var a in i)if(i.hasOwnProperty(a)){var c=i[a];a==="children"?typeof c=="string"?r.textContent!==c&&(i.suppressHydrationWarning!==!0&&fd(r.textContent,c,e),s=["children",c]):typeof c=="number"&&r.textContent!==""+c&&(i.suppressHydrationWarning!==!0&&fd(r.textContent,c,e),s=["children",""+c]):Rc.hasOwnProperty(a)&&c!=null&&a==="onScroll"&&dt("scroll",r)}switch(n){case"input":id(r),rw(r,i,!0);break;case"textarea":id(r),iw(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=ch)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{a=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Q1(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=a.createElement(n,{is:r.is}):(e=a.createElement(n),n==="select"&&(a=e,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):e=a.createElementNS(e,n),e[rs]=t,e[Bc]=r,bk(e,t,!1,!1),t.stateNode=e;e:{switch(a=tg(n,r),n){case"dialog":dt("cancel",e),dt("close",e),s=r;break;case"iframe":case"object":case"embed":dt("load",e),s=r;break;case"video":case"audio":for(s=0;s<dc.length;s++)dt(dc[s],e);s=r;break;case"source":dt("error",e),s=r;break;case"img":case"image":case"link":dt("error",e),dt("load",e),s=r;break;case"details":dt("toggle",e),s=r;break;case"input":nw(e,r),s=Kp(e,r),dt("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=yt({},r,{value:void 0}),dt("invalid",e);break;case"textarea":sw(e,r),s=Qp(e,r),dt("invalid",e);break;default:s=r}eg(n,s),c=s;for(i in c)if(c.hasOwnProperty(i)){var d=c[i];i==="style"?tS(e,d):i==="dangerouslySetInnerHTML"?(d=d?d.__html:void 0,d!=null&&J1(e,d)):i==="children"?typeof d=="string"?(n!=="textarea"||d!=="")&&Ac(e,d):typeof d=="number"&&Ac(e,""+d):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Rc.hasOwnProperty(i)?d!=null&&i==="onScroll"&&dt("scroll",e):d!=null&&Mv(e,i,d,a))}switch(n){case"input":id(e),rw(e,r,!1);break;case"textarea":id(e),iw(e);break;case"option":r.value!=null&&e.setAttribute("value",""+ji(r.value));break;case"select":e.multiple=!!r.multiple,i=r.value,i!=null?La(e,!!r.multiple,i,!1):r.defaultValue!=null&&La(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=ch)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return nn(t),null;case 6:if(e&&t.stateNode!=null)kk(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(ne(166));if(n=uo(Vc.current),uo(ls.current),md(t)){if(r=t.stateNode,n=t.memoizedProps,r[rs]=t,(i=r.nodeValue!==n)&&(e=Kn,e!==null))switch(e.tag){case 3:fd(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&fd(r.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[rs]=t,t.stateNode=r}return nn(t),null;case 13:if(ht(gt),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(mt&&Zn!==null&&t.mode&1&&!(t.flags&128))US(),rl(),t.flags|=98560,i=!1;else if(i=md(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(ne(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(ne(317));i[rs]=t}else rl(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;nn(t),i=!1}else Rr!==null&&(Mg(Rr),Rr=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||gt.current&1?Ft===0&&(Ft=3):vy())),t.updateQueue!==null&&(t.flags|=4),nn(t),null);case 4:return il(),Pg(e,t),e===null&&Fc(t.stateNode.containerInfo),nn(t),null;case 10:return ey(t.type._context),nn(t),null;case 17:return On(t.type)&&uh(),nn(t),null;case 19:if(ht(gt),i=t.memoizedState,i===null)return nn(t),null;if(r=(t.flags&128)!==0,a=i.rendering,a===null)if(r)Jl(i,!1);else{if(Ft!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=vh(e),a!==null){for(t.flags|=128,Jl(i,!1),r=a.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)i=n,e=r,i.flags&=14680066,a=i.alternate,a===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,e=a.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return lt(gt,gt.current&1|2),t.child}e=e.sibling}i.tail!==null&&jt()>al&&(t.flags|=128,r=!0,Jl(i,!1),t.lanes=4194304)}else{if(!r)if(e=vh(a),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Jl(i,!0),i.tail===null&&i.tailMode==="hidden"&&!a.alternate&&!mt)return nn(t),null}else 2*jt()-i.renderingStartTime>al&&n!==1073741824&&(t.flags|=128,r=!0,Jl(i,!1),t.lanes=4194304);i.isBackwards?(a.sibling=t.child,t.child=a):(n=i.last,n!==null?n.sibling=a:t.child=a,i.last=a)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=jt(),t.sibling=null,n=gt.current,lt(gt,r?n&1|2:n&1),t):(nn(t),null);case 22:case 23:return gy(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Vn&1073741824&&(nn(t),t.subtreeFlags&6&&(t.flags|=8192)):nn(t),null;case 24:return null;case 25:return null}throw Error(ne(156,t.tag))}function JO(e,t){switch(Yv(t),t.tag){case 1:return On(t.type)&&uh(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return il(),ht(An),ht(an),iy(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return sy(t),null;case 13:if(ht(gt),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(ne(340));rl()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ht(gt),null;case 4:return il(),null;case 10:return ey(t.type._context),null;case 22:case 23:return gy(),null;case 24:return null;default:return null}}var vd=!1,sn=!1,eL=typeof WeakSet=="function"?WeakSet:Set,ye=null;function Ea(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){St(e,t,r)}else n.current=null}function jg(e,t,n){try{n()}catch(r){St(e,t,r)}}var Zw=!1;function tL(e,t){if(dg=oh,e=TS(),Zv(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var a=0,c=-1,d=-1,h=0,m=0,g=e,y=null;t:for(;;){for(var v;g!==n||s!==0&&g.nodeType!==3||(c=a+s),g!==i||r!==0&&g.nodeType!==3||(d=a+r),g.nodeType===3&&(a+=g.nodeValue.length),(v=g.firstChild)!==null;)y=g,g=v;for(;;){if(g===e)break t;if(y===n&&++h===s&&(c=a),y===i&&++m===r&&(d=a),(v=g.nextSibling)!==null)break;g=y,y=g.parentNode}g=v}n=c===-1||d===-1?null:{start:c,end:d}}else n=null}n=n||{start:0,end:0}}else n=null;for(hg={focusedElem:e,selectionRange:n},oh=!1,ye=t;ye!==null;)if(t=ye,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,ye=e;else for(;ye!==null;){t=ye;try{var b=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(b!==null){var x=b.memoizedProps,S=b.memoizedState,N=t.stateNode,w=N.getSnapshotBeforeUpdate(t.elementType===t.type?x:Nr(t.type,x),S);N.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var k=t.stateNode.containerInfo;k.nodeType===1?k.textContent="":k.nodeType===9&&k.documentElement&&k.removeChild(k.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ne(163))}}catch(P){St(t,t.return,P)}if(e=t.sibling,e!==null){e.return=t.return,ye=e;break}ye=t.return}return b=Zw,Zw=!1,b}function Sc(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&jg(t,n,i)}s=s.next}while(s!==r)}}function yf(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Tg(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Nk(e){var t=e.alternate;t!==null&&(e.alternate=null,Nk(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[rs],delete t[Bc],delete t[pg],delete t[DO],delete t[$O])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Ck(e){return e.tag===5||e.tag===3||e.tag===4}function Kw(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Ck(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Eg(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=ch));else if(r!==4&&(e=e.child,e!==null))for(Eg(e,t,n),e=e.sibling;e!==null;)Eg(e,t,n),e=e.sibling}function Rg(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Rg(e,t,n),e=e.sibling;e!==null;)Rg(e,t,n),e=e.sibling}var Yt=null,Tr=!1;function Ks(e,t,n){for(n=n.child;n!==null;)Pk(e,t,n),n=n.sibling}function Pk(e,t,n){if(as&&typeof as.onCommitFiberUnmount=="function")try{as.onCommitFiberUnmount(uf,n)}catch{}switch(n.tag){case 5:sn||Ea(n,t);case 6:var r=Yt,s=Tr;Yt=null,Ks(e,t,n),Yt=r,Tr=s,Yt!==null&&(Tr?(e=Yt,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Yt.removeChild(n.stateNode));break;case 18:Yt!==null&&(Tr?(e=Yt,n=n.stateNode,e.nodeType===8?sp(e.parentNode,n):e.nodeType===1&&sp(e,n),Ic(e)):sp(Yt,n.stateNode));break;case 4:r=Yt,s=Tr,Yt=n.stateNode.containerInfo,Tr=!0,Ks(e,t,n),Yt=r,Tr=s;break;case 0:case 11:case 14:case 15:if(!sn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,a=i.destroy;i=i.tag,a!==void 0&&(i&2||i&4)&&jg(n,t,a),s=s.next}while(s!==r)}Ks(e,t,n);break;case 1:if(!sn&&(Ea(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(c){St(n,t,c)}Ks(e,t,n);break;case 21:Ks(e,t,n);break;case 22:n.mode&1?(sn=(r=sn)||n.memoizedState!==null,Ks(e,t,n),sn=r):Ks(e,t,n);break;default:Ks(e,t,n)}}function Yw(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new eL),t.forEach(function(r){var s=uL.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function wr(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=e,a=t,c=a;e:for(;c!==null;){switch(c.tag){case 5:Yt=c.stateNode,Tr=!1;break e;case 3:Yt=c.stateNode.containerInfo,Tr=!0;break e;case 4:Yt=c.stateNode.containerInfo,Tr=!0;break e}c=c.return}if(Yt===null)throw Error(ne(160));Pk(i,a,s),Yt=null,Tr=!1;var d=s.alternate;d!==null&&(d.return=null),s.return=null}catch(h){St(s,t,h)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)jk(t,e),t=t.sibling}function jk(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(wr(t,e),Xr(e),r&4){try{Sc(3,e,e.return),yf(3,e)}catch(x){St(e,e.return,x)}try{Sc(5,e,e.return)}catch(x){St(e,e.return,x)}}break;case 1:wr(t,e),Xr(e),r&512&&n!==null&&Ea(n,n.return);break;case 5:if(wr(t,e),Xr(e),r&512&&n!==null&&Ea(n,n.return),e.flags&32){var s=e.stateNode;try{Ac(s,"")}catch(x){St(e,e.return,x)}}if(r&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,a=n!==null?n.memoizedProps:i,c=e.type,d=e.updateQueue;if(e.updateQueue=null,d!==null)try{c==="input"&&i.type==="radio"&&i.name!=null&&Y1(s,i),tg(c,a);var h=tg(c,i);for(a=0;a<d.length;a+=2){var m=d[a],g=d[a+1];m==="style"?tS(s,g):m==="dangerouslySetInnerHTML"?J1(s,g):m==="children"?Ac(s,g):Mv(s,m,g,h)}switch(c){case"input":Yp(s,i);break;case"textarea":X1(s,i);break;case"select":var y=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var v=i.value;v!=null?La(s,!!i.multiple,v,!1):y!==!!i.multiple&&(i.defaultValue!=null?La(s,!!i.multiple,i.defaultValue,!0):La(s,!!i.multiple,i.multiple?[]:"",!1))}s[Bc]=i}catch(x){St(e,e.return,x)}}break;case 6:if(wr(t,e),Xr(e),r&4){if(e.stateNode===null)throw Error(ne(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(x){St(e,e.return,x)}}break;case 3:if(wr(t,e),Xr(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Ic(t.containerInfo)}catch(x){St(e,e.return,x)}break;case 4:wr(t,e),Xr(e);break;case 13:wr(t,e),Xr(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(my=jt())),r&4&&Yw(e);break;case 22:if(m=n!==null&&n.memoizedState!==null,e.mode&1?(sn=(h=sn)||m,wr(t,e),sn=h):wr(t,e),Xr(e),r&8192){if(h=e.memoizedState!==null,(e.stateNode.isHidden=h)&&!m&&e.mode&1)for(ye=e,m=e.child;m!==null;){for(g=ye=m;ye!==null;){switch(y=ye,v=y.child,y.tag){case 0:case 11:case 14:case 15:Sc(4,y,y.return);break;case 1:Ea(y,y.return);var b=y.stateNode;if(typeof b.componentWillUnmount=="function"){r=y,n=y.return;try{t=r,b.props=t.memoizedProps,b.state=t.memoizedState,b.componentWillUnmount()}catch(x){St(r,n,x)}}break;case 5:Ea(y,y.return);break;case 22:if(y.memoizedState!==null){Qw(g);continue}}v!==null?(v.return=y,ye=v):Qw(g)}m=m.sibling}e:for(m=null,g=e;;){if(g.tag===5){if(m===null){m=g;try{s=g.stateNode,h?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(c=g.stateNode,d=g.memoizedProps.style,a=d!=null&&d.hasOwnProperty("display")?d.display:null,c.style.display=eS("display",a))}catch(x){St(e,e.return,x)}}}else if(g.tag===6){if(m===null)try{g.stateNode.nodeValue=h?"":g.memoizedProps}catch(x){St(e,e.return,x)}}else if((g.tag!==22&&g.tag!==23||g.memoizedState===null||g===e)&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===e)break e;for(;g.sibling===null;){if(g.return===null||g.return===e)break e;m===g&&(m=null),g=g.return}m===g&&(m=null),g.sibling.return=g.return,g=g.sibling}}break;case 19:wr(t,e),Xr(e),r&4&&Yw(e);break;case 21:break;default:wr(t,e),Xr(e)}}function Xr(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Ck(n)){var r=n;break e}n=n.return}throw Error(ne(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Ac(s,""),r.flags&=-33);var i=Kw(e);Rg(e,i,s);break;case 3:case 4:var a=r.stateNode.containerInfo,c=Kw(e);Eg(e,c,a);break;default:throw Error(ne(161))}}catch(d){St(e,e.return,d)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function nL(e,t,n){ye=e,Tk(e)}function Tk(e,t,n){for(var r=(e.mode&1)!==0;ye!==null;){var s=ye,i=s.child;if(s.tag===22&&r){var a=s.memoizedState!==null||vd;if(!a){var c=s.alternate,d=c!==null&&c.memoizedState!==null||sn;c=vd;var h=sn;if(vd=a,(sn=d)&&!h)for(ye=s;ye!==null;)a=ye,d=a.child,a.tag===22&&a.memoizedState!==null?Jw(s):d!==null?(d.return=a,ye=d):Jw(s);for(;i!==null;)ye=i,Tk(i),i=i.sibling;ye=s,vd=c,sn=h}Xw(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,ye=i):Xw(e)}}function Xw(e){for(;ye!==null;){var t=ye;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:sn||yf(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!sn)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:Nr(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&Mw(t,i,r);break;case 3:var a=t.updateQueue;if(a!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Mw(t,a,n)}break;case 5:var c=t.stateNode;if(n===null&&t.flags&4){n=c;var d=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":d.autoFocus&&n.focus();break;case"img":d.src&&(n.src=d.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var h=t.alternate;if(h!==null){var m=h.memoizedState;if(m!==null){var g=m.dehydrated;g!==null&&Ic(g)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ne(163))}sn||t.flags&512&&Tg(t)}catch(y){St(t,t.return,y)}}if(t===e){ye=null;break}if(n=t.sibling,n!==null){n.return=t.return,ye=n;break}ye=t.return}}function Qw(e){for(;ye!==null;){var t=ye;if(t===e){ye=null;break}var n=t.sibling;if(n!==null){n.return=t.return,ye=n;break}ye=t.return}}function Jw(e){for(;ye!==null;){var t=ye;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{yf(4,t)}catch(d){St(t,n,d)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(d){St(t,s,d)}}var i=t.return;try{Tg(t)}catch(d){St(t,i,d)}break;case 5:var a=t.return;try{Tg(t)}catch(d){St(t,a,d)}}}catch(d){St(t,t.return,d)}if(t===e){ye=null;break}var c=t.sibling;if(c!==null){c.return=t.return,ye=c;break}ye=t.return}}var rL=Math.ceil,_h=Vs.ReactCurrentDispatcher,hy=Vs.ReactCurrentOwner,ur=Vs.ReactCurrentBatchConfig,Ye=0,Wt=null,Mt=null,Xt=0,Vn=0,Ra=Mi(0),Ft=0,Gc=null,No=0,xf=0,fy=0,kc=null,En=null,my=0,al=1/0,ks=null,wh=!1,Ag=null,Si=null,yd=!1,pi=null,bh=0,Nc=0,Og=null,qd=-1,Hd=0;function _n(){return Ye&6?jt():qd!==-1?qd:qd=jt()}function ki(e){return e.mode&1?Ye&2&&Xt!==0?Xt&-Xt:zO.transition!==null?(Hd===0&&(Hd=fS()),Hd):(e=st,e!==0||(e=window.event,e=e===void 0?16:_S(e.type)),e):1}function Ir(e,t,n,r){if(50<Nc)throw Nc=0,Og=null,Error(ne(185));vu(e,n,r),(!(Ye&2)||e!==Wt)&&(e===Wt&&(!(Ye&2)&&(xf|=n),Ft===4&&oi(e,Xt)),Ln(e,r),n===1&&Ye===0&&!(t.mode&1)&&(al=jt()+500,pf&&Ii()))}function Ln(e,t){var n=e.callbackNode;zA(e,t);var r=ih(e,e===Wt?Xt:0);if(r===0)n!==null&&lw(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&lw(n),t===1)e.tag===0?FO(e0.bind(null,e)):FS(e0.bind(null,e)),MO(function(){!(Ye&6)&&Ii()}),n=null;else{switch(mS(r)){case 1:n=zv;break;case 4:n=dS;break;case 16:n=sh;break;case 536870912:n=hS;break;default:n=sh}n=Dk(n,Ek.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Ek(e,t){if(qd=-1,Hd=0,Ye&6)throw Error(ne(327));var n=e.callbackNode;if(Fa()&&e.callbackNode!==n)return null;var r=ih(e,e===Wt?Xt:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Sh(e,r);else{t=r;var s=Ye;Ye|=2;var i=Ak();(Wt!==e||Xt!==t)&&(ks=null,al=jt()+500,_o(e,t));do try{oL();break}catch(c){Rk(e,c)}while(!0);Jv(),_h.current=i,Ye=s,Mt!==null?t=0:(Wt=null,Xt=0,t=Ft)}if(t!==0){if(t===2&&(s=og(e),s!==0&&(r=s,t=Lg(e,s))),t===1)throw n=Gc,_o(e,0),oi(e,r),Ln(e,jt()),n;if(t===6)oi(e,r);else{if(s=e.current.alternate,!(r&30)&&!sL(s)&&(t=Sh(e,r),t===2&&(i=og(e),i!==0&&(r=i,t=Lg(e,i))),t===1))throw n=Gc,_o(e,0),oi(e,r),Ln(e,jt()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(ne(345));case 2:Qi(e,En,ks);break;case 3:if(oi(e,r),(r&130023424)===r&&(t=my+500-jt(),10<t)){if(ih(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){_n(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=mg(Qi.bind(null,e,En,ks),t);break}Qi(e,En,ks);break;case 4:if(oi(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var a=31-Mr(r);i=1<<a,a=t[a],a>s&&(s=a),r&=~i}if(r=s,r=jt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*rL(r/1960))-r,10<r){e.timeoutHandle=mg(Qi.bind(null,e,En,ks),r);break}Qi(e,En,ks);break;case 5:Qi(e,En,ks);break;default:throw Error(ne(329))}}}return Ln(e,jt()),e.callbackNode===n?Ek.bind(null,e):null}function Lg(e,t){var n=kc;return e.current.memoizedState.isDehydrated&&(_o(e,t).flags|=256),e=Sh(e,t),e!==2&&(t=En,En=n,t!==null&&Mg(t)),e}function Mg(e){En===null?En=e:En.push.apply(En,e)}function sL(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!Fr(i(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function oi(e,t){for(t&=~fy,t&=~xf,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Mr(t),r=1<<n;e[n]=-1,t&=~r}}function e0(e){if(Ye&6)throw Error(ne(327));Fa();var t=ih(e,0);if(!(t&1))return Ln(e,jt()),null;var n=Sh(e,t);if(e.tag!==0&&n===2){var r=og(e);r!==0&&(t=r,n=Lg(e,r))}if(n===1)throw n=Gc,_o(e,0),oi(e,t),Ln(e,jt()),n;if(n===6)throw Error(ne(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Qi(e,En,ks),Ln(e,jt()),null}function py(e,t){var n=Ye;Ye|=1;try{return e(t)}finally{Ye=n,Ye===0&&(al=jt()+500,pf&&Ii())}}function Co(e){pi!==null&&pi.tag===0&&!(Ye&6)&&Fa();var t=Ye;Ye|=1;var n=ur.transition,r=st;try{if(ur.transition=null,st=1,e)return e()}finally{st=r,ur.transition=n,Ye=t,!(Ye&6)&&Ii()}}function gy(){Vn=Ra.current,ht(Ra)}function _o(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,LO(n)),Mt!==null)for(n=Mt.return;n!==null;){var r=n;switch(Yv(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&uh();break;case 3:il(),ht(An),ht(an),iy();break;case 5:sy(r);break;case 4:il();break;case 13:ht(gt);break;case 19:ht(gt);break;case 10:ey(r.type._context);break;case 22:case 23:gy()}n=n.return}if(Wt=e,Mt=e=Ni(e.current,null),Xt=Vn=t,Ft=0,Gc=null,fy=xf=No=0,En=kc=null,co!==null){for(t=0;t<co.length;t++)if(n=co[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var a=i.next;i.next=s,r.next=a}n.pending=r}co=null}return e}function Rk(e,t){do{var n=Mt;try{if(Jv(),Ud.current=xh,yh){for(var r=vt.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}yh=!1}if(ko=0,Ut=$t=vt=null,bc=!1,Wc=0,hy.current=null,n===null||n.return===null){Ft=1,Gc=t,Mt=null;break}e:{var i=e,a=n.return,c=n,d=t;if(t=Xt,c.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){var h=d,m=c,g=m.tag;if(!(m.mode&1)&&(g===0||g===11||g===15)){var y=m.alternate;y?(m.updateQueue=y.updateQueue,m.memoizedState=y.memoizedState,m.lanes=y.lanes):(m.updateQueue=null,m.memoizedState=null)}var v=Bw(a);if(v!==null){v.flags&=-257,Uw(v,a,c,i,t),v.mode&1&&zw(i,h,t),t=v,d=h;var b=t.updateQueue;if(b===null){var x=new Set;x.add(d),t.updateQueue=x}else b.add(d);break e}else{if(!(t&1)){zw(i,h,t),vy();break e}d=Error(ne(426))}}else if(mt&&c.mode&1){var S=Bw(a);if(S!==null){!(S.flags&65536)&&(S.flags|=256),Uw(S,a,c,i,t),Xv(ol(d,c));break e}}i=d=ol(d,c),Ft!==4&&(Ft=2),kc===null?kc=[i]:kc.push(i),i=a;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var N=mk(i,d,t);Lw(i,N);break e;case 1:c=d;var w=i.type,k=i.stateNode;if(!(i.flags&128)&&(typeof w.getDerivedStateFromError=="function"||k!==null&&typeof k.componentDidCatch=="function"&&(Si===null||!Si.has(k)))){i.flags|=65536,t&=-t,i.lanes|=t;var P=pk(i,c,t);Lw(i,P);break e}}i=i.return}while(i!==null)}Lk(n)}catch(T){t=T,Mt===n&&n!==null&&(Mt=n=n.return);continue}break}while(!0)}function Ak(){var e=_h.current;return _h.current=xh,e===null?xh:e}function vy(){(Ft===0||Ft===3||Ft===2)&&(Ft=4),Wt===null||!(No&268435455)&&!(xf&268435455)||oi(Wt,Xt)}function Sh(e,t){var n=Ye;Ye|=2;var r=Ak();(Wt!==e||Xt!==t)&&(ks=null,_o(e,t));do try{iL();break}catch(s){Rk(e,s)}while(!0);if(Jv(),Ye=n,_h.current=r,Mt!==null)throw Error(ne(261));return Wt=null,Xt=0,Ft}function iL(){for(;Mt!==null;)Ok(Mt)}function oL(){for(;Mt!==null&&!RA();)Ok(Mt)}function Ok(e){var t=Ik(e.alternate,e,Vn);e.memoizedProps=e.pendingProps,t===null?Lk(e):Mt=t,hy.current=null}function Lk(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=JO(n,t),n!==null){n.flags&=32767,Mt=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ft=6,Mt=null;return}}else if(n=QO(n,t,Vn),n!==null){Mt=n;return}if(t=t.sibling,t!==null){Mt=t;return}Mt=t=e}while(t!==null);Ft===0&&(Ft=5)}function Qi(e,t,n){var r=st,s=ur.transition;try{ur.transition=null,st=1,aL(e,t,n,r)}finally{ur.transition=s,st=r}return null}function aL(e,t,n,r){do Fa();while(pi!==null);if(Ye&6)throw Error(ne(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(ne(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(BA(e,i),e===Wt&&(Mt=Wt=null,Xt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||yd||(yd=!0,Dk(sh,function(){return Fa(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=ur.transition,ur.transition=null;var a=st;st=1;var c=Ye;Ye|=4,hy.current=null,tL(e,n),jk(n,e),PO(hg),oh=!!dg,hg=dg=null,e.current=n,nL(n),AA(),Ye=c,st=a,ur.transition=i}else e.current=n;if(yd&&(yd=!1,pi=e,bh=s),i=e.pendingLanes,i===0&&(Si=null),MA(n.stateNode),Ln(e,jt()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(wh)throw wh=!1,e=Ag,Ag=null,e;return bh&1&&e.tag!==0&&Fa(),i=e.pendingLanes,i&1?e===Og?Nc++:(Nc=0,Og=e):Nc=0,Ii(),null}function Fa(){if(pi!==null){var e=mS(bh),t=ur.transition,n=st;try{if(ur.transition=null,st=16>e?16:e,pi===null)var r=!1;else{if(e=pi,pi=null,bh=0,Ye&6)throw Error(ne(331));var s=Ye;for(Ye|=4,ye=e.current;ye!==null;){var i=ye,a=i.child;if(ye.flags&16){var c=i.deletions;if(c!==null){for(var d=0;d<c.length;d++){var h=c[d];for(ye=h;ye!==null;){var m=ye;switch(m.tag){case 0:case 11:case 15:Sc(8,m,i)}var g=m.child;if(g!==null)g.return=m,ye=g;else for(;ye!==null;){m=ye;var y=m.sibling,v=m.return;if(Nk(m),m===h){ye=null;break}if(y!==null){y.return=v,ye=y;break}ye=v}}}var b=i.alternate;if(b!==null){var x=b.child;if(x!==null){b.child=null;do{var S=x.sibling;x.sibling=null,x=S}while(x!==null)}}ye=i}}if(i.subtreeFlags&2064&&a!==null)a.return=i,ye=a;else e:for(;ye!==null;){if(i=ye,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Sc(9,i,i.return)}var N=i.sibling;if(N!==null){N.return=i.return,ye=N;break e}ye=i.return}}var w=e.current;for(ye=w;ye!==null;){a=ye;var k=a.child;if(a.subtreeFlags&2064&&k!==null)k.return=a,ye=k;else e:for(a=w;ye!==null;){if(c=ye,c.flags&2048)try{switch(c.tag){case 0:case 11:case 15:yf(9,c)}}catch(T){St(c,c.return,T)}if(c===a){ye=null;break e}var P=c.sibling;if(P!==null){P.return=c.return,ye=P;break e}ye=c.return}}if(Ye=s,Ii(),as&&typeof as.onPostCommitFiberRoot=="function")try{as.onPostCommitFiberRoot(uf,e)}catch{}r=!0}return r}finally{st=n,ur.transition=t}}return!1}function t0(e,t,n){t=ol(n,t),t=mk(e,t,1),e=bi(e,t,1),t=_n(),e!==null&&(vu(e,1,t),Ln(e,t))}function St(e,t,n){if(e.tag===3)t0(e,e,n);else for(;t!==null;){if(t.tag===3){t0(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Si===null||!Si.has(r))){e=ol(n,e),e=pk(t,e,1),t=bi(t,e,1),e=_n(),t!==null&&(vu(t,1,e),Ln(t,e));break}}t=t.return}}function lL(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=_n(),e.pingedLanes|=e.suspendedLanes&n,Wt===e&&(Xt&n)===n&&(Ft===4||Ft===3&&(Xt&130023424)===Xt&&500>jt()-my?_o(e,0):fy|=n),Ln(e,t)}function Mk(e,t){t===0&&(e.mode&1?(t=ld,ld<<=1,!(ld&130023424)&&(ld=4194304)):t=1);var n=_n();e=Is(e,t),e!==null&&(vu(e,t,n),Ln(e,n))}function cL(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Mk(e,n)}function uL(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(ne(314))}r!==null&&r.delete(t),Mk(e,n)}var Ik;Ik=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||An.current)Rn=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Rn=!1,XO(e,t,n);Rn=!!(e.flags&131072)}else Rn=!1,mt&&t.flags&1048576&&zS(t,fh,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Wd(e,t),e=t.pendingProps;var s=nl(t,an.current);$a(t,n),s=ay(null,t,r,e,s,n);var i=ly();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,On(r)?(i=!0,dh(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,ny(t),s.updater=vf,t.stateNode=s,s._reactInternals=t,wg(t,r,e,n),t=kg(null,t,r,!0,i,n)):(t.tag=0,mt&&i&&Kv(t),mn(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Wd(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=hL(r),e=Nr(r,e),s){case 0:t=Sg(null,t,r,e,n);break e;case 1:t=qw(null,t,r,e,n);break e;case 11:t=Vw(null,t,r,e,n);break e;case 14:t=Ww(null,t,r,Nr(r.type,e),n);break e}throw Error(ne(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Nr(r,s),Sg(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Nr(r,s),qw(e,t,r,s,n);case 3:e:{if(xk(t),e===null)throw Error(ne(387));r=t.pendingProps,i=t.memoizedState,s=i.element,HS(e,t),gh(t,r,null,n);var a=t.memoizedState;if(r=a.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=ol(Error(ne(423)),t),t=Hw(e,t,r,n,s);break e}else if(r!==s){s=ol(Error(ne(424)),t),t=Hw(e,t,r,n,s);break e}else for(Zn=wi(t.stateNode.containerInfo.firstChild),Kn=t,mt=!0,Rr=null,n=WS(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(rl(),r===s){t=Ds(e,t,n);break e}mn(e,t,r,n)}t=t.child}return t;case 5:return GS(t),e===null&&yg(t),r=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,a=s.children,fg(r,s)?a=null:i!==null&&fg(r,i)&&(t.flags|=32),yk(e,t),mn(e,t,a,n),t.child;case 6:return e===null&&yg(t),null;case 13:return _k(e,t,n);case 4:return ry(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=sl(t,null,r,n):mn(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Nr(r,s),Vw(e,t,r,s,n);case 7:return mn(e,t,t.pendingProps,n),t.child;case 8:return mn(e,t,t.pendingProps.children,n),t.child;case 12:return mn(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,i=t.memoizedProps,a=s.value,lt(mh,r._currentValue),r._currentValue=a,i!==null)if(Fr(i.value,a)){if(i.children===s.children&&!An.current){t=Ds(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var c=i.dependencies;if(c!==null){a=i.child;for(var d=c.firstContext;d!==null;){if(d.context===r){if(i.tag===1){d=As(-1,n&-n),d.tag=2;var h=i.updateQueue;if(h!==null){h=h.shared;var m=h.pending;m===null?d.next=d:(d.next=m.next,m.next=d),h.pending=d}}i.lanes|=n,d=i.alternate,d!==null&&(d.lanes|=n),xg(i.return,n,t),c.lanes|=n;break}d=d.next}}else if(i.tag===10)a=i.type===t.type?null:i.child;else if(i.tag===18){if(a=i.return,a===null)throw Error(ne(341));a.lanes|=n,c=a.alternate,c!==null&&(c.lanes|=n),xg(a,n,t),a=i.sibling}else a=i.child;if(a!==null)a.return=i;else for(a=i;a!==null;){if(a===t){a=null;break}if(i=a.sibling,i!==null){i.return=a.return,a=i;break}a=a.return}i=a}mn(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,$a(t,n),s=hr(s),r=r(s),t.flags|=1,mn(e,t,r,n),t.child;case 14:return r=t.type,s=Nr(r,t.pendingProps),s=Nr(r.type,s),Ww(e,t,r,s,n);case 15:return gk(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Nr(r,s),Wd(e,t),t.tag=1,On(r)?(e=!0,dh(t)):e=!1,$a(t,n),fk(t,r,s),wg(t,r,s,n),kg(null,t,r,!0,e,n);case 19:return wk(e,t,n);case 22:return vk(e,t,n)}throw Error(ne(156,t.tag))};function Dk(e,t){return uS(e,t)}function dL(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function lr(e,t,n,r){return new dL(e,t,n,r)}function yy(e){return e=e.prototype,!(!e||!e.isReactComponent)}function hL(e){if(typeof e=="function")return yy(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Dv)return 11;if(e===$v)return 14}return 2}function Ni(e,t){var n=e.alternate;return n===null?(n=lr(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Gd(e,t,n,r,s,i){var a=2;if(r=e,typeof e=="function")yy(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case wa:return wo(n.children,s,i,t);case Iv:a=8,s|=8;break;case qp:return e=lr(12,n,t,s|2),e.elementType=qp,e.lanes=i,e;case Hp:return e=lr(13,n,t,s),e.elementType=Hp,e.lanes=i,e;case Gp:return e=lr(19,n,t,s),e.elementType=Gp,e.lanes=i,e;case G1:return _f(n,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case q1:a=10;break e;case H1:a=9;break e;case Dv:a=11;break e;case $v:a=14;break e;case ei:a=16,r=null;break e}throw Error(ne(130,e==null?e:typeof e,""))}return t=lr(a,n,t,s),t.elementType=e,t.type=r,t.lanes=i,t}function wo(e,t,n,r){return e=lr(7,e,r,t),e.lanes=n,e}function _f(e,t,n,r){return e=lr(22,e,r,t),e.elementType=G1,e.lanes=n,e.stateNode={isHidden:!1},e}function hp(e,t,n){return e=lr(6,e,null,t),e.lanes=n,e}function fp(e,t,n){return t=lr(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function fL(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Gm(0),this.expirationTimes=Gm(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Gm(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function xy(e,t,n,r,s,i,a,c,d){return e=new fL(e,t,n,c,d),t===1?(t=1,i===!0&&(t|=8)):t=0,i=lr(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},ny(i),e}function mL(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:_a,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function $k(e){if(!e)return Ti;e=e._reactInternals;e:{if(Mo(e)!==e||e.tag!==1)throw Error(ne(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(On(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(ne(171))}if(e.tag===1){var n=e.type;if(On(n))return $S(e,n,t)}return t}function Fk(e,t,n,r,s,i,a,c,d){return e=xy(n,r,!0,e,s,i,a,c,d),e.context=$k(null),n=e.current,r=_n(),s=ki(n),i=As(r,s),i.callback=t??null,bi(n,i,s),e.current.lanes=s,vu(e,s,r),Ln(e,r),e}function wf(e,t,n,r){var s=t.current,i=_n(),a=ki(s);return n=$k(n),t.context===null?t.context=n:t.pendingContext=n,t=As(i,a),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=bi(s,t,a),e!==null&&(Ir(e,s,a,i),Bd(e,s,a)),a}function kh(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function n0(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function _y(e,t){n0(e,t),(e=e.alternate)&&n0(e,t)}function pL(){return null}var zk=typeof reportError=="function"?reportError:function(e){console.error(e)};function wy(e){this._internalRoot=e}bf.prototype.render=wy.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(ne(409));wf(e,t,null,null)};bf.prototype.unmount=wy.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Co(function(){wf(null,e,null,null)}),t[Ms]=null}};function bf(e){this._internalRoot=e}bf.prototype.unstable_scheduleHydration=function(e){if(e){var t=vS();e={blockedOn:null,target:e,priority:t};for(var n=0;n<ii.length&&t!==0&&t<ii[n].priority;n++);ii.splice(n,0,e),n===0&&xS(e)}};function by(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Sf(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function r0(){}function gL(e,t,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var h=kh(a);i.call(h)}}var a=Fk(t,r,e,0,null,!1,!1,"",r0);return e._reactRootContainer=a,e[Ms]=a.current,Fc(e.nodeType===8?e.parentNode:e),Co(),a}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var c=r;r=function(){var h=kh(d);c.call(h)}}var d=xy(e,0,!1,null,null,!1,!1,"",r0);return e._reactRootContainer=d,e[Ms]=d.current,Fc(e.nodeType===8?e.parentNode:e),Co(function(){wf(t,d,n,r)}),d}function kf(e,t,n,r,s){var i=n._reactRootContainer;if(i){var a=i;if(typeof s=="function"){var c=s;s=function(){var d=kh(a);c.call(d)}}wf(t,a,e,s)}else a=gL(n,t,e,s,r);return kh(a)}pS=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=uc(t.pendingLanes);n!==0&&(Bv(t,n|1),Ln(t,jt()),!(Ye&6)&&(al=jt()+500,Ii()))}break;case 13:Co(function(){var r=Is(e,1);if(r!==null){var s=_n();Ir(r,e,1,s)}}),_y(e,1)}};Uv=function(e){if(e.tag===13){var t=Is(e,134217728);if(t!==null){var n=_n();Ir(t,e,134217728,n)}_y(e,134217728)}};gS=function(e){if(e.tag===13){var t=ki(e),n=Is(e,t);if(n!==null){var r=_n();Ir(n,e,t,r)}_y(e,t)}};vS=function(){return st};yS=function(e,t){var n=st;try{return st=e,t()}finally{st=n}};rg=function(e,t,n){switch(t){case"input":if(Yp(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=mf(r);if(!s)throw Error(ne(90));K1(r),Yp(r,s)}}}break;case"textarea":X1(e,n);break;case"select":t=n.value,t!=null&&La(e,!!n.multiple,t,!1)}};sS=py;iS=Co;var vL={usingClientEntryPoint:!1,Events:[xu,Na,mf,nS,rS,py]},ec={findFiberByHostInstance:lo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},yL={bundleType:ec.bundleType,version:ec.version,rendererPackageName:ec.rendererPackageName,rendererConfig:ec.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Vs.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=lS(e),e===null?null:e.stateNode},findFiberByHostInstance:ec.findFiberByHostInstance||pL,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var xd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!xd.isDisabled&&xd.supportsFiber)try{uf=xd.inject(yL),as=xd}catch{}}Jn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=vL;Jn.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!by(t))throw Error(ne(200));return mL(e,t,null,n)};Jn.createRoot=function(e,t){if(!by(e))throw Error(ne(299));var n=!1,r="",s=zk;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=xy(e,1,!1,null,null,n,!1,r,s),e[Ms]=t.current,Fc(e.nodeType===8?e.parentNode:e),new wy(t)};Jn.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(ne(188)):(e=Object.keys(e).join(","),Error(ne(268,e)));return e=lS(t),e=e===null?null:e.stateNode,e};Jn.flushSync=function(e){return Co(e)};Jn.hydrate=function(e,t,n){if(!Sf(t))throw Error(ne(200));return kf(null,e,t,!0,n)};Jn.hydrateRoot=function(e,t,n){if(!by(e))throw Error(ne(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",a=zk;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),t=Fk(t,null,e,1,n??null,s,!1,i,a),e[Ms]=t.current,Fc(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new bf(t)};Jn.render=function(e,t,n){if(!Sf(t))throw Error(ne(200));return kf(null,e,t,!1,n)};Jn.unmountComponentAtNode=function(e){if(!Sf(e))throw Error(ne(40));return e._reactRootContainer?(Co(function(){kf(null,null,e,!1,function(){e._reactRootContainer=null,e[Ms]=null})}),!0):!1};Jn.unstable_batchedUpdates=py;Jn.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Sf(n))throw Error(ne(200));if(e==null||e._reactInternals===void 0)throw Error(ne(38));return kf(e,t,n,!1,r)};Jn.version="18.3.1-next-f1338f8080-20240426";function Bk(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Bk)}catch(e){console.error(e)}}Bk(),B1.exports=Jn;var Io=B1.exports;const Uk=Pv(Io);var Vk,s0=Io;Vk=s0.createRoot,s0.hydrateRoot;const xL=1,_L=1e6;let mp=0;function wL(){return mp=(mp+1)%Number.MAX_SAFE_INTEGER,mp.toString()}const pp=new Map,i0=e=>{if(pp.has(e))return;const t=setTimeout(()=>{pp.delete(e),Cc({type:"REMOVE_TOAST",toastId:e})},_L);pp.set(e,t)},bL=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,xL)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(n=>n.id===t.toast.id?{...n,...t.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=t;return n?i0(n):e.toasts.forEach(r=>{i0(r.id)}),{...e,toasts:e.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(n=>n.id!==t.toastId)}}},Zd=[];let Kd={toasts:[]};function Cc(e){Kd=bL(Kd,e),Zd.forEach(t=>{t(Kd)})}function cr({...e}){const t=wL(),n=s=>Cc({type:"UPDATE_TOAST",toast:{...s,id:t}}),r=()=>Cc({type:"DISMISS_TOAST",toastId:t});return Cc({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:s=>{s||r()}}}),{id:t,dismiss:r,update:n}}function SL(){const[e,t]=p.useState(Kd);return p.useEffect(()=>(Zd.push(t),()=>{const n=Zd.indexOf(t);n>-1&&Zd.splice(n,1)}),[e]),{...e,toast:cr,dismiss:n=>Cc({type:"DISMISS_TOAST",toastId:n})}}function ae(e,t,{checkForDefaultPrevented:n=!0}={}){return function(s){if(e==null||e(s),n===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}function o0(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function Nf(...e){return t=>{let n=!1;const r=e.map(s=>{const i=o0(s,t);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let s=0;s<r.length;s++){const i=r[s];typeof i=="function"?i():o0(e[s],null)}}}}function Fe(...e){return p.useCallback(Nf(...e),e)}function kL(e,t){const n=p.createContext(t),r=i=>{const{children:a,...c}=i,d=p.useMemo(()=>c,Object.values(c));return l.jsx(n.Provider,{value:d,children:a})};r.displayName=e+"Provider";function s(i){const a=p.useContext(n);if(a)return a;if(t!==void 0)return t;throw new Error(`\`${i}\` must be used within \`${e}\``)}return[r,s]}function ln(e,t=[]){let n=[];function r(i,a){const c=p.createContext(a),d=n.length;n=[...n,a];const h=g=>{var N;const{scope:y,children:v,...b}=g,x=((N=y==null?void 0:y[e])==null?void 0:N[d])||c,S=p.useMemo(()=>b,Object.values(b));return l.jsx(x.Provider,{value:S,children:v})};h.displayName=i+"Provider";function m(g,y){var x;const v=((x=y==null?void 0:y[e])==null?void 0:x[d])||c,b=p.useContext(v);if(b)return b;if(a!==void 0)return a;throw new Error(`\`${g}\` must be used within \`${i}\``)}return[h,m]}const s=()=>{const i=n.map(a=>p.createContext(a));return function(c){const d=(c==null?void 0:c[e])||i;return p.useMemo(()=>({[`__scope${e}`]:{...c,[e]:d}}),[c,d])}};return s.scopeName=e,[r,NL(s,...t)]}function NL(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const a=r.reduce((c,{useScope:d,scopeName:h})=>{const g=d(i)[`__scope${h}`];return{...c,...g}},{});return p.useMemo(()=>({[`__scope${t.scopeName}`]:a}),[a])}};return n.scopeName=t.scopeName,n}function Po(e){const t=CL(e),n=p.forwardRef((r,s)=>{const{children:i,...a}=r,c=p.Children.toArray(i),d=c.find(PL);if(d){const h=d.props.children,m=c.map(g=>g===d?p.Children.count(h)>1?p.Children.only(null):p.isValidElement(h)?h.props.children:null:g);return l.jsx(t,{...a,ref:s,children:p.isValidElement(h)?p.cloneElement(h,void 0,m):null})}return l.jsx(t,{...a,ref:s,children:i})});return n.displayName=`${e}.Slot`,n}var Do=Po("Slot");function CL(e){const t=p.forwardRef((n,r)=>{const{children:s,...i}=n;if(p.isValidElement(s)){const a=TL(s),c=jL(i,s.props);return s.type!==p.Fragment&&(c.ref=r?Nf(r,a):a),p.cloneElement(s,c)}return p.Children.count(s)>1?p.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Wk=Symbol("radix.slottable");function qk(e){const t=({children:n})=>l.jsx(l.Fragment,{children:n});return t.displayName=`${e}.Slottable`,t.__radixId=Wk,t}function PL(e){return p.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Wk}function jL(e,t){const n={...t};for(const r in t){const s=e[r],i=t[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...c)=>{const d=i(...c);return s(...c),d}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...e,...n}}function TL(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function Cf(e){const t=e+"CollectionProvider",[n,r]=ln(t),[s,i]=n(t,{collectionRef:{current:null},itemMap:new Map}),a=x=>{const{scope:S,children:N}=x,w=Y.useRef(null),k=Y.useRef(new Map).current;return l.jsx(s,{scope:S,itemMap:k,collectionRef:w,children:N})};a.displayName=t;const c=e+"CollectionSlot",d=Po(c),h=Y.forwardRef((x,S)=>{const{scope:N,children:w}=x,k=i(c,N),P=Fe(S,k.collectionRef);return l.jsx(d,{ref:P,children:w})});h.displayName=c;const m=e+"CollectionItemSlot",g="data-radix-collection-item",y=Po(m),v=Y.forwardRef((x,S)=>{const{scope:N,children:w,...k}=x,P=Y.useRef(null),T=Fe(S,P),R=i(m,N);return Y.useEffect(()=>(R.itemMap.set(P,{ref:P,...k}),()=>void R.itemMap.delete(P))),l.jsx(y,{[g]:"",ref:T,children:w})});v.displayName=m;function b(x){const S=i(e+"CollectionConsumer",x);return Y.useCallback(()=>{const w=S.collectionRef.current;if(!w)return[];const k=Array.from(w.querySelectorAll(`[${g}]`));return Array.from(S.itemMap.values()).sort((R,E)=>k.indexOf(R.ref.current)-k.indexOf(E.ref.current))},[S.collectionRef,S.itemMap])}return[{Provider:a,Slot:h,ItemSlot:v},b,r]}var EL=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],be=EL.reduce((e,t)=>{const n=Po(`Primitive.${t}`),r=p.forwardRef((s,i)=>{const{asChild:a,...c}=s,d=a?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),l.jsx(d,{...c,ref:i})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function Sy(e,t){e&&Io.flushSync(()=>e.dispatchEvent(t))}function kt(e){const t=p.useRef(e);return p.useEffect(()=>{t.current=e}),p.useMemo(()=>(...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}function RL(e,t=globalThis==null?void 0:globalThis.document){const n=kt(e);p.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}var AL="DismissableLayer",Ig="dismissableLayer.update",OL="dismissableLayer.pointerDownOutside",LL="dismissableLayer.focusOutside",a0,Hk=p.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),bl=p.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:a,onDismiss:c,...d}=e,h=p.useContext(Hk),[m,g]=p.useState(null),y=(m==null?void 0:m.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,v]=p.useState({}),b=Fe(t,E=>g(E)),x=Array.from(h.layers),[S]=[...h.layersWithOutsidePointerEventsDisabled].slice(-1),N=x.indexOf(S),w=m?x.indexOf(m):-1,k=h.layersWithOutsidePointerEventsDisabled.size>0,P=w>=N,T=IL(E=>{const M=E.target,$=[...h.branches].some(V=>V.contains(M));!P||$||(s==null||s(E),a==null||a(E),E.defaultPrevented||c==null||c())},y),R=DL(E=>{const M=E.target;[...h.branches].some(V=>V.contains(M))||(i==null||i(E),a==null||a(E),E.defaultPrevented||c==null||c())},y);return RL(E=>{w===h.layers.size-1&&(r==null||r(E),!E.defaultPrevented&&c&&(E.preventDefault(),c()))},y),p.useEffect(()=>{if(m)return n&&(h.layersWithOutsidePointerEventsDisabled.size===0&&(a0=y.body.style.pointerEvents,y.body.style.pointerEvents="none"),h.layersWithOutsidePointerEventsDisabled.add(m)),h.layers.add(m),l0(),()=>{n&&h.layersWithOutsidePointerEventsDisabled.size===1&&(y.body.style.pointerEvents=a0)}},[m,y,n,h]),p.useEffect(()=>()=>{m&&(h.layers.delete(m),h.layersWithOutsidePointerEventsDisabled.delete(m),l0())},[m,h]),p.useEffect(()=>{const E=()=>v({});return document.addEventListener(Ig,E),()=>document.removeEventListener(Ig,E)},[]),l.jsx(be.div,{...d,ref:b,style:{pointerEvents:k?P?"auto":"none":void 0,...e.style},onFocusCapture:ae(e.onFocusCapture,R.onFocusCapture),onBlurCapture:ae(e.onBlurCapture,R.onBlurCapture),onPointerDownCapture:ae(e.onPointerDownCapture,T.onPointerDownCapture)})});bl.displayName=AL;var ML="DismissableLayerBranch",Gk=p.forwardRef((e,t)=>{const n=p.useContext(Hk),r=p.useRef(null),s=Fe(t,r);return p.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),l.jsx(be.div,{...e,ref:s})});Gk.displayName=ML;function IL(e,t=globalThis==null?void 0:globalThis.document){const n=kt(e),r=p.useRef(!1),s=p.useRef(()=>{});return p.useEffect(()=>{const i=c=>{if(c.target&&!r.current){let d=function(){Zk(OL,n,h,{discrete:!0})};const h={originalEvent:c};c.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=d,t.addEventListener("click",s.current,{once:!0})):d()}else t.removeEventListener("click",s.current);r.current=!1},a=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(a),t.removeEventListener("pointerdown",i),t.removeEventListener("click",s.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function DL(e,t=globalThis==null?void 0:globalThis.document){const n=kt(e),r=p.useRef(!1);return p.useEffect(()=>{const s=i=>{i.target&&!r.current&&Zk(LL,n,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function l0(){const e=new CustomEvent(Ig);document.dispatchEvent(e)}function Zk(e,t,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&s.addEventListener(e,t,{once:!0}),r?Sy(s,i):s.dispatchEvent(i)}var $L=bl,FL=Gk,Et=globalThis!=null&&globalThis.document?p.useLayoutEffect:()=>{},zL="Portal",wu=p.forwardRef((e,t)=>{var c;const{container:n,...r}=e,[s,i]=p.useState(!1);Et(()=>i(!0),[]);const a=n||s&&((c=globalThis==null?void 0:globalThis.document)==null?void 0:c.body);return a?Uk.createPortal(l.jsx(be.div,{...r,ref:t}),a):null});wu.displayName=zL;function BL(e,t){return p.useReducer((n,r)=>t[n][r]??n,e)}var cn=e=>{const{present:t,children:n}=e,r=UL(t),s=typeof n=="function"?n({present:r.isPresent}):p.Children.only(n),i=Fe(r.ref,VL(s));return typeof n=="function"||r.isPresent?p.cloneElement(s,{ref:i}):null};cn.displayName="Presence";function UL(e){const[t,n]=p.useState(),r=p.useRef(null),s=p.useRef(e),i=p.useRef("none"),a=e?"mounted":"unmounted",[c,d]=BL(a,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return p.useEffect(()=>{const h=_d(r.current);i.current=c==="mounted"?h:"none"},[c]),Et(()=>{const h=r.current,m=s.current;if(m!==e){const y=i.current,v=_d(h);e?d("MOUNT"):v==="none"||(h==null?void 0:h.display)==="none"?d("UNMOUNT"):d(m&&y!==v?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,d]),Et(()=>{if(t){let h;const m=t.ownerDocument.defaultView??window,g=v=>{const x=_d(r.current).includes(v.animationName);if(v.target===t&&x&&(d("ANIMATION_END"),!s.current)){const S=t.style.animationFillMode;t.style.animationFillMode="forwards",h=m.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=S)})}},y=v=>{v.target===t&&(i.current=_d(r.current))};return t.addEventListener("animationstart",y),t.addEventListener("animationcancel",g),t.addEventListener("animationend",g),()=>{m.clearTimeout(h),t.removeEventListener("animationstart",y),t.removeEventListener("animationcancel",g),t.removeEventListener("animationend",g)}}else d("ANIMATION_END")},[t,d]),{isPresent:["mounted","unmountSuspended"].includes(c),ref:p.useCallback(h=>{r.current=h?getComputedStyle(h):null,n(h)},[])}}function _d(e){return(e==null?void 0:e.animationName)||"none"}function VL(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var WL=Av[" useInsertionEffect ".trim().toString()]||Et;function $s({prop:e,defaultProp:t,onChange:n=()=>{},caller:r}){const[s,i,a]=qL({defaultProp:t,onChange:n}),c=e!==void 0,d=c?e:s;{const m=p.useRef(e!==void 0);p.useEffect(()=>{const g=m.current;g!==c&&console.warn(`${r} is changing from ${g?"controlled":"uncontrolled"} to ${c?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),m.current=c},[c,r])}const h=p.useCallback(m=>{var g;if(c){const y=HL(m)?m(e):m;y!==e&&((g=a.current)==null||g.call(a,y))}else i(m)},[c,e,i,a]);return[d,h]}function qL({defaultProp:e,onChange:t}){const[n,r]=p.useState(e),s=p.useRef(n),i=p.useRef(t);return WL(()=>{i.current=t},[t]),p.useEffect(()=>{var a;s.current!==n&&((a=i.current)==null||a.call(i,n),s.current=n)},[n,s]),[n,r,i]}function HL(e){return typeof e=="function"}var Kk=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),GL="VisuallyHidden",Pf=p.forwardRef((e,t)=>l.jsx(be.span,{...e,ref:t,style:{...Kk,...e.style}}));Pf.displayName=GL;var ZL=Pf,ky="ToastProvider",[Ny,KL,YL]=Cf("Toast"),[Yk,J7]=ln("Toast",[YL]),[XL,jf]=Yk(ky),Xk=e=>{const{__scopeToast:t,label:n="Notification",duration:r=5e3,swipeDirection:s="right",swipeThreshold:i=50,children:a}=e,[c,d]=p.useState(null),[h,m]=p.useState(0),g=p.useRef(!1),y=p.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${ky}\`. Expected non-empty \`string\`.`),l.jsx(Ny.Provider,{scope:t,children:l.jsx(XL,{scope:t,label:n,duration:r,swipeDirection:s,swipeThreshold:i,toastCount:h,viewport:c,onViewportChange:d,onToastAdd:p.useCallback(()=>m(v=>v+1),[]),onToastRemove:p.useCallback(()=>m(v=>v-1),[]),isFocusedToastEscapeKeyDownRef:g,isClosePausedRef:y,children:a})})};Xk.displayName=ky;var Qk="ToastViewport",QL=["F8"],Dg="toast.viewportPause",$g="toast.viewportResume",Jk=p.forwardRef((e,t)=>{const{__scopeToast:n,hotkey:r=QL,label:s="Notifications ({hotkey})",...i}=e,a=jf(Qk,n),c=KL(n),d=p.useRef(null),h=p.useRef(null),m=p.useRef(null),g=p.useRef(null),y=Fe(t,g,a.onViewportChange),v=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),b=a.toastCount>0;p.useEffect(()=>{const S=N=>{var k;r.length!==0&&r.every(P=>N[P]||N.code===P)&&((k=g.current)==null||k.focus())};return document.addEventListener("keydown",S),()=>document.removeEventListener("keydown",S)},[r]),p.useEffect(()=>{const S=d.current,N=g.current;if(b&&S&&N){const w=()=>{if(!a.isClosePausedRef.current){const R=new CustomEvent(Dg);N.dispatchEvent(R),a.isClosePausedRef.current=!0}},k=()=>{if(a.isClosePausedRef.current){const R=new CustomEvent($g);N.dispatchEvent(R),a.isClosePausedRef.current=!1}},P=R=>{!S.contains(R.relatedTarget)&&k()},T=()=>{S.contains(document.activeElement)||k()};return S.addEventListener("focusin",w),S.addEventListener("focusout",P),S.addEventListener("pointermove",w),S.addEventListener("pointerleave",T),window.addEventListener("blur",w),window.addEventListener("focus",k),()=>{S.removeEventListener("focusin",w),S.removeEventListener("focusout",P),S.removeEventListener("pointermove",w),S.removeEventListener("pointerleave",T),window.removeEventListener("blur",w),window.removeEventListener("focus",k)}}},[b,a.isClosePausedRef]);const x=p.useCallback(({tabbingDirection:S})=>{const w=c().map(k=>{const P=k.ref.current,T=[P,...dM(P)];return S==="forwards"?T:T.reverse()});return(S==="forwards"?w.reverse():w).flat()},[c]);return p.useEffect(()=>{const S=g.current;if(S){const N=w=>{var T,R,E;const k=w.altKey||w.ctrlKey||w.metaKey;if(w.key==="Tab"&&!k){const M=document.activeElement,$=w.shiftKey;if(w.target===S&&$){(T=h.current)==null||T.focus();return}const W=x({tabbingDirection:$?"backwards":"forwards"}),Z=W.findIndex(B=>B===M);gp(W.slice(Z+1))?w.preventDefault():$?(R=h.current)==null||R.focus():(E=m.current)==null||E.focus()}};return S.addEventListener("keydown",N),()=>S.removeEventListener("keydown",N)}},[c,x]),l.jsxs(FL,{ref:d,role:"region","aria-label":s.replace("{hotkey}",v),tabIndex:-1,style:{pointerEvents:b?void 0:"none"},children:[b&&l.jsx(Fg,{ref:h,onFocusFromOutsideViewport:()=>{const S=x({tabbingDirection:"forwards"});gp(S)}}),l.jsx(Ny.Slot,{scope:n,children:l.jsx(be.ol,{tabIndex:-1,...i,ref:y})}),b&&l.jsx(Fg,{ref:m,onFocusFromOutsideViewport:()=>{const S=x({tabbingDirection:"backwards"});gp(S)}})]})});Jk.displayName=Qk;var eN="ToastFocusProxy",Fg=p.forwardRef((e,t)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...s}=e,i=jf(eN,n);return l.jsx(Pf,{"aria-hidden":!0,tabIndex:0,...s,ref:t,style:{position:"fixed"},onFocus:a=>{var h;const c=a.relatedTarget;!((h=i.viewport)!=null&&h.contains(c))&&r()}})});Fg.displayName=eN;var bu="Toast",JL="toast.swipeStart",eM="toast.swipeMove",tM="toast.swipeCancel",nM="toast.swipeEnd",tN=p.forwardRef((e,t)=>{const{forceMount:n,open:r,defaultOpen:s,onOpenChange:i,...a}=e,[c,d]=$s({prop:r,defaultProp:s??!0,onChange:i,caller:bu});return l.jsx(cn,{present:n||c,children:l.jsx(iM,{open:c,...a,ref:t,onClose:()=>d(!1),onPause:kt(e.onPause),onResume:kt(e.onResume),onSwipeStart:ae(e.onSwipeStart,h=>{h.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:ae(e.onSwipeMove,h=>{const{x:m,y:g}=h.detail.delta;h.currentTarget.setAttribute("data-swipe","move"),h.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${m}px`),h.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${g}px`)}),onSwipeCancel:ae(e.onSwipeCancel,h=>{h.currentTarget.setAttribute("data-swipe","cancel"),h.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),h.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),h.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),h.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:ae(e.onSwipeEnd,h=>{const{x:m,y:g}=h.detail.delta;h.currentTarget.setAttribute("data-swipe","end"),h.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),h.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),h.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${m}px`),h.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${g}px`),d(!1)})})})});tN.displayName=bu;var[rM,sM]=Yk(bu,{onClose(){}}),iM=p.forwardRef((e,t)=>{const{__scopeToast:n,type:r="foreground",duration:s,open:i,onClose:a,onEscapeKeyDown:c,onPause:d,onResume:h,onSwipeStart:m,onSwipeMove:g,onSwipeCancel:y,onSwipeEnd:v,...b}=e,x=jf(bu,n),[S,N]=p.useState(null),w=Fe(t,B=>N(B)),k=p.useRef(null),P=p.useRef(null),T=s||x.duration,R=p.useRef(0),E=p.useRef(T),M=p.useRef(0),{onToastAdd:$,onToastRemove:V}=x,Q=kt(()=>{var H;(S==null?void 0:S.contains(document.activeElement))&&((H=x.viewport)==null||H.focus()),a()}),W=p.useCallback(B=>{!B||B===1/0||(window.clearTimeout(M.current),R.current=new Date().getTime(),M.current=window.setTimeout(Q,B))},[Q]);p.useEffect(()=>{const B=x.viewport;if(B){const H=()=>{W(E.current),h==null||h()},G=()=>{const se=new Date().getTime()-R.current;E.current=E.current-se,window.clearTimeout(M.current),d==null||d()};return B.addEventListener(Dg,G),B.addEventListener($g,H),()=>{B.removeEventListener(Dg,G),B.removeEventListener($g,H)}}},[x.viewport,T,d,h,W]),p.useEffect(()=>{i&&!x.isClosePausedRef.current&&W(T)},[i,T,x.isClosePausedRef,W]),p.useEffect(()=>($(),()=>V()),[$,V]);const Z=p.useMemo(()=>S?lN(S):null,[S]);return x.viewport?l.jsxs(l.Fragment,{children:[Z&&l.jsx(oM,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:Z}),l.jsx(rM,{scope:n,onClose:Q,children:Io.createPortal(l.jsx(Ny.ItemSlot,{scope:n,children:l.jsx($L,{asChild:!0,onEscapeKeyDown:ae(c,()=>{x.isFocusedToastEscapeKeyDownRef.current||Q(),x.isFocusedToastEscapeKeyDownRef.current=!1}),children:l.jsx(be.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":x.swipeDirection,...b,ref:w,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:ae(e.onKeyDown,B=>{B.key==="Escape"&&(c==null||c(B.nativeEvent),B.nativeEvent.defaultPrevented||(x.isFocusedToastEscapeKeyDownRef.current=!0,Q()))}),onPointerDown:ae(e.onPointerDown,B=>{B.button===0&&(k.current={x:B.clientX,y:B.clientY})}),onPointerMove:ae(e.onPointerMove,B=>{if(!k.current)return;const H=B.clientX-k.current.x,G=B.clientY-k.current.y,se=!!P.current,A=["left","right"].includes(x.swipeDirection),D=["left","up"].includes(x.swipeDirection)?Math.min:Math.max,U=A?D(0,H):0,re=A?0:D(0,G),le=B.pointerType==="touch"?10:2,_e={x:U,y:re},me={originalEvent:B,delta:_e};se?(P.current=_e,wd(eM,g,me,{discrete:!1})):c0(_e,x.swipeDirection,le)?(P.current=_e,wd(JL,m,me,{discrete:!1}),B.target.setPointerCapture(B.pointerId)):(Math.abs(H)>le||Math.abs(G)>le)&&(k.current=null)}),onPointerUp:ae(e.onPointerUp,B=>{const H=P.current,G=B.target;if(G.hasPointerCapture(B.pointerId)&&G.releasePointerCapture(B.pointerId),P.current=null,k.current=null,H){const se=B.currentTarget,A={originalEvent:B,delta:H};c0(H,x.swipeDirection,x.swipeThreshold)?wd(nM,v,A,{discrete:!0}):wd(tM,y,A,{discrete:!0}),se.addEventListener("click",D=>D.preventDefault(),{once:!0})}})})})}),x.viewport)})]}):null}),oM=e=>{const{__scopeToast:t,children:n,...r}=e,s=jf(bu,t),[i,a]=p.useState(!1),[c,d]=p.useState(!1);return cM(()=>a(!0)),p.useEffect(()=>{const h=window.setTimeout(()=>d(!0),1e3);return()=>window.clearTimeout(h)},[]),c?null:l.jsx(wu,{asChild:!0,children:l.jsx(Pf,{...r,children:i&&l.jsxs(l.Fragment,{children:[s.label," ",n]})})})},aM="ToastTitle",nN=p.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return l.jsx(be.div,{...r,ref:t})});nN.displayName=aM;var lM="ToastDescription",rN=p.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return l.jsx(be.div,{...r,ref:t})});rN.displayName=lM;var sN="ToastAction",iN=p.forwardRef((e,t)=>{const{altText:n,...r}=e;return n.trim()?l.jsx(aN,{altText:n,asChild:!0,children:l.jsx(Cy,{...r,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${sN}\`. Expected non-empty \`string\`.`),null)});iN.displayName=sN;var oN="ToastClose",Cy=p.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e,s=sM(oN,n);return l.jsx(aN,{asChild:!0,children:l.jsx(be.button,{type:"button",...r,ref:t,onClick:ae(e.onClick,s.onClose)})})});Cy.displayName=oN;var aN=p.forwardRef((e,t)=>{const{__scopeToast:n,altText:r,...s}=e;return l.jsx(be.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...s,ref:t})});function lN(e){const t=[];return Array.from(e.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&t.push(r.textContent),uM(r)){const s=r.ariaHidden||r.hidden||r.style.display==="none",i=r.dataset.radixToastAnnounceExclude==="";if(!s)if(i){const a=r.dataset.radixToastAnnounceAlt;a&&t.push(a)}else t.push(...lN(r))}}),t}function wd(e,t,n,{discrete:r}){const s=n.originalEvent.currentTarget,i=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:n});t&&s.addEventListener(e,t,{once:!0}),r?Sy(s,i):s.dispatchEvent(i)}var c0=(e,t,n=0)=>{const r=Math.abs(e.x),s=Math.abs(e.y),i=r>s;return t==="left"||t==="right"?i&&r>n:!i&&s>n};function cM(e=()=>{}){const t=kt(e);Et(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[t])}function uM(e){return e.nodeType===e.ELEMENT_NODE}function dM(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function gp(e){const t=document.activeElement;return e.some(n=>n===t?!0:(n.focus(),document.activeElement!==t))}var hM=Xk,cN=Jk,uN=tN,dN=nN,hN=rN,fN=iN,mN=Cy;function pN(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(n=pN(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function gN(){for(var e,t,n=0,r="",s=arguments.length;n<s;n++)(e=arguments[n])&&(t=pN(e))&&(r&&(r+=" "),r+=t);return r}const u0=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,d0=gN,$o=(e,t)=>n=>{var r;if((t==null?void 0:t.variants)==null)return d0(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:i}=t,a=Object.keys(s).map(h=>{const m=n==null?void 0:n[h],g=i==null?void 0:i[h];if(m===null)return null;const y=u0(m)||u0(g);return s[h][y]}),c=n&&Object.entries(n).reduce((h,m)=>{let[g,y]=m;return y===void 0||(h[g]=y),h},{}),d=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((h,m)=>{let{class:g,className:y,...v}=m;return Object.entries(v).every(b=>{let[x,S]=b;return Array.isArray(S)?S.includes({...i,...c}[x]):{...i,...c}[x]===S})?[...h,g,y]:h},[]);return d0(e,a,d,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fM=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),vN=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var mM={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pM=p.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:a,...c},d)=>p.createElement("svg",{ref:d,...mM,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:vN("lucide",s),...c},[...a.map(([h,m])=>p.createElement(h,m)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const de=(e,t)=>{const n=p.forwardRef(({className:r,...s},i)=>p.createElement(pM,{ref:i,iconNode:t,className:vN(`lucide-${fM(e)}`,r),...s}));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pa=de("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gM=de("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const na=de("Baby",[["path",{d:"M9 12h.01",key:"157uk2"}],["path",{d:"M15 12h.01",key:"1k8ypt"}],["path",{d:"M10 16c.5.3 1.2.5 2 .5s1.5-.2 2-.5",key:"1u7htd"}],["path",{d:"M19 6.3a9 9 0 0 1 1.8 3.9 2 2 0 0 1 0 3.6 9 9 0 0 1-17.6 0 2 2 0 0 1 0-3.6A9 9 0 0 1 12 3c2 0 3.5 1.1 3.5 2.5s-.9 2.5-2 2.5c-.8 0-1.5-.4-1.5-1",key:"5yv0yz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vM=de("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const js=de("Bike",[["circle",{cx:"18.5",cy:"17.5",r:"3.5",key:"15x4ox"}],["circle",{cx:"5.5",cy:"17.5",r:"3.5",key:"1noe27"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["path",{d:"M12 17.5V14l-3-3 4-3 2 3h2",key:"1npguv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yN=de("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vp=de("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xN=de("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const za=de("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nh=de("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tf=de("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _N=de("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wN=de("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Di=de("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ch=de("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zc=de("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yM=de("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bN=de("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ef=de("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xM=de("Coins",[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Py=de("Droplets",[["path",{d:"M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z",key:"1ptgy4"}],["path",{d:"M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97",key:"1sl1rz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _M=de("Ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h0=de("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f0=de("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zg=de("Flag",[["path",{d:"M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z",key:"i9b6wo"}],["line",{x1:"4",x2:"4",y1:"22",y2:"15",key:"1cm3nv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wM=de("Flame",[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bM=de("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jy=de("GraduationCap",[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ai=de("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SN=de("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SM=de("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ct=de("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kM=de("Locate",[["line",{x1:"2",x2:"5",y1:"12",y2:"12",key:"bvdh0s"}],["line",{x1:"19",x2:"22",y1:"12",y2:"12",key:"1tbv5k"}],["line",{x1:"12",x2:"12",y1:"2",y2:"5",key:"11lu5j"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}],["circle",{cx:"12",cy:"12",r:"7",key:"fim9np"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yp=de("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kN=de("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m0=de("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dr=de("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ph=de("Map",[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NM=de("Medal",[["path",{d:"M7.21 15 2.66 7.14a2 2 0 0 1 .13-2.2L4.4 2.8A2 2 0 0 1 6 2h12a2 2 0 0 1 1.6.8l1.6 2.14a2 2 0 0 1 .14 2.2L16.79 15",key:"143lza"}],["path",{d:"M11 12 5.12 2.2",key:"qhuxz6"}],["path",{d:"m13 12 5.88-9.8",key:"hbye0f"}],["path",{d:"M8 7h8",key:"i86dvs"}],["circle",{cx:"12",cy:"17",r:"5",key:"qbz8iq"}],["path",{d:"M12 18v-2h-.5",key:"fawc4q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NN=de("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ty=de("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CM=de("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PM=de("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bg=de("Navigation",[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jM=de("PanelLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TM=de("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EM=de("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RM=de("PinOff",[["path",{d:"M12 17v5",key:"bb1du9"}],["path",{d:"M15 9.34V7a1 1 0 0 1 1-1 2 2 0 0 0 0-4H7.89",key:"znwnzq"}],["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M9 9v1.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24V16a1 1 0 0 0 1 1h11",key:"c9qhm2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p0=de("Pin",[["path",{d:"M12 17v5",key:"bb1du9"}],["path",{d:"M9 10.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24V16a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-.76a2 2 0 0 0-1.11-1.79l-1.78-.9A2 2 0 0 1 15 10.76V7a1 1 0 0 1 1-1 2 2 0 0 0 0-4H8a2 2 0 0 0 0 4 1 1 0 0 1 1 1z",key:"1nkz8b"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jh=de("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rf=de("Recycle",[["path",{d:"M7 19H4.815a1.83 1.83 0 0 1-1.57-.881 1.785 1.785 0 0 1-.004-1.784L7.196 9.5",key:"x6z5xu"}],["path",{d:"M11 19h8.203a1.83 1.83 0 0 0 1.556-.89 1.784 1.784 0 0 0 0-1.775l-1.226-2.12",key:"1x4zh5"}],["path",{d:"m14 16-3 3 3 3",key:"f6jyew"}],["path",{d:"M8.293 13.596 7.196 9.5 3.1 10.598",key:"wf1obh"}],["path",{d:"m9.344 5.811 1.093-1.892A1.83 1.83 0 0 1 11.985 3a1.784 1.784 0 0 1 1.546.888l3.943 6.843",key:"9tzpgr"}],["path",{d:"m13.378 9.633 4.096 1.098 1.097-4.096",key:"1oe83g"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ug=de("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AM=de("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ey=de("Route",[["circle",{cx:"6",cy:"19",r:"3",key:"1kj8tv"}],["path",{d:"M9 19h8.5a3.5 3.5 0 0 0 0-7h-11a3.5 3.5 0 0 1 0-7H15",key:"1d8sl"}],["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OM=de("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g0=de("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kc=de("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LM=de("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MM=de("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CN=de("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IM=de("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v0=de("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PN=de("Swords",[["polyline",{points:"14.5 17.5 3 6 3 3 6 3 17.5 14.5",key:"1hfsw2"}],["line",{x1:"13",x2:"19",y1:"19",y2:"13",key:"1vrmhu"}],["line",{x1:"16",x2:"20",y1:"16",y2:"20",key:"1bron3"}],["line",{x1:"19",x2:"21",y1:"21",y2:"19",key:"13pww6"}],["polyline",{points:"14.5 6.5 18 3 21 3 21 6 17.5 9.5",key:"hbey2j"}],["line",{x1:"5",x2:"9",y1:"14",y2:"18",key:"1hf58s"}],["line",{x1:"7",x2:"4",y1:"17",y2:"20",key:"pidxm4"}],["line",{x1:"3",x2:"5",y1:"19",y2:"21",key:"1pehsh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y0=de("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Af=de("Thermometer",[["path",{d:"M14 4v10.54a4 4 0 1 1-4 0V4a2 2 0 0 1 4 0Z",key:"17jzev"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ry=de("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jN=de("TreeDeciduous",[["path",{d:"M8 19a4 4 0 0 1-2.24-7.32A3.5 3.5 0 0 1 9 6.03V6a3 3 0 1 1 6 0v.04a3.5 3.5 0 0 1 3.24 5.65A4 4 0 0 1 16 19Z",key:"oadzkq"}],["path",{d:"M12 19v3",key:"npa21l"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Su=de("TreePine",[["path",{d:"m17 14 3 3.3a1 1 0 0 1-.7 1.7H4.7a1 1 0 0 1-.7-1.7L7 14h-.3a1 1 0 0 1-.7-1.7L9 9h-.2A1 1 0 0 1 8 7.3L12 3l4 4.3a1 1 0 0 1-.8 1.7H15l3 3.3a1 1 0 0 1-.7 1.7H17Z",key:"cpyugq"}],["path",{d:"M12 22v-3",key:"kmzjlo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Th=de("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hs=de("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fs=de("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DM=de("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TN=de("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ll=de("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jo=de("Wind",[["path",{d:"M12.8 19.6A2 2 0 1 0 14 16H2",key:"148xed"}],["path",{d:"M17.5 8a2.5 2.5 0 1 1 2 4H2",key:"1u4tom"}],["path",{d:"M9.8 4.4A2 2 0 1 1 11 8H2",key:"75valh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ws=de("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EN=de("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),Ay="-",$M=e=>{const t=zM(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:a=>{const c=a.split(Ay);return c[0]===""&&c.length!==1&&c.shift(),RN(c,t)||FM(a)},getConflictingClassGroupIds:(a,c)=>{const d=n[a]||[];return c&&r[a]?[...d,...r[a]]:d}}},RN=(e,t)=>{var a;if(e.length===0)return t.classGroupId;const n=e[0],r=t.nextPart.get(n),s=r?RN(e.slice(1),r):void 0;if(s)return s;if(t.validators.length===0)return;const i=e.join(Ay);return(a=t.validators.find(({validator:c})=>c(i)))==null?void 0:a.classGroupId},x0=/^\[(.+)\]$/,FM=e=>{if(x0.test(e)){const t=x0.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},zM=e=>{const{theme:t,prefix:n}=e,r={nextPart:new Map,validators:[]};return UM(Object.entries(e.classGroups),n).forEach(([i,a])=>{Vg(a,r,i,t)}),r},Vg=(e,t,n,r)=>{e.forEach(s=>{if(typeof s=="string"){const i=s===""?t:_0(t,s);i.classGroupId=n;return}if(typeof s=="function"){if(BM(s)){Vg(s(r),t,n,r);return}t.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([i,a])=>{Vg(a,_0(t,i),n,r)})})},_0=(e,t)=>{let n=e;return t.split(Ay).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},BM=e=>e.isThemeGetter,UM=(e,t)=>t?e.map(([n,r])=>{const s=r.map(i=>typeof i=="string"?t+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([a,c])=>[t+a,c])):i);return[n,s]}):e,VM=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,r=new Map;const s=(i,a)=>{n.set(i,a),t++,t>e&&(t=0,r=n,n=new Map)};return{get(i){let a=n.get(i);if(a!==void 0)return a;if((a=r.get(i))!==void 0)return s(i,a),a},set(i,a){n.has(i)?n.set(i,a):s(i,a)}}},AN="!",WM=e=>{const{separator:t,experimentalParseClassName:n}=e,r=t.length===1,s=t[0],i=t.length,a=c=>{const d=[];let h=0,m=0,g;for(let S=0;S<c.length;S++){let N=c[S];if(h===0){if(N===s&&(r||c.slice(S,S+i)===t)){d.push(c.slice(m,S)),m=S+i;continue}if(N==="/"){g=S;continue}}N==="["?h++:N==="]"&&h--}const y=d.length===0?c:c.substring(m),v=y.startsWith(AN),b=v?y.substring(1):y,x=g&&g>m?g-m:void 0;return{modifiers:d,hasImportantModifier:v,baseClassName:b,maybePostfixModifierPosition:x}};return n?c=>n({className:c,parseClassName:a}):a},qM=e=>{if(e.length<=1)return e;const t=[];let n=[];return e.forEach(r=>{r[0]==="["?(t.push(...n.sort(),r),n=[]):n.push(r)}),t.push(...n.sort()),t},HM=e=>({cache:VM(e.cacheSize),parseClassName:WM(e),...$M(e)}),GM=/\s+/,ZM=(e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=t,i=[],a=e.trim().split(GM);let c="";for(let d=a.length-1;d>=0;d-=1){const h=a[d],{modifiers:m,hasImportantModifier:g,baseClassName:y,maybePostfixModifierPosition:v}=n(h);let b=!!v,x=r(b?y.substring(0,v):y);if(!x){if(!b){c=h+(c.length>0?" "+c:c);continue}if(x=r(y),!x){c=h+(c.length>0?" "+c:c);continue}b=!1}const S=qM(m).join(":"),N=g?S+AN:S,w=N+x;if(i.includes(w))continue;i.push(w);const k=s(x,b);for(let P=0;P<k.length;++P){const T=k[P];i.push(N+T)}c=h+(c.length>0?" "+c:c)}return c};function KM(){let e=0,t,n,r="";for(;e<arguments.length;)(t=arguments[e++])&&(n=ON(t))&&(r&&(r+=" "),r+=n);return r}const ON=e=>{if(typeof e=="string")return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=ON(e[r]))&&(n&&(n+=" "),n+=t);return n};function YM(e,...t){let n,r,s,i=a;function a(d){const h=t.reduce((m,g)=>g(m),e());return n=HM(h),r=n.cache.get,s=n.cache.set,i=c,c(d)}function c(d){const h=r(d);if(h)return h;const m=ZM(d,n);return s(d,m),m}return function(){return i(KM.apply(null,arguments))}}const ut=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},LN=/^\[(?:([a-z-]+):)?(.+)\]$/i,XM=/^\d+\/\d+$/,QM=new Set(["px","full","screen"]),JM=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,eI=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,tI=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,nI=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,rI=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,ws=e=>Ba(e)||QM.has(e)||XM.test(e),Ys=e=>Sl(e,"length",dI),Ba=e=>!!e&&!Number.isNaN(Number(e)),xp=e=>Sl(e,"number",Ba),tc=e=>!!e&&Number.isInteger(Number(e)),sI=e=>e.endsWith("%")&&Ba(e.slice(0,-1)),Be=e=>LN.test(e),Xs=e=>JM.test(e),iI=new Set(["length","size","percentage"]),oI=e=>Sl(e,iI,MN),aI=e=>Sl(e,"position",MN),lI=new Set(["image","url"]),cI=e=>Sl(e,lI,fI),uI=e=>Sl(e,"",hI),nc=()=>!0,Sl=(e,t,n)=>{const r=LN.exec(e);return r?r[1]?typeof t=="string"?r[1]===t:t.has(r[1]):n(r[2]):!1},dI=e=>eI.test(e)&&!tI.test(e),MN=()=>!1,hI=e=>nI.test(e),fI=e=>rI.test(e),mI=()=>{const e=ut("colors"),t=ut("spacing"),n=ut("blur"),r=ut("brightness"),s=ut("borderColor"),i=ut("borderRadius"),a=ut("borderSpacing"),c=ut("borderWidth"),d=ut("contrast"),h=ut("grayscale"),m=ut("hueRotate"),g=ut("invert"),y=ut("gap"),v=ut("gradientColorStops"),b=ut("gradientColorStopPositions"),x=ut("inset"),S=ut("margin"),N=ut("opacity"),w=ut("padding"),k=ut("saturate"),P=ut("scale"),T=ut("sepia"),R=ut("skew"),E=ut("space"),M=ut("translate"),$=()=>["auto","contain","none"],V=()=>["auto","hidden","clip","visible","scroll"],Q=()=>["auto",Be,t],W=()=>[Be,t],Z=()=>["",ws,Ys],B=()=>["auto",Ba,Be],H=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],G=()=>["solid","dashed","dotted","double","none"],se=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],A=()=>["start","end","center","between","around","evenly","stretch"],D=()=>["","0",Be],U=()=>["auto","avoid","all","avoid-page","page","left","right","column"],re=()=>[Ba,Be];return{cacheSize:500,separator:":",theme:{colors:[nc],spacing:[ws,Ys],blur:["none","",Xs,Be],brightness:re(),borderColor:[e],borderRadius:["none","","full",Xs,Be],borderSpacing:W(),borderWidth:Z(),contrast:re(),grayscale:D(),hueRotate:re(),invert:D(),gap:W(),gradientColorStops:[e],gradientColorStopPositions:[sI,Ys],inset:Q(),margin:Q(),opacity:re(),padding:W(),saturate:re(),scale:re(),sepia:D(),skew:re(),space:W(),translate:W()},classGroups:{aspect:[{aspect:["auto","square","video",Be]}],container:["container"],columns:[{columns:[Xs]}],"break-after":[{"break-after":U()}],"break-before":[{"break-before":U()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...H(),Be]}],overflow:[{overflow:V()}],"overflow-x":[{"overflow-x":V()}],"overflow-y":[{"overflow-y":V()}],overscroll:[{overscroll:$()}],"overscroll-x":[{"overscroll-x":$()}],"overscroll-y":[{"overscroll-y":$()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[x]}],"inset-x":[{"inset-x":[x]}],"inset-y":[{"inset-y":[x]}],start:[{start:[x]}],end:[{end:[x]}],top:[{top:[x]}],right:[{right:[x]}],bottom:[{bottom:[x]}],left:[{left:[x]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",tc,Be]}],basis:[{basis:Q()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Be]}],grow:[{grow:D()}],shrink:[{shrink:D()}],order:[{order:["first","last","none",tc,Be]}],"grid-cols":[{"grid-cols":[nc]}],"col-start-end":[{col:["auto",{span:["full",tc,Be]},Be]}],"col-start":[{"col-start":B()}],"col-end":[{"col-end":B()}],"grid-rows":[{"grid-rows":[nc]}],"row-start-end":[{row:["auto",{span:[tc,Be]},Be]}],"row-start":[{"row-start":B()}],"row-end":[{"row-end":B()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Be]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Be]}],gap:[{gap:[y]}],"gap-x":[{"gap-x":[y]}],"gap-y":[{"gap-y":[y]}],"justify-content":[{justify:["normal",...A()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...A(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...A(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[w]}],px:[{px:[w]}],py:[{py:[w]}],ps:[{ps:[w]}],pe:[{pe:[w]}],pt:[{pt:[w]}],pr:[{pr:[w]}],pb:[{pb:[w]}],pl:[{pl:[w]}],m:[{m:[S]}],mx:[{mx:[S]}],my:[{my:[S]}],ms:[{ms:[S]}],me:[{me:[S]}],mt:[{mt:[S]}],mr:[{mr:[S]}],mb:[{mb:[S]}],ml:[{ml:[S]}],"space-x":[{"space-x":[E]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[E]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Be,t]}],"min-w":[{"min-w":[Be,t,"min","max","fit"]}],"max-w":[{"max-w":[Be,t,"none","full","min","max","fit","prose",{screen:[Xs]},Xs]}],h:[{h:[Be,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Be,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Be,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Be,t,"auto","min","max","fit"]}],"font-size":[{text:["base",Xs,Ys]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",xp]}],"font-family":[{font:[nc]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Be]}],"line-clamp":[{"line-clamp":["none",Ba,xp]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",ws,Be]}],"list-image":[{"list-image":["none",Be]}],"list-style-type":[{list:["none","disc","decimal",Be]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[N]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[N]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...G(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",ws,Ys]}],"underline-offset":[{"underline-offset":["auto",ws,Be]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:W()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Be]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Be]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[N]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...H(),aI]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",oI]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},cI]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[b]}],"gradient-via-pos":[{via:[b]}],"gradient-to-pos":[{to:[b]}],"gradient-from":[{from:[v]}],"gradient-via":[{via:[v]}],"gradient-to":[{to:[v]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[c]}],"border-w-x":[{"border-x":[c]}],"border-w-y":[{"border-y":[c]}],"border-w-s":[{"border-s":[c]}],"border-w-e":[{"border-e":[c]}],"border-w-t":[{"border-t":[c]}],"border-w-r":[{"border-r":[c]}],"border-w-b":[{"border-b":[c]}],"border-w-l":[{"border-l":[c]}],"border-opacity":[{"border-opacity":[N]}],"border-style":[{border:[...G(),"hidden"]}],"divide-x":[{"divide-x":[c]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[c]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[N]}],"divide-style":[{divide:G()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...G()]}],"outline-offset":[{"outline-offset":[ws,Be]}],"outline-w":[{outline:[ws,Ys]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:Z()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[N]}],"ring-offset-w":[{"ring-offset":[ws,Ys]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Xs,uI]}],"shadow-color":[{shadow:[nc]}],opacity:[{opacity:[N]}],"mix-blend":[{"mix-blend":[...se(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":se()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[d]}],"drop-shadow":[{"drop-shadow":["","none",Xs,Be]}],grayscale:[{grayscale:[h]}],"hue-rotate":[{"hue-rotate":[m]}],invert:[{invert:[g]}],saturate:[{saturate:[k]}],sepia:[{sepia:[T]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[d]}],"backdrop-grayscale":[{"backdrop-grayscale":[h]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[m]}],"backdrop-invert":[{"backdrop-invert":[g]}],"backdrop-opacity":[{"backdrop-opacity":[N]}],"backdrop-saturate":[{"backdrop-saturate":[k]}],"backdrop-sepia":[{"backdrop-sepia":[T]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[a]}],"border-spacing-x":[{"border-spacing-x":[a]}],"border-spacing-y":[{"border-spacing-y":[a]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Be]}],duration:[{duration:re()}],ease:[{ease:["linear","in","out","in-out",Be]}],delay:[{delay:re()}],animate:[{animate:["none","spin","ping","pulse","bounce",Be]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[P]}],"scale-x":[{"scale-x":[P]}],"scale-y":[{"scale-y":[P]}],rotate:[{rotate:[tc,Be]}],"translate-x":[{"translate-x":[M]}],"translate-y":[{"translate-y":[M]}],"skew-x":[{"skew-x":[R]}],"skew-y":[{"skew-y":[R]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Be]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Be]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":W()}],"scroll-mx":[{"scroll-mx":W()}],"scroll-my":[{"scroll-my":W()}],"scroll-ms":[{"scroll-ms":W()}],"scroll-me":[{"scroll-me":W()}],"scroll-mt":[{"scroll-mt":W()}],"scroll-mr":[{"scroll-mr":W()}],"scroll-mb":[{"scroll-mb":W()}],"scroll-ml":[{"scroll-ml":W()}],"scroll-p":[{"scroll-p":W()}],"scroll-px":[{"scroll-px":W()}],"scroll-py":[{"scroll-py":W()}],"scroll-ps":[{"scroll-ps":W()}],"scroll-pe":[{"scroll-pe":W()}],"scroll-pt":[{"scroll-pt":W()}],"scroll-pr":[{"scroll-pr":W()}],"scroll-pb":[{"scroll-pb":W()}],"scroll-pl":[{"scroll-pl":W()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Be]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[ws,Ys,xp]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},pI=YM(mI);function ee(...e){return pI(gN(e))}const gI=hM,IN=p.forwardRef(({className:e,...t},n)=>l.jsx(cN,{ref:n,className:ee("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));IN.displayName=cN.displayName;const vI=$o("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),DN=p.forwardRef(({className:e,variant:t,...n},r)=>l.jsx(uN,{ref:r,className:ee(vI({variant:t}),e),...n}));DN.displayName=uN.displayName;const yI=p.forwardRef(({className:e,...t},n)=>l.jsx(fN,{ref:n,className:ee("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors group-[.destructive]:border-muted/40 hover:bg-secondary group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 group-[.destructive]:focus:ring-destructive disabled:pointer-events-none disabled:opacity-50",e),...t}));yI.displayName=fN.displayName;const $N=p.forwardRef(({className:e,...t},n)=>l.jsx(mN,{ref:n,className:ee("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity group-hover:opacity-100 group-[.destructive]:text-red-300 hover:text-foreground group-[.destructive]:hover:text-red-50 focus:opacity-100 focus:outline-none focus:ring-2 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:l.jsx(Ws,{className:"h-4 w-4"})}));$N.displayName=mN.displayName;const FN=p.forwardRef(({className:e,...t},n)=>l.jsx(dN,{ref:n,className:ee("text-sm font-semibold",e),...t}));FN.displayName=dN.displayName;const zN=p.forwardRef(({className:e,...t},n)=>l.jsx(hN,{ref:n,className:ee("text-sm opacity-90",e),...t}));zN.displayName=hN.displayName;function xI(){const{toasts:e}=SL();return l.jsxs(gI,{children:[e.map(function({id:t,title:n,description:r,action:s,...i}){return l.jsxs(DN,{...i,children:[l.jsxs("div",{className:"grid gap-1",children:[n&&l.jsx(FN,{children:n}),r&&l.jsx(zN,{children:r})]}),s,l.jsx($N,{})]},t)}),l.jsx(IN,{})]})}var w0=["light","dark"],_I="(prefers-color-scheme: dark)",wI=p.createContext(void 0),bI={setTheme:e=>{},themes:[]},SI=()=>{var e;return(e=p.useContext(wI))!=null?e:bI};p.memo(({forcedTheme:e,storageKey:t,attribute:n,enableSystem:r,enableColorScheme:s,defaultTheme:i,value:a,attrs:c,nonce:d})=>{let h=i==="system",m=n==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${c.map(b=>`'${b}'`).join(",")})`};`:`var d=document.documentElement,n='${n}',s='setAttribute';`,g=s?w0.includes(i)&&i?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${i}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",y=(b,x=!1,S=!0)=>{let N=a?a[b]:b,w=x?b+"|| ''":`'${N}'`,k="";return s&&S&&!x&&w0.includes(b)&&(k+=`d.style.colorScheme = '${b}';`),n==="class"?x||N?k+=`c.add(${w})`:k+="null":N&&(k+=`d[s](n,${w})`),k},v=e?`!function(){${m}${y(e)}}()`:r?`!function(){try{${m}var e=localStorage.getItem('${t}');if('system'===e||(!e&&${h})){var t='${_I}',m=window.matchMedia(t);if(m.media!==t||m.matches){${y("dark")}}else{${y("light")}}}else if(e){${a?`var x=${JSON.stringify(a)};`:""}${y(a?"x[e]":"e",!0)}}${h?"":"else{"+y(i,!1,!1)+"}"}${g}}catch(e){}}()`:`!function(){try{${m}var e=localStorage.getItem('${t}');if(e){${a?`var x=${JSON.stringify(a)};`:""}${y(a?"x[e]":"e",!0)}}else{${y(i,!1,!1)};}${g}}catch(t){}}();`;return p.createElement("script",{nonce:d,dangerouslySetInnerHTML:{__html:v}})});var kI=e=>{switch(e){case"success":return PI;case"info":return TI;case"warning":return jI;case"error":return EI;default:return null}},NI=Array(12).fill(0),CI=({visible:e,className:t})=>Y.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},Y.createElement("div",{className:"sonner-spinner"},NI.map((n,r)=>Y.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),PI=Y.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Y.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),jI=Y.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},Y.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),TI=Y.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Y.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),EI=Y.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Y.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),RI=Y.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},Y.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),Y.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),AI=()=>{let[e,t]=Y.useState(document.hidden);return Y.useEffect(()=>{let n=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),e},Wg=1,OI=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:n,...r}=e,s=typeof(e==null?void 0:e.id)=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:Wg++,i=this.toasts.find(c=>c.id===s),a=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(s)&&this.dismissedToasts.delete(s),i?this.toasts=this.toasts.map(c=>c.id===s?(this.publish({...c,...e,id:s,title:n}),{...c,...e,id:s,dismissible:a,title:n}):c):this.addToast({title:n,...r,dismissible:a,id:s}),s},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(t=>{this.subscribers.forEach(n=>n({id:t.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let n;t.loading!==void 0&&(n=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));let r=e instanceof Promise?e:e(),s=n!==void 0,i,a=r.then(async d=>{if(i=["resolve",d],Y.isValidElement(d))s=!1,this.create({id:n,type:"default",message:d});else if(MI(d)&&!d.ok){s=!1;let h=typeof t.error=="function"?await t.error(`HTTP error! status: ${d.status}`):t.error,m=typeof t.description=="function"?await t.description(`HTTP error! status: ${d.status}`):t.description;this.create({id:n,type:"error",message:h,description:m})}else if(t.success!==void 0){s=!1;let h=typeof t.success=="function"?await t.success(d):t.success,m=typeof t.description=="function"?await t.description(d):t.description;this.create({id:n,type:"success",message:h,description:m})}}).catch(async d=>{if(i=["reject",d],t.error!==void 0){s=!1;let h=typeof t.error=="function"?await t.error(d):t.error,m=typeof t.description=="function"?await t.description(d):t.description;this.create({id:n,type:"error",message:h,description:m})}}).finally(()=>{var d;s&&(this.dismiss(n),n=void 0),(d=t.finally)==null||d.call(t)}),c=()=>new Promise((d,h)=>a.then(()=>i[0]==="reject"?h(i[1]):d(i[1])).catch(h));return typeof n!="string"&&typeof n!="number"?{unwrap:c}:Object.assign(n,{unwrap:c})},this.custom=(e,t)=>{let n=(t==null?void 0:t.id)||Wg++;return this.create({jsx:e(n),id:n,...t}),n},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},Tn=new OI,LI=(e,t)=>{let n=(t==null?void 0:t.id)||Wg++;return Tn.addToast({title:e,...t,id:n}),n},MI=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",II=LI,DI=()=>Tn.toasts,$I=()=>Tn.getActiveToasts(),Pe=Object.assign(II,{success:Tn.success,info:Tn.info,warning:Tn.warning,error:Tn.error,custom:Tn.custom,message:Tn.message,promise:Tn.promise,dismiss:Tn.dismiss,loading:Tn.loading},{getHistory:DI,getToasts:$I});function FI(e,{insertAt:t}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",t==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}FI(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function bd(e){return e.label!==void 0}var zI=3,BI="32px",UI="16px",b0=4e3,VI=356,WI=14,qI=20,HI=200;function br(...e){return e.filter(Boolean).join(" ")}function GI(e){let[t,n]=e.split("-"),r=[];return t&&r.push(t),n&&r.push(n),r}var ZI=e=>{var t,n,r,s,i,a,c,d,h,m,g;let{invert:y,toast:v,unstyled:b,interacting:x,setHeights:S,visibleToasts:N,heights:w,index:k,toasts:P,expanded:T,removeToast:R,defaultRichColors:E,closeButton:M,style:$,cancelButtonStyle:V,actionButtonStyle:Q,className:W="",descriptionClassName:Z="",duration:B,position:H,gap:G,loadingIcon:se,expandByDefault:A,classNames:D,icons:U,closeButtonAriaLabel:re="Close toast",pauseWhenPageIsHidden:le}=e,[_e,me]=Y.useState(null),[Se,xe]=Y.useState(null),[te,Oe]=Y.useState(!1),[We,De]=Y.useState(!1),[Ue,ze]=Y.useState(!1),[xt,Ht]=Y.useState(!1),[In,Dn]=Y.useState(!1),[$n,gr]=Y.useState(0),[vr,I]=Y.useState(0),z=Y.useRef(v.duration||B||b0),K=Y.useRef(null),ce=Y.useRef(null),ue=k===0,oe=k+1<=N,fe=v.type,qe=v.dismissible!==!1,tt=v.className||"",Jt=v.descriptionClassName||"",tr=Y.useMemo(()=>w.findIndex(Ae=>Ae.toastId===v.id)||0,[w,v.id]),Fn=Y.useMemo(()=>{var Ae;return(Ae=v.closeButton)!=null?Ae:M},[v.closeButton,M]),Vo=Y.useMemo(()=>v.duration||B||b0,[v.duration,B]),Vr=Y.useRef(0),Cn=Y.useRef(0),Vi=Y.useRef(0),yr=Y.useRef(null),[ps,Wo]=H.split("-"),Iu=Y.useMemo(()=>w.reduce((Ae,nt,it)=>it>=tr?Ae:Ae+nt.height,0),[w,tr]),Ll=AI(),Du=v.invert||y,qo=fe==="loading";Cn.current=Y.useMemo(()=>tr*G+Iu,[tr,Iu]),Y.useEffect(()=>{z.current=Vo},[Vo]),Y.useEffect(()=>{Oe(!0)},[]),Y.useEffect(()=>{let Ae=ce.current;if(Ae){let nt=Ae.getBoundingClientRect().height;return I(nt),S(it=>[{toastId:v.id,height:nt,position:v.position},...it]),()=>S(it=>it.filter(zn=>zn.toastId!==v.id))}},[S,v.id]),Y.useLayoutEffect(()=>{if(!te)return;let Ae=ce.current,nt=Ae.style.height;Ae.style.height="auto";let it=Ae.getBoundingClientRect().height;Ae.style.height=nt,I(it),S(zn=>zn.find(un=>un.toastId===v.id)?zn.map(un=>un.toastId===v.id?{...un,height:it}:un):[{toastId:v.id,height:it,position:v.position},...zn])},[te,v.title,v.description,S,v.id]);let Wr=Y.useCallback(()=>{De(!0),gr(Cn.current),S(Ae=>Ae.filter(nt=>nt.toastId!==v.id)),setTimeout(()=>{R(v)},HI)},[v,R,S,Cn]);Y.useEffect(()=>{if(v.promise&&fe==="loading"||v.duration===1/0||v.type==="loading")return;let Ae;return T||x||le&&Ll?(()=>{if(Vi.current<Vr.current){let nt=new Date().getTime()-Vr.current;z.current=z.current-nt}Vi.current=new Date().getTime()})():z.current!==1/0&&(Vr.current=new Date().getTime(),Ae=setTimeout(()=>{var nt;(nt=v.onAutoClose)==null||nt.call(v,v),Wr()},z.current)),()=>clearTimeout(Ae)},[T,x,v,fe,le,Ll,Wr]),Y.useEffect(()=>{v.delete&&Wr()},[Wr,v.delete]);function mm(){var Ae,nt,it;return U!=null&&U.loading?Y.createElement("div",{className:br(D==null?void 0:D.loader,(Ae=v==null?void 0:v.classNames)==null?void 0:Ae.loader,"sonner-loader"),"data-visible":fe==="loading"},U.loading):se?Y.createElement("div",{className:br(D==null?void 0:D.loader,(nt=v==null?void 0:v.classNames)==null?void 0:nt.loader,"sonner-loader"),"data-visible":fe==="loading"},se):Y.createElement(CI,{className:br(D==null?void 0:D.loader,(it=v==null?void 0:v.classNames)==null?void 0:it.loader),visible:fe==="loading"})}return Y.createElement("li",{tabIndex:0,ref:ce,className:br(W,tt,D==null?void 0:D.toast,(t=v==null?void 0:v.classNames)==null?void 0:t.toast,D==null?void 0:D.default,D==null?void 0:D[fe],(n=v==null?void 0:v.classNames)==null?void 0:n[fe]),"data-sonner-toast":"","data-rich-colors":(r=v.richColors)!=null?r:E,"data-styled":!(v.jsx||v.unstyled||b),"data-mounted":te,"data-promise":!!v.promise,"data-swiped":In,"data-removed":We,"data-visible":oe,"data-y-position":ps,"data-x-position":Wo,"data-index":k,"data-front":ue,"data-swiping":Ue,"data-dismissible":qe,"data-type":fe,"data-invert":Du,"data-swipe-out":xt,"data-swipe-direction":Se,"data-expanded":!!(T||A&&te),style:{"--index":k,"--toasts-before":k,"--z-index":P.length-k,"--offset":`${We?$n:Cn.current}px`,"--initial-height":A?"auto":`${vr}px`,...$,...v.style},onDragEnd:()=>{ze(!1),me(null),yr.current=null},onPointerDown:Ae=>{qo||!qe||(K.current=new Date,gr(Cn.current),Ae.target.setPointerCapture(Ae.pointerId),Ae.target.tagName!=="BUTTON"&&(ze(!0),yr.current={x:Ae.clientX,y:Ae.clientY}))},onPointerUp:()=>{var Ae,nt,it,zn;if(xt||!qe)return;yr.current=null;let un=Number(((Ae=ce.current)==null?void 0:Ae.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),qr=Number(((nt=ce.current)==null?void 0:nt.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),gs=new Date().getTime()-((it=K.current)==null?void 0:it.getTime()),Bn=_e==="x"?un:qr,Hr=Math.abs(Bn)/gs;if(Math.abs(Bn)>=qI||Hr>.11){gr(Cn.current),(zn=v.onDismiss)==null||zn.call(v,v),xe(_e==="x"?un>0?"right":"left":qr>0?"down":"up"),Wr(),Ht(!0),Dn(!1);return}ze(!1),me(null)},onPointerMove:Ae=>{var nt,it,zn,un;if(!yr.current||!qe||((nt=window.getSelection())==null?void 0:nt.toString().length)>0)return;let qr=Ae.clientY-yr.current.y,gs=Ae.clientX-yr.current.x,Bn=(it=e.swipeDirections)!=null?it:GI(H);!_e&&(Math.abs(gs)>1||Math.abs(qr)>1)&&me(Math.abs(gs)>Math.abs(qr)?"x":"y");let Hr={x:0,y:0};_e==="y"?(Bn.includes("top")||Bn.includes("bottom"))&&(Bn.includes("top")&&qr<0||Bn.includes("bottom")&&qr>0)&&(Hr.y=qr):_e==="x"&&(Bn.includes("left")||Bn.includes("right"))&&(Bn.includes("left")&&gs<0||Bn.includes("right")&&gs>0)&&(Hr.x=gs),(Math.abs(Hr.x)>0||Math.abs(Hr.y)>0)&&Dn(!0),(zn=ce.current)==null||zn.style.setProperty("--swipe-amount-x",`${Hr.x}px`),(un=ce.current)==null||un.style.setProperty("--swipe-amount-y",`${Hr.y}px`)}},Fn&&!v.jsx?Y.createElement("button",{"aria-label":re,"data-disabled":qo,"data-close-button":!0,onClick:qo||!qe?()=>{}:()=>{var Ae;Wr(),(Ae=v.onDismiss)==null||Ae.call(v,v)},className:br(D==null?void 0:D.closeButton,(s=v==null?void 0:v.classNames)==null?void 0:s.closeButton)},(i=U==null?void 0:U.close)!=null?i:RI):null,v.jsx||p.isValidElement(v.title)?v.jsx?v.jsx:typeof v.title=="function"?v.title():v.title:Y.createElement(Y.Fragment,null,fe||v.icon||v.promise?Y.createElement("div",{"data-icon":"",className:br(D==null?void 0:D.icon,(a=v==null?void 0:v.classNames)==null?void 0:a.icon)},v.promise||v.type==="loading"&&!v.icon?v.icon||mm():null,v.type!=="loading"?v.icon||(U==null?void 0:U[fe])||kI(fe):null):null,Y.createElement("div",{"data-content":"",className:br(D==null?void 0:D.content,(c=v==null?void 0:v.classNames)==null?void 0:c.content)},Y.createElement("div",{"data-title":"",className:br(D==null?void 0:D.title,(d=v==null?void 0:v.classNames)==null?void 0:d.title)},typeof v.title=="function"?v.title():v.title),v.description?Y.createElement("div",{"data-description":"",className:br(Z,Jt,D==null?void 0:D.description,(h=v==null?void 0:v.classNames)==null?void 0:h.description)},typeof v.description=="function"?v.description():v.description):null),p.isValidElement(v.cancel)?v.cancel:v.cancel&&bd(v.cancel)?Y.createElement("button",{"data-button":!0,"data-cancel":!0,style:v.cancelButtonStyle||V,onClick:Ae=>{var nt,it;bd(v.cancel)&&qe&&((it=(nt=v.cancel).onClick)==null||it.call(nt,Ae),Wr())},className:br(D==null?void 0:D.cancelButton,(m=v==null?void 0:v.classNames)==null?void 0:m.cancelButton)},v.cancel.label):null,p.isValidElement(v.action)?v.action:v.action&&bd(v.action)?Y.createElement("button",{"data-button":!0,"data-action":!0,style:v.actionButtonStyle||Q,onClick:Ae=>{var nt,it;bd(v.action)&&((it=(nt=v.action).onClick)==null||it.call(nt,Ae),!Ae.defaultPrevented&&Wr())},className:br(D==null?void 0:D.actionButton,(g=v==null?void 0:v.classNames)==null?void 0:g.actionButton)},v.action.label):null))};function S0(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function KI(e,t){let n={};return[e,t].forEach((r,s)=>{let i=s===1,a=i?"--mobile-offset":"--offset",c=i?UI:BI;function d(h){["top","right","bottom","left"].forEach(m=>{n[`${a}-${m}`]=typeof h=="number"?`${h}px`:h})}typeof r=="number"||typeof r=="string"?d(r):typeof r=="object"?["top","right","bottom","left"].forEach(h=>{r[h]===void 0?n[`${a}-${h}`]=c:n[`${a}-${h}`]=typeof r[h]=="number"?`${r[h]}px`:r[h]}):d(c)}),n}var YI=p.forwardRef(function(e,t){let{invert:n,position:r="bottom-right",hotkey:s=["altKey","KeyT"],expand:i,closeButton:a,className:c,offset:d,mobileOffset:h,theme:m="light",richColors:g,duration:y,style:v,visibleToasts:b=zI,toastOptions:x,dir:S=S0(),gap:N=WI,loadingIcon:w,icons:k,containerAriaLabel:P="Notifications",pauseWhenPageIsHidden:T}=e,[R,E]=Y.useState([]),M=Y.useMemo(()=>Array.from(new Set([r].concat(R.filter(le=>le.position).map(le=>le.position)))),[R,r]),[$,V]=Y.useState([]),[Q,W]=Y.useState(!1),[Z,B]=Y.useState(!1),[H,G]=Y.useState(m!=="system"?m:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),se=Y.useRef(null),A=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),D=Y.useRef(null),U=Y.useRef(!1),re=Y.useCallback(le=>{E(_e=>{var me;return(me=_e.find(Se=>Se.id===le.id))!=null&&me.delete||Tn.dismiss(le.id),_e.filter(({id:Se})=>Se!==le.id)})},[]);return Y.useEffect(()=>Tn.subscribe(le=>{if(le.dismiss){E(_e=>_e.map(me=>me.id===le.id?{...me,delete:!0}:me));return}setTimeout(()=>{Uk.flushSync(()=>{E(_e=>{let me=_e.findIndex(Se=>Se.id===le.id);return me!==-1?[..._e.slice(0,me),{..._e[me],...le},..._e.slice(me+1)]:[le,..._e]})})})}),[]),Y.useEffect(()=>{if(m!=="system"){G(m);return}if(m==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?G("dark"):G("light")),typeof window>"u")return;let le=window.matchMedia("(prefers-color-scheme: dark)");try{le.addEventListener("change",({matches:_e})=>{G(_e?"dark":"light")})}catch{le.addListener(({matches:me})=>{try{G(me?"dark":"light")}catch(Se){console.error(Se)}})}},[m]),Y.useEffect(()=>{R.length<=1&&W(!1)},[R]),Y.useEffect(()=>{let le=_e=>{var me,Se;s.every(xe=>_e[xe]||_e.code===xe)&&(W(!0),(me=se.current)==null||me.focus()),_e.code==="Escape"&&(document.activeElement===se.current||(Se=se.current)!=null&&Se.contains(document.activeElement))&&W(!1)};return document.addEventListener("keydown",le),()=>document.removeEventListener("keydown",le)},[s]),Y.useEffect(()=>{if(se.current)return()=>{D.current&&(D.current.focus({preventScroll:!0}),D.current=null,U.current=!1)}},[se.current]),Y.createElement("section",{ref:t,"aria-label":`${P} ${A}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},M.map((le,_e)=>{var me;let[Se,xe]=le.split("-");return R.length?Y.createElement("ol",{key:le,dir:S==="auto"?S0():S,tabIndex:-1,ref:se,className:c,"data-sonner-toaster":!0,"data-theme":H,"data-y-position":Se,"data-lifted":Q&&R.length>1&&!i,"data-x-position":xe,style:{"--front-toast-height":`${((me=$[0])==null?void 0:me.height)||0}px`,"--width":`${VI}px`,"--gap":`${N}px`,...v,...KI(d,h)},onBlur:te=>{U.current&&!te.currentTarget.contains(te.relatedTarget)&&(U.current=!1,D.current&&(D.current.focus({preventScroll:!0}),D.current=null))},onFocus:te=>{te.target instanceof HTMLElement&&te.target.dataset.dismissible==="false"||U.current||(U.current=!0,D.current=te.relatedTarget)},onMouseEnter:()=>W(!0),onMouseMove:()=>W(!0),onMouseLeave:()=>{Z||W(!1)},onDragEnd:()=>W(!1),onPointerDown:te=>{te.target instanceof HTMLElement&&te.target.dataset.dismissible==="false"||B(!0)},onPointerUp:()=>B(!1)},R.filter(te=>!te.position&&_e===0||te.position===le).map((te,Oe)=>{var We,De;return Y.createElement(ZI,{key:te.id,icons:k,index:Oe,toast:te,defaultRichColors:g,duration:(We=x==null?void 0:x.duration)!=null?We:y,className:x==null?void 0:x.className,descriptionClassName:x==null?void 0:x.descriptionClassName,invert:n,visibleToasts:b,closeButton:(De=x==null?void 0:x.closeButton)!=null?De:a,interacting:Z,position:le,style:x==null?void 0:x.style,unstyled:x==null?void 0:x.unstyled,classNames:x==null?void 0:x.classNames,cancelButtonStyle:x==null?void 0:x.cancelButtonStyle,actionButtonStyle:x==null?void 0:x.actionButtonStyle,removeToast:re,toasts:R.filter(Ue=>Ue.position==te.position),heights:$.filter(Ue=>Ue.position==te.position),setHeights:V,expandByDefault:i,gap:N,loadingIcon:w,expanded:Q,pauseWhenPageIsHidden:T,swipeDirections:e.swipeDirections})})):null}))});const XI=({...e})=>{const{theme:t="system"}=SI();return l.jsx(YI,{theme:t,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...e})};var QI=Av[" useId ".trim().toString()]||(()=>{}),JI=0;function $r(e){const[t,n]=p.useState(QI());return Et(()=>{e||n(r=>r??String(JI++))},[e]),e||(t?`radix-${t}`:"")}const e5=["top","right","bottom","left"],Ei=Math.min,Hn=Math.max,Eh=Math.round,Sd=Math.floor,cs=e=>({x:e,y:e}),t5={left:"right",right:"left",bottom:"top",top:"bottom"},n5={start:"end",end:"start"};function qg(e,t,n){return Hn(e,Ei(t,n))}function zs(e,t){return typeof e=="function"?e(t):e}function Bs(e){return e.split("-")[0]}function kl(e){return e.split("-")[1]}function Oy(e){return e==="x"?"y":"x"}function Ly(e){return e==="y"?"height":"width"}const r5=new Set(["top","bottom"]);function is(e){return r5.has(Bs(e))?"y":"x"}function My(e){return Oy(is(e))}function s5(e,t,n){n===void 0&&(n=!1);const r=kl(e),s=My(e),i=Ly(s);let a=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(a=Rh(a)),[a,Rh(a)]}function i5(e){const t=Rh(e);return[Hg(e),t,Hg(t)]}function Hg(e){return e.replace(/start|end/g,t=>n5[t])}const k0=["left","right"],N0=["right","left"],o5=["top","bottom"],a5=["bottom","top"];function l5(e,t,n){switch(e){case"top":case"bottom":return n?t?N0:k0:t?k0:N0;case"left":case"right":return t?o5:a5;default:return[]}}function c5(e,t,n,r){const s=kl(e);let i=l5(Bs(e),n==="start",r);return s&&(i=i.map(a=>a+"-"+s),t&&(i=i.concat(i.map(Hg)))),i}function Rh(e){return e.replace(/left|right|bottom|top/g,t=>t5[t])}function u5(e){return{top:0,right:0,bottom:0,left:0,...e}}function BN(e){return typeof e!="number"?u5(e):{top:e,right:e,bottom:e,left:e}}function Ah(e){const{x:t,y:n,width:r,height:s}=e;return{width:r,height:s,top:n,left:t,right:t+r,bottom:n+s,x:t,y:n}}function C0(e,t,n){let{reference:r,floating:s}=e;const i=is(t),a=My(t),c=Ly(a),d=Bs(t),h=i==="y",m=r.x+r.width/2-s.width/2,g=r.y+r.height/2-s.height/2,y=r[c]/2-s[c]/2;let v;switch(d){case"top":v={x:m,y:r.y-s.height};break;case"bottom":v={x:m,y:r.y+r.height};break;case"right":v={x:r.x+r.width,y:g};break;case"left":v={x:r.x-s.width,y:g};break;default:v={x:r.x,y:r.y}}switch(kl(t)){case"start":v[a]-=y*(n&&h?-1:1);break;case"end":v[a]+=y*(n&&h?-1:1);break}return v}const d5=async(e,t,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:i=[],platform:a}=n,c=i.filter(Boolean),d=await(a.isRTL==null?void 0:a.isRTL(t));let h=await a.getElementRects({reference:e,floating:t,strategy:s}),{x:m,y:g}=C0(h,r,d),y=r,v={},b=0;for(let x=0;x<c.length;x++){const{name:S,fn:N}=c[x],{x:w,y:k,data:P,reset:T}=await N({x:m,y:g,initialPlacement:r,placement:y,strategy:s,middlewareData:v,rects:h,platform:a,elements:{reference:e,floating:t}});m=w??m,g=k??g,v={...v,[S]:{...v[S],...P}},T&&b<=50&&(b++,typeof T=="object"&&(T.placement&&(y=T.placement),T.rects&&(h=T.rects===!0?await a.getElementRects({reference:e,floating:t,strategy:s}):T.rects),{x:m,y:g}=C0(h,y,d)),x=-1)}return{x:m,y:g,placement:y,strategy:s,middlewareData:v}};async function Yc(e,t){var n;t===void 0&&(t={});const{x:r,y:s,platform:i,rects:a,elements:c,strategy:d}=e,{boundary:h="clippingAncestors",rootBoundary:m="viewport",elementContext:g="floating",altBoundary:y=!1,padding:v=0}=zs(t,e),b=BN(v),S=c[y?g==="floating"?"reference":"floating":g],N=Ah(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(S)))==null||n?S:S.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(c.floating)),boundary:h,rootBoundary:m,strategy:d})),w=g==="floating"?{x:r,y:s,width:a.floating.width,height:a.floating.height}:a.reference,k=await(i.getOffsetParent==null?void 0:i.getOffsetParent(c.floating)),P=await(i.isElement==null?void 0:i.isElement(k))?await(i.getScale==null?void 0:i.getScale(k))||{x:1,y:1}:{x:1,y:1},T=Ah(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:c,rect:w,offsetParent:k,strategy:d}):w);return{top:(N.top-T.top+b.top)/P.y,bottom:(T.bottom-N.bottom+b.bottom)/P.y,left:(N.left-T.left+b.left)/P.x,right:(T.right-N.right+b.right)/P.x}}const h5=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:s,rects:i,platform:a,elements:c,middlewareData:d}=t,{element:h,padding:m=0}=zs(e,t)||{};if(h==null)return{};const g=BN(m),y={x:n,y:r},v=My(s),b=Ly(v),x=await a.getDimensions(h),S=v==="y",N=S?"top":"left",w=S?"bottom":"right",k=S?"clientHeight":"clientWidth",P=i.reference[b]+i.reference[v]-y[v]-i.floating[b],T=y[v]-i.reference[v],R=await(a.getOffsetParent==null?void 0:a.getOffsetParent(h));let E=R?R[k]:0;(!E||!await(a.isElement==null?void 0:a.isElement(R)))&&(E=c.floating[k]||i.floating[b]);const M=P/2-T/2,$=E/2-x[b]/2-1,V=Ei(g[N],$),Q=Ei(g[w],$),W=V,Z=E-x[b]-Q,B=E/2-x[b]/2+M,H=qg(W,B,Z),G=!d.arrow&&kl(s)!=null&&B!==H&&i.reference[b]/2-(B<W?V:Q)-x[b]/2<0,se=G?B<W?B-W:B-Z:0;return{[v]:y[v]+se,data:{[v]:H,centerOffset:B-H-se,...G&&{alignmentOffset:se}},reset:G}}}),f5=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:s,middlewareData:i,rects:a,initialPlacement:c,platform:d,elements:h}=t,{mainAxis:m=!0,crossAxis:g=!0,fallbackPlacements:y,fallbackStrategy:v="bestFit",fallbackAxisSideDirection:b="none",flipAlignment:x=!0,...S}=zs(e,t);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const N=Bs(s),w=is(c),k=Bs(c)===c,P=await(d.isRTL==null?void 0:d.isRTL(h.floating)),T=y||(k||!x?[Rh(c)]:i5(c)),R=b!=="none";!y&&R&&T.push(...c5(c,x,b,P));const E=[c,...T],M=await Yc(t,S),$=[];let V=((r=i.flip)==null?void 0:r.overflows)||[];if(m&&$.push(M[N]),g){const B=s5(s,a,P);$.push(M[B[0]],M[B[1]])}if(V=[...V,{placement:s,overflows:$}],!$.every(B=>B<=0)){var Q,W;const B=(((Q=i.flip)==null?void 0:Q.index)||0)+1,H=E[B];if(H&&(!(g==="alignment"?w!==is(H):!1)||V.every(A=>A.overflows[0]>0&&is(A.placement)===w)))return{data:{index:B,overflows:V},reset:{placement:H}};let G=(W=V.filter(se=>se.overflows[0]<=0).sort((se,A)=>se.overflows[1]-A.overflows[1])[0])==null?void 0:W.placement;if(!G)switch(v){case"bestFit":{var Z;const se=(Z=V.filter(A=>{if(R){const D=is(A.placement);return D===w||D==="y"}return!0}).map(A=>[A.placement,A.overflows.filter(D=>D>0).reduce((D,U)=>D+U,0)]).sort((A,D)=>A[1]-D[1])[0])==null?void 0:Z[0];se&&(G=se);break}case"initialPlacement":G=c;break}if(s!==G)return{reset:{placement:G}}}return{}}}};function P0(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function j0(e){return e5.some(t=>e[t]>=0)}const m5=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...s}=zs(e,t);switch(r){case"referenceHidden":{const i=await Yc(t,{...s,elementContext:"reference"}),a=P0(i,n.reference);return{data:{referenceHiddenOffsets:a,referenceHidden:j0(a)}}}case"escaped":{const i=await Yc(t,{...s,altBoundary:!0}),a=P0(i,n.floating);return{data:{escapedOffsets:a,escaped:j0(a)}}}default:return{}}}}},UN=new Set(["left","top"]);async function p5(e,t){const{placement:n,platform:r,elements:s}=e,i=await(r.isRTL==null?void 0:r.isRTL(s.floating)),a=Bs(n),c=kl(n),d=is(n)==="y",h=UN.has(a)?-1:1,m=i&&d?-1:1,g=zs(t,e);let{mainAxis:y,crossAxis:v,alignmentAxis:b}=typeof g=="number"?{mainAxis:g,crossAxis:0,alignmentAxis:null}:{mainAxis:g.mainAxis||0,crossAxis:g.crossAxis||0,alignmentAxis:g.alignmentAxis};return c&&typeof b=="number"&&(v=c==="end"?b*-1:b),d?{x:v*m,y:y*h}:{x:y*h,y:v*m}}const g5=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:s,y:i,placement:a,middlewareData:c}=t,d=await p5(t,e);return a===((n=c.offset)==null?void 0:n.placement)&&(r=c.arrow)!=null&&r.alignmentOffset?{}:{x:s+d.x,y:i+d.y,data:{...d,placement:a}}}}},v5=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:s}=t,{mainAxis:i=!0,crossAxis:a=!1,limiter:c={fn:S=>{let{x:N,y:w}=S;return{x:N,y:w}}},...d}=zs(e,t),h={x:n,y:r},m=await Yc(t,d),g=is(Bs(s)),y=Oy(g);let v=h[y],b=h[g];if(i){const S=y==="y"?"top":"left",N=y==="y"?"bottom":"right",w=v+m[S],k=v-m[N];v=qg(w,v,k)}if(a){const S=g==="y"?"top":"left",N=g==="y"?"bottom":"right",w=b+m[S],k=b-m[N];b=qg(w,b,k)}const x=c.fn({...t,[y]:v,[g]:b});return{...x,data:{x:x.x-n,y:x.y-r,enabled:{[y]:i,[g]:a}}}}}},y5=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:s,rects:i,middlewareData:a}=t,{offset:c=0,mainAxis:d=!0,crossAxis:h=!0}=zs(e,t),m={x:n,y:r},g=is(s),y=Oy(g);let v=m[y],b=m[g];const x=zs(c,t),S=typeof x=="number"?{mainAxis:x,crossAxis:0}:{mainAxis:0,crossAxis:0,...x};if(d){const k=y==="y"?"height":"width",P=i.reference[y]-i.floating[k]+S.mainAxis,T=i.reference[y]+i.reference[k]-S.mainAxis;v<P?v=P:v>T&&(v=T)}if(h){var N,w;const k=y==="y"?"width":"height",P=UN.has(Bs(s)),T=i.reference[g]-i.floating[k]+(P&&((N=a.offset)==null?void 0:N[g])||0)+(P?0:S.crossAxis),R=i.reference[g]+i.reference[k]+(P?0:((w=a.offset)==null?void 0:w[g])||0)-(P?S.crossAxis:0);b<T?b=T:b>R&&(b=R)}return{[y]:v,[g]:b}}}},x5=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:s,rects:i,platform:a,elements:c}=t,{apply:d=()=>{},...h}=zs(e,t),m=await Yc(t,h),g=Bs(s),y=kl(s),v=is(s)==="y",{width:b,height:x}=i.floating;let S,N;g==="top"||g==="bottom"?(S=g,N=y===(await(a.isRTL==null?void 0:a.isRTL(c.floating))?"start":"end")?"left":"right"):(N=g,S=y==="end"?"top":"bottom");const w=x-m.top-m.bottom,k=b-m.left-m.right,P=Ei(x-m[S],w),T=Ei(b-m[N],k),R=!t.middlewareData.shift;let E=P,M=T;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(M=k),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(E=w),R&&!y){const V=Hn(m.left,0),Q=Hn(m.right,0),W=Hn(m.top,0),Z=Hn(m.bottom,0);v?M=b-2*(V!==0||Q!==0?V+Q:Hn(m.left,m.right)):E=x-2*(W!==0||Z!==0?W+Z:Hn(m.top,m.bottom))}await d({...t,availableWidth:M,availableHeight:E});const $=await a.getDimensions(c.floating);return b!==$.width||x!==$.height?{reset:{rects:!0}}:{}}}};function Of(){return typeof window<"u"}function Nl(e){return VN(e)?(e.nodeName||"").toLowerCase():"#document"}function Yn(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function fs(e){var t;return(t=(VN(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function VN(e){return Of()?e instanceof Node||e instanceof Yn(e).Node:!1}function zr(e){return Of()?e instanceof Element||e instanceof Yn(e).Element:!1}function ds(e){return Of()?e instanceof HTMLElement||e instanceof Yn(e).HTMLElement:!1}function T0(e){return!Of()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Yn(e).ShadowRoot}const _5=new Set(["inline","contents"]);function ku(e){const{overflow:t,overflowX:n,overflowY:r,display:s}=Br(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!_5.has(s)}const w5=new Set(["table","td","th"]);function b5(e){return w5.has(Nl(e))}const S5=[":popover-open",":modal"];function Lf(e){return S5.some(t=>{try{return e.matches(t)}catch{return!1}})}const k5=["transform","translate","scale","rotate","perspective"],N5=["transform","translate","scale","rotate","perspective","filter"],C5=["paint","layout","strict","content"];function Iy(e){const t=Dy(),n=zr(e)?Br(e):e;return k5.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||N5.some(r=>(n.willChange||"").includes(r))||C5.some(r=>(n.contain||"").includes(r))}function P5(e){let t=Ri(e);for(;ds(t)&&!cl(t);){if(Iy(t))return t;if(Lf(t))return null;t=Ri(t)}return null}function Dy(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const j5=new Set(["html","body","#document"]);function cl(e){return j5.has(Nl(e))}function Br(e){return Yn(e).getComputedStyle(e)}function Mf(e){return zr(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Ri(e){if(Nl(e)==="html")return e;const t=e.assignedSlot||e.parentNode||T0(e)&&e.host||fs(e);return T0(t)?t.host:t}function WN(e){const t=Ri(e);return cl(t)?e.ownerDocument?e.ownerDocument.body:e.body:ds(t)&&ku(t)?t:WN(t)}function Xc(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const s=WN(e),i=s===((r=e.ownerDocument)==null?void 0:r.body),a=Yn(s);if(i){const c=Gg(a);return t.concat(a,a.visualViewport||[],ku(s)?s:[],c&&n?Xc(c):[])}return t.concat(s,Xc(s,[],n))}function Gg(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function qN(e){const t=Br(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const s=ds(e),i=s?e.offsetWidth:n,a=s?e.offsetHeight:r,c=Eh(n)!==i||Eh(r)!==a;return c&&(n=i,r=a),{width:n,height:r,$:c}}function $y(e){return zr(e)?e:e.contextElement}function Ua(e){const t=$y(e);if(!ds(t))return cs(1);const n=t.getBoundingClientRect(),{width:r,height:s,$:i}=qN(t);let a=(i?Eh(n.width):n.width)/r,c=(i?Eh(n.height):n.height)/s;return(!a||!Number.isFinite(a))&&(a=1),(!c||!Number.isFinite(c))&&(c=1),{x:a,y:c}}const T5=cs(0);function HN(e){const t=Yn(e);return!Dy()||!t.visualViewport?T5:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function E5(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==Yn(e)?!1:t}function To(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const s=e.getBoundingClientRect(),i=$y(e);let a=cs(1);t&&(r?zr(r)&&(a=Ua(r)):a=Ua(e));const c=E5(i,n,r)?HN(i):cs(0);let d=(s.left+c.x)/a.x,h=(s.top+c.y)/a.y,m=s.width/a.x,g=s.height/a.y;if(i){const y=Yn(i),v=r&&zr(r)?Yn(r):r;let b=y,x=Gg(b);for(;x&&r&&v!==b;){const S=Ua(x),N=x.getBoundingClientRect(),w=Br(x),k=N.left+(x.clientLeft+parseFloat(w.paddingLeft))*S.x,P=N.top+(x.clientTop+parseFloat(w.paddingTop))*S.y;d*=S.x,h*=S.y,m*=S.x,g*=S.y,d+=k,h+=P,b=Yn(x),x=Gg(b)}}return Ah({width:m,height:g,x:d,y:h})}function Fy(e,t){const n=Mf(e).scrollLeft;return t?t.left+n:To(fs(e)).left+n}function GN(e,t,n){n===void 0&&(n=!1);const r=e.getBoundingClientRect(),s=r.left+t.scrollLeft-(n?0:Fy(e,r)),i=r.top+t.scrollTop;return{x:s,y:i}}function R5(e){let{elements:t,rect:n,offsetParent:r,strategy:s}=e;const i=s==="fixed",a=fs(r),c=t?Lf(t.floating):!1;if(r===a||c&&i)return n;let d={scrollLeft:0,scrollTop:0},h=cs(1);const m=cs(0),g=ds(r);if((g||!g&&!i)&&((Nl(r)!=="body"||ku(a))&&(d=Mf(r)),ds(r))){const v=To(r);h=Ua(r),m.x=v.x+r.clientLeft,m.y=v.y+r.clientTop}const y=a&&!g&&!i?GN(a,d,!0):cs(0);return{width:n.width*h.x,height:n.height*h.y,x:n.x*h.x-d.scrollLeft*h.x+m.x+y.x,y:n.y*h.y-d.scrollTop*h.y+m.y+y.y}}function A5(e){return Array.from(e.getClientRects())}function O5(e){const t=fs(e),n=Mf(e),r=e.ownerDocument.body,s=Hn(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),i=Hn(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let a=-n.scrollLeft+Fy(e);const c=-n.scrollTop;return Br(r).direction==="rtl"&&(a+=Hn(t.clientWidth,r.clientWidth)-s),{width:s,height:i,x:a,y:c}}function L5(e,t){const n=Yn(e),r=fs(e),s=n.visualViewport;let i=r.clientWidth,a=r.clientHeight,c=0,d=0;if(s){i=s.width,a=s.height;const h=Dy();(!h||h&&t==="fixed")&&(c=s.offsetLeft,d=s.offsetTop)}return{width:i,height:a,x:c,y:d}}const M5=new Set(["absolute","fixed"]);function I5(e,t){const n=To(e,!0,t==="fixed"),r=n.top+e.clientTop,s=n.left+e.clientLeft,i=ds(e)?Ua(e):cs(1),a=e.clientWidth*i.x,c=e.clientHeight*i.y,d=s*i.x,h=r*i.y;return{width:a,height:c,x:d,y:h}}function E0(e,t,n){let r;if(t==="viewport")r=L5(e,n);else if(t==="document")r=O5(fs(e));else if(zr(t))r=I5(t,n);else{const s=HN(e);r={x:t.x-s.x,y:t.y-s.y,width:t.width,height:t.height}}return Ah(r)}function ZN(e,t){const n=Ri(e);return n===t||!zr(n)||cl(n)?!1:Br(n).position==="fixed"||ZN(n,t)}function D5(e,t){const n=t.get(e);if(n)return n;let r=Xc(e,[],!1).filter(c=>zr(c)&&Nl(c)!=="body"),s=null;const i=Br(e).position==="fixed";let a=i?Ri(e):e;for(;zr(a)&&!cl(a);){const c=Br(a),d=Iy(a);!d&&c.position==="fixed"&&(s=null),(i?!d&&!s:!d&&c.position==="static"&&!!s&&M5.has(s.position)||ku(a)&&!d&&ZN(e,a))?r=r.filter(m=>m!==a):s=c,a=Ri(a)}return t.set(e,r),r}function $5(e){let{element:t,boundary:n,rootBoundary:r,strategy:s}=e;const a=[...n==="clippingAncestors"?Lf(t)?[]:D5(t,this._c):[].concat(n),r],c=a[0],d=a.reduce((h,m)=>{const g=E0(t,m,s);return h.top=Hn(g.top,h.top),h.right=Ei(g.right,h.right),h.bottom=Ei(g.bottom,h.bottom),h.left=Hn(g.left,h.left),h},E0(t,c,s));return{width:d.right-d.left,height:d.bottom-d.top,x:d.left,y:d.top}}function F5(e){const{width:t,height:n}=qN(e);return{width:t,height:n}}function z5(e,t,n){const r=ds(t),s=fs(t),i=n==="fixed",a=To(e,!0,i,t);let c={scrollLeft:0,scrollTop:0};const d=cs(0);function h(){d.x=Fy(s)}if(r||!r&&!i)if((Nl(t)!=="body"||ku(s))&&(c=Mf(t)),r){const v=To(t,!0,i,t);d.x=v.x+t.clientLeft,d.y=v.y+t.clientTop}else s&&h();i&&!r&&s&&h();const m=s&&!r&&!i?GN(s,c):cs(0),g=a.left+c.scrollLeft-d.x-m.x,y=a.top+c.scrollTop-d.y-m.y;return{x:g,y,width:a.width,height:a.height}}function _p(e){return Br(e).position==="static"}function R0(e,t){if(!ds(e)||Br(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return fs(e)===n&&(n=n.ownerDocument.body),n}function KN(e,t){const n=Yn(e);if(Lf(e))return n;if(!ds(e)){let s=Ri(e);for(;s&&!cl(s);){if(zr(s)&&!_p(s))return s;s=Ri(s)}return n}let r=R0(e,t);for(;r&&b5(r)&&_p(r);)r=R0(r,t);return r&&cl(r)&&_p(r)&&!Iy(r)?n:r||P5(e)||n}const B5=async function(e){const t=this.getOffsetParent||KN,n=this.getDimensions,r=await n(e.floating);return{reference:z5(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function U5(e){return Br(e).direction==="rtl"}const V5={convertOffsetParentRelativeRectToViewportRelativeRect:R5,getDocumentElement:fs,getClippingRect:$5,getOffsetParent:KN,getElementRects:B5,getClientRects:A5,getDimensions:F5,getScale:Ua,isElement:zr,isRTL:U5};function YN(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function W5(e,t){let n=null,r;const s=fs(e);function i(){var c;clearTimeout(r),(c=n)==null||c.disconnect(),n=null}function a(c,d){c===void 0&&(c=!1),d===void 0&&(d=1),i();const h=e.getBoundingClientRect(),{left:m,top:g,width:y,height:v}=h;if(c||t(),!y||!v)return;const b=Sd(g),x=Sd(s.clientWidth-(m+y)),S=Sd(s.clientHeight-(g+v)),N=Sd(m),k={rootMargin:-b+"px "+-x+"px "+-S+"px "+-N+"px",threshold:Hn(0,Ei(1,d))||1};let P=!0;function T(R){const E=R[0].intersectionRatio;if(E!==d){if(!P)return a();E?a(!1,E):r=setTimeout(()=>{a(!1,1e-7)},1e3)}E===1&&!YN(h,e.getBoundingClientRect())&&a(),P=!1}try{n=new IntersectionObserver(T,{...k,root:s.ownerDocument})}catch{n=new IntersectionObserver(T,k)}n.observe(e)}return a(!0),i}function q5(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:c=typeof IntersectionObserver=="function",animationFrame:d=!1}=r,h=$y(e),m=s||i?[...h?Xc(h):[],...Xc(t)]:[];m.forEach(N=>{s&&N.addEventListener("scroll",n,{passive:!0}),i&&N.addEventListener("resize",n)});const g=h&&c?W5(h,n):null;let y=-1,v=null;a&&(v=new ResizeObserver(N=>{let[w]=N;w&&w.target===h&&v&&(v.unobserve(t),cancelAnimationFrame(y),y=requestAnimationFrame(()=>{var k;(k=v)==null||k.observe(t)})),n()}),h&&!d&&v.observe(h),v.observe(t));let b,x=d?To(e):null;d&&S();function S(){const N=To(e);x&&!YN(x,N)&&n(),x=N,b=requestAnimationFrame(S)}return n(),()=>{var N;m.forEach(w=>{s&&w.removeEventListener("scroll",n),i&&w.removeEventListener("resize",n)}),g==null||g(),(N=v)==null||N.disconnect(),v=null,d&&cancelAnimationFrame(b)}}const H5=g5,G5=v5,Z5=f5,K5=x5,Y5=m5,A0=h5,X5=y5,Q5=(e,t,n)=>{const r=new Map,s={platform:V5,...n},i={...s.platform,_c:r};return d5(e,t,{...s,platform:i})};var J5=typeof document<"u",eD=function(){},Yd=J5?p.useLayoutEffect:eD;function Oh(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,s;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!Oh(e[r],t[r]))return!1;return!0}if(s=Object.keys(e),n=s.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,s[r]))return!1;for(r=n;r--!==0;){const i=s[r];if(!(i==="_owner"&&e.$$typeof)&&!Oh(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function XN(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function O0(e,t){const n=XN(e);return Math.round(t*n)/n}function wp(e){const t=p.useRef(e);return Yd(()=>{t.current=e}),t}function tD(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:i,floating:a}={},transform:c=!0,whileElementsMounted:d,open:h}=e,[m,g]=p.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[y,v]=p.useState(r);Oh(y,r)||v(r);const[b,x]=p.useState(null),[S,N]=p.useState(null),w=p.useCallback(A=>{A!==R.current&&(R.current=A,x(A))},[]),k=p.useCallback(A=>{A!==E.current&&(E.current=A,N(A))},[]),P=i||b,T=a||S,R=p.useRef(null),E=p.useRef(null),M=p.useRef(m),$=d!=null,V=wp(d),Q=wp(s),W=wp(h),Z=p.useCallback(()=>{if(!R.current||!E.current)return;const A={placement:t,strategy:n,middleware:y};Q.current&&(A.platform=Q.current),Q5(R.current,E.current,A).then(D=>{const U={...D,isPositioned:W.current!==!1};B.current&&!Oh(M.current,U)&&(M.current=U,Io.flushSync(()=>{g(U)}))})},[y,t,n,Q,W]);Yd(()=>{h===!1&&M.current.isPositioned&&(M.current.isPositioned=!1,g(A=>({...A,isPositioned:!1})))},[h]);const B=p.useRef(!1);Yd(()=>(B.current=!0,()=>{B.current=!1}),[]),Yd(()=>{if(P&&(R.current=P),T&&(E.current=T),P&&T){if(V.current)return V.current(P,T,Z);Z()}},[P,T,Z,V,$]);const H=p.useMemo(()=>({reference:R,floating:E,setReference:w,setFloating:k}),[w,k]),G=p.useMemo(()=>({reference:P,floating:T}),[P,T]),se=p.useMemo(()=>{const A={position:n,left:0,top:0};if(!G.floating)return A;const D=O0(G.floating,m.x),U=O0(G.floating,m.y);return c?{...A,transform:"translate("+D+"px, "+U+"px)",...XN(G.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:D,top:U}},[n,c,G.floating,m.x,m.y]);return p.useMemo(()=>({...m,update:Z,refs:H,elements:G,floatingStyles:se}),[m,Z,H,G,se])}const nD=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:s}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?A0({element:r.current,padding:s}).fn(n):{}:r?A0({element:r,padding:s}).fn(n):{}}}},rD=(e,t)=>({...H5(e),options:[e,t]}),sD=(e,t)=>({...G5(e),options:[e,t]}),iD=(e,t)=>({...X5(e),options:[e,t]}),oD=(e,t)=>({...Z5(e),options:[e,t]}),aD=(e,t)=>({...K5(e),options:[e,t]}),lD=(e,t)=>({...Y5(e),options:[e,t]}),cD=(e,t)=>({...nD(e),options:[e,t]});var uD="Arrow",QN=p.forwardRef((e,t)=>{const{children:n,width:r=10,height:s=5,...i}=e;return l.jsx(be.svg,{...i,ref:t,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:l.jsx("polygon",{points:"0,0 30,0 15,10"})})});QN.displayName=uD;var dD=QN;function JN(e){const[t,n]=p.useState(void 0);return Et(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let a,c;if("borderBoxSize"in i){const d=i.borderBoxSize,h=Array.isArray(d)?d[0]:d;a=h.inlineSize,c=h.blockSize}else a=e.offsetWidth,c=e.offsetHeight;n({width:a,height:c})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}var zy="Popper",[eC,Cl]=ln(zy),[hD,tC]=eC(zy),nC=e=>{const{__scopePopper:t,children:n}=e,[r,s]=p.useState(null);return l.jsx(hD,{scope:t,anchor:r,onAnchorChange:s,children:n})};nC.displayName=zy;var rC="PopperAnchor",sC=p.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...s}=e,i=tC(rC,n),a=p.useRef(null),c=Fe(t,a);return p.useEffect(()=>{i.onAnchorChange((r==null?void 0:r.current)||a.current)}),r?null:l.jsx(be.div,{...s,ref:c})});sC.displayName=rC;var By="PopperContent",[fD,mD]=eC(By),iC=p.forwardRef((e,t)=>{var te,Oe,We,De,Ue,ze;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:i="center",alignOffset:a=0,arrowPadding:c=0,avoidCollisions:d=!0,collisionBoundary:h=[],collisionPadding:m=0,sticky:g="partial",hideWhenDetached:y=!1,updatePositionStrategy:v="optimized",onPlaced:b,...x}=e,S=tC(By,n),[N,w]=p.useState(null),k=Fe(t,xt=>w(xt)),[P,T]=p.useState(null),R=JN(P),E=(R==null?void 0:R.width)??0,M=(R==null?void 0:R.height)??0,$=r+(i!=="center"?"-"+i:""),V=typeof m=="number"?m:{top:0,right:0,bottom:0,left:0,...m},Q=Array.isArray(h)?h:[h],W=Q.length>0,Z={padding:V,boundary:Q.filter(gD),altBoundary:W},{refs:B,floatingStyles:H,placement:G,isPositioned:se,middlewareData:A}=tD({strategy:"fixed",placement:$,whileElementsMounted:(...xt)=>q5(...xt,{animationFrame:v==="always"}),elements:{reference:S.anchor},middleware:[rD({mainAxis:s+M,alignmentAxis:a}),d&&sD({mainAxis:!0,crossAxis:!1,limiter:g==="partial"?iD():void 0,...Z}),d&&oD({...Z}),aD({...Z,apply:({elements:xt,rects:Ht,availableWidth:In,availableHeight:Dn})=>{const{width:$n,height:gr}=Ht.reference,vr=xt.floating.style;vr.setProperty("--radix-popper-available-width",`${In}px`),vr.setProperty("--radix-popper-available-height",`${Dn}px`),vr.setProperty("--radix-popper-anchor-width",`${$n}px`),vr.setProperty("--radix-popper-anchor-height",`${gr}px`)}}),P&&cD({element:P,padding:c}),vD({arrowWidth:E,arrowHeight:M}),y&&lD({strategy:"referenceHidden",...Z})]}),[D,U]=lC(G),re=kt(b);Et(()=>{se&&(re==null||re())},[se,re]);const le=(te=A.arrow)==null?void 0:te.x,_e=(Oe=A.arrow)==null?void 0:Oe.y,me=((We=A.arrow)==null?void 0:We.centerOffset)!==0,[Se,xe]=p.useState();return Et(()=>{N&&xe(window.getComputedStyle(N).zIndex)},[N]),l.jsx("div",{ref:B.setFloating,"data-radix-popper-content-wrapper":"",style:{...H,transform:se?H.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Se,"--radix-popper-transform-origin":[(De=A.transformOrigin)==null?void 0:De.x,(Ue=A.transformOrigin)==null?void 0:Ue.y].join(" "),...((ze=A.hide)==null?void 0:ze.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:l.jsx(fD,{scope:n,placedSide:D,onArrowChange:T,arrowX:le,arrowY:_e,shouldHideArrow:me,children:l.jsx(be.div,{"data-side":D,"data-align":U,...x,ref:k,style:{...x.style,animation:se?void 0:"none"}})})})});iC.displayName=By;var oC="PopperArrow",pD={top:"bottom",right:"left",bottom:"top",left:"right"},aC=p.forwardRef(function(t,n){const{__scopePopper:r,...s}=t,i=mD(oC,r),a=pD[i.placedSide];return l.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[a]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:l.jsx(dD,{...s,ref:n,style:{...s.style,display:"block"}})})});aC.displayName=oC;function gD(e){return e!==null}var vD=e=>({name:"transformOrigin",options:e,fn(t){var S,N,w;const{placement:n,rects:r,middlewareData:s}=t,a=((S=s.arrow)==null?void 0:S.centerOffset)!==0,c=a?0:e.arrowWidth,d=a?0:e.arrowHeight,[h,m]=lC(n),g={start:"0%",center:"50%",end:"100%"}[m],y=(((N=s.arrow)==null?void 0:N.x)??0)+c/2,v=(((w=s.arrow)==null?void 0:w.y)??0)+d/2;let b="",x="";return h==="bottom"?(b=a?g:`${y}px`,x=`${-d}px`):h==="top"?(b=a?g:`${y}px`,x=`${r.floating.height+d}px`):h==="right"?(b=`${-d}px`,x=a?g:`${v}px`):h==="left"&&(b=`${r.floating.width+d}px`,x=a?g:`${v}px`),{data:{x:b,y:x}}}});function lC(e){const[t,n="center"]=e.split("-");return[t,n]}var Uy=nC,Vy=sC,Wy=iC,qy=aC,[If,eq]=ln("Tooltip",[Cl]),Df=Cl(),cC="TooltipProvider",yD=700,Zg="tooltip.open",[xD,Hy]=If(cC),uC=e=>{const{__scopeTooltip:t,delayDuration:n=yD,skipDelayDuration:r=300,disableHoverableContent:s=!1,children:i}=e,a=p.useRef(!0),c=p.useRef(!1),d=p.useRef(0);return p.useEffect(()=>{const h=d.current;return()=>window.clearTimeout(h)},[]),l.jsx(xD,{scope:t,isOpenDelayedRef:a,delayDuration:n,onOpen:p.useCallback(()=>{window.clearTimeout(d.current),a.current=!1},[]),onClose:p.useCallback(()=>{window.clearTimeout(d.current),d.current=window.setTimeout(()=>a.current=!0,r)},[r]),isPointerInTransitRef:c,onPointerInTransitChange:p.useCallback(h=>{c.current=h},[]),disableHoverableContent:s,children:i})};uC.displayName=cC;var Qc="Tooltip",[_D,$f]=If(Qc),dC=e=>{const{__scopeTooltip:t,children:n,open:r,defaultOpen:s,onOpenChange:i,disableHoverableContent:a,delayDuration:c}=e,d=Hy(Qc,e.__scopeTooltip),h=Df(t),[m,g]=p.useState(null),y=$r(),v=p.useRef(0),b=a??d.disableHoverableContent,x=c??d.delayDuration,S=p.useRef(!1),[N,w]=$s({prop:r,defaultProp:s??!1,onChange:E=>{E?(d.onOpen(),document.dispatchEvent(new CustomEvent(Zg))):d.onClose(),i==null||i(E)},caller:Qc}),k=p.useMemo(()=>N?S.current?"delayed-open":"instant-open":"closed",[N]),P=p.useCallback(()=>{window.clearTimeout(v.current),v.current=0,S.current=!1,w(!0)},[w]),T=p.useCallback(()=>{window.clearTimeout(v.current),v.current=0,w(!1)},[w]),R=p.useCallback(()=>{window.clearTimeout(v.current),v.current=window.setTimeout(()=>{S.current=!0,w(!0),v.current=0},x)},[x,w]);return p.useEffect(()=>()=>{v.current&&(window.clearTimeout(v.current),v.current=0)},[]),l.jsx(Uy,{...h,children:l.jsx(_D,{scope:t,contentId:y,open:N,stateAttribute:k,trigger:m,onTriggerChange:g,onTriggerEnter:p.useCallback(()=>{d.isOpenDelayedRef.current?R():P()},[d.isOpenDelayedRef,R,P]),onTriggerLeave:p.useCallback(()=>{b?T():(window.clearTimeout(v.current),v.current=0)},[T,b]),onOpen:P,onClose:T,disableHoverableContent:b,children:n})})};dC.displayName=Qc;var Kg="TooltipTrigger",hC=p.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,s=$f(Kg,n),i=Hy(Kg,n),a=Df(n),c=p.useRef(null),d=Fe(t,c,s.onTriggerChange),h=p.useRef(!1),m=p.useRef(!1),g=p.useCallback(()=>h.current=!1,[]);return p.useEffect(()=>()=>document.removeEventListener("pointerup",g),[g]),l.jsx(Vy,{asChild:!0,...a,children:l.jsx(be.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...r,ref:d,onPointerMove:ae(e.onPointerMove,y=>{y.pointerType!=="touch"&&!m.current&&!i.isPointerInTransitRef.current&&(s.onTriggerEnter(),m.current=!0)}),onPointerLeave:ae(e.onPointerLeave,()=>{s.onTriggerLeave(),m.current=!1}),onPointerDown:ae(e.onPointerDown,()=>{s.open&&s.onClose(),h.current=!0,document.addEventListener("pointerup",g,{once:!0})}),onFocus:ae(e.onFocus,()=>{h.current||s.onOpen()}),onBlur:ae(e.onBlur,s.onClose),onClick:ae(e.onClick,s.onClose)})})});hC.displayName=Kg;var wD="TooltipPortal",[tq,bD]=If(wD,{forceMount:void 0}),ul="TooltipContent",fC=p.forwardRef((e,t)=>{const n=bD(ul,e.__scopeTooltip),{forceMount:r=n.forceMount,side:s="top",...i}=e,a=$f(ul,e.__scopeTooltip);return l.jsx(cn,{present:r||a.open,children:a.disableHoverableContent?l.jsx(mC,{side:s,...i,ref:t}):l.jsx(SD,{side:s,...i,ref:t})})}),SD=p.forwardRef((e,t)=>{const n=$f(ul,e.__scopeTooltip),r=Hy(ul,e.__scopeTooltip),s=p.useRef(null),i=Fe(t,s),[a,c]=p.useState(null),{trigger:d,onClose:h}=n,m=s.current,{onPointerInTransitChange:g}=r,y=p.useCallback(()=>{c(null),g(!1)},[g]),v=p.useCallback((b,x)=>{const S=b.currentTarget,N={x:b.clientX,y:b.clientY},w=jD(N,S.getBoundingClientRect()),k=TD(N,w),P=ED(x.getBoundingClientRect()),T=AD([...k,...P]);c(T),g(!0)},[g]);return p.useEffect(()=>()=>y(),[y]),p.useEffect(()=>{if(d&&m){const b=S=>v(S,m),x=S=>v(S,d);return d.addEventListener("pointerleave",b),m.addEventListener("pointerleave",x),()=>{d.removeEventListener("pointerleave",b),m.removeEventListener("pointerleave",x)}}},[d,m,v,y]),p.useEffect(()=>{if(a){const b=x=>{const S=x.target,N={x:x.clientX,y:x.clientY},w=(d==null?void 0:d.contains(S))||(m==null?void 0:m.contains(S)),k=!RD(N,a);w?y():k&&(y(),h())};return document.addEventListener("pointermove",b),()=>document.removeEventListener("pointermove",b)}},[d,m,a,h,y]),l.jsx(mC,{...e,ref:i})}),[kD,ND]=If(Qc,{isInside:!1}),CD=qk("TooltipContent"),mC=p.forwardRef((e,t)=>{const{__scopeTooltip:n,children:r,"aria-label":s,onEscapeKeyDown:i,onPointerDownOutside:a,...c}=e,d=$f(ul,n),h=Df(n),{onClose:m}=d;return p.useEffect(()=>(document.addEventListener(Zg,m),()=>document.removeEventListener(Zg,m)),[m]),p.useEffect(()=>{if(d.trigger){const g=y=>{const v=y.target;v!=null&&v.contains(d.trigger)&&m()};return window.addEventListener("scroll",g,{capture:!0}),()=>window.removeEventListener("scroll",g,{capture:!0})}},[d.trigger,m]),l.jsx(bl,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:a,onFocusOutside:g=>g.preventDefault(),onDismiss:m,children:l.jsxs(Wy,{"data-state":d.stateAttribute,...h,...c,ref:t,style:{...c.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[l.jsx(CD,{children:r}),l.jsx(kD,{scope:n,isInside:!0,children:l.jsx(ZL,{id:d.contentId,role:"tooltip",children:s||r})})]})})});fC.displayName=ul;var pC="TooltipArrow",PD=p.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,s=Df(n);return ND(pC,n).isInside?null:l.jsx(qy,{...s,...r,ref:t})});PD.displayName=pC;function jD(e,t){const n=Math.abs(t.top-e.y),r=Math.abs(t.bottom-e.y),s=Math.abs(t.right-e.x),i=Math.abs(t.left-e.x);switch(Math.min(n,r,s,i)){case i:return"left";case s:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function TD(e,t,n=5){const r=[];switch(t){case"top":r.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case"bottom":r.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case"left":r.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case"right":r.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n});break}return r}function ED(e){const{top:t,right:n,bottom:r,left:s}=e;return[{x:s,y:t},{x:n,y:t},{x:n,y:r},{x:s,y:r}]}function RD(e,t){const{x:n,y:r}=e;let s=!1;for(let i=0,a=t.length-1;i<t.length;a=i++){const c=t[i],d=t[a],h=c.x,m=c.y,g=d.x,y=d.y;m>r!=y>r&&n<(g-h)*(r-m)/(y-m)+h&&(s=!s)}return s}function AD(e){const t=e.slice();return t.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),OD(t)}function OD(e){if(e.length<=1)return e.slice();const t=[];for(let r=0;r<e.length;r++){const s=e[r];for(;t.length>=2;){const i=t[t.length-1],a=t[t.length-2];if((i.x-a.x)*(s.y-a.y)>=(i.y-a.y)*(s.x-a.x))t.pop();else break}t.push(s)}t.pop();const n=[];for(let r=e.length-1;r>=0;r--){const s=e[r];for(;n.length>=2;){const i=n[n.length-1],a=n[n.length-2];if((i.x-a.x)*(s.y-a.y)>=(i.y-a.y)*(s.x-a.x))n.pop();else break}n.push(s)}return n.pop(),t.length===1&&n.length===1&&t[0].x===n[0].x&&t[0].y===n[0].y?t:t.concat(n)}var LD=uC,MD=dC,ID=hC,gC=fC;const vC=LD,Ji=MD,eo=ID,ni=p.forwardRef(({className:e,sideOffset:t=4,...n},r)=>l.jsx(gC,{ref:r,sideOffset:t,className:ee("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n}));ni.displayName=gC.displayName;var Ff=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},zf=typeof window>"u"||"Deno"in globalThis;function Cr(){}function DD(e,t){return typeof e=="function"?e(t):e}function $D(e){return typeof e=="number"&&e>=0&&e!==1/0}function FD(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Yg(e,t){return typeof e=="function"?e(t):e}function zD(e,t){return typeof e=="function"?e(t):e}function L0(e,t){const{type:n="all",exact:r,fetchStatus:s,predicate:i,queryKey:a,stale:c}=e;if(a){if(r){if(t.queryHash!==Gy(a,t.options))return!1}else if(!eu(t.queryKey,a))return!1}if(n!=="all"){const d=t.isActive();if(n==="active"&&!d||n==="inactive"&&d)return!1}return!(typeof c=="boolean"&&t.isStale()!==c||s&&s!==t.state.fetchStatus||i&&!i(t))}function M0(e,t){const{exact:n,status:r,predicate:s,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(n){if(Jc(t.options.mutationKey)!==Jc(i))return!1}else if(!eu(t.options.mutationKey,i))return!1}return!(r&&t.state.status!==r||s&&!s(t))}function Gy(e,t){return((t==null?void 0:t.queryKeyHashFn)||Jc)(e)}function Jc(e){return JSON.stringify(e,(t,n)=>Xg(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function eu(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(n=>eu(e[n],t[n])):!1}function yC(e,t){if(e===t)return e;const n=I0(e)&&I0(t);if(n||Xg(e)&&Xg(t)){const r=n?e:Object.keys(e),s=r.length,i=n?t:Object.keys(t),a=i.length,c=n?[]:{},d=new Set(r);let h=0;for(let m=0;m<a;m++){const g=n?m:i[m];(!n&&d.has(g)||n)&&e[g]===void 0&&t[g]===void 0?(c[g]=void 0,h++):(c[g]=yC(e[g],t[g]),c[g]===e[g]&&e[g]!==void 0&&h++)}return s===a&&h===s?e:c}return t}function I0(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Xg(e){if(!D0(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!D0(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function D0(e){return Object.prototype.toString.call(e)==="[object Object]"}function BD(e){return new Promise(t=>{setTimeout(t,e)})}function UD(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?yC(e,t):t}function VD(e,t,n=0){const r=[...e,t];return n&&r.length>n?r.slice(1):r}function WD(e,t,n=0){const r=[t,...e];return n&&r.length>n?r.slice(0,-1):r}var Zy=Symbol();function xC(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===Zy?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var mo,ci,Ga,b1,qD=(b1=class extends Ff{constructor(){super();Je(this,mo);Je(this,ci);Je(this,Ga);Ie(this,Ga,t=>{if(!zf&&window.addEventListener){const n=()=>t();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){X(this,ci)||this.setEventListener(X(this,Ga))}onUnsubscribe(){var t;this.hasListeners()||((t=X(this,ci))==null||t.call(this),Ie(this,ci,void 0))}setEventListener(t){var n;Ie(this,Ga,t),(n=X(this,ci))==null||n.call(this),Ie(this,ci,t(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(t){X(this,mo)!==t&&(Ie(this,mo,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(n=>{n(t)})}isFocused(){var t;return typeof X(this,mo)=="boolean"?X(this,mo):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},mo=new WeakMap,ci=new WeakMap,Ga=new WeakMap,b1),_C=new qD,Za,ui,Ka,S1,HD=(S1=class extends Ff{constructor(){super();Je(this,Za,!0);Je(this,ui);Je(this,Ka);Ie(this,Ka,t=>{if(!zf&&window.addEventListener){const n=()=>t(!0),r=()=>t(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){X(this,ui)||this.setEventListener(X(this,Ka))}onUnsubscribe(){var t;this.hasListeners()||((t=X(this,ui))==null||t.call(this),Ie(this,ui,void 0))}setEventListener(t){var n;Ie(this,Ka,t),(n=X(this,ui))==null||n.call(this),Ie(this,ui,t(this.setOnline.bind(this)))}setOnline(t){X(this,Za)!==t&&(Ie(this,Za,t),this.listeners.forEach(r=>{r(t)}))}isOnline(){return X(this,Za)}},Za=new WeakMap,ui=new WeakMap,Ka=new WeakMap,S1),Lh=new HD;function GD(){let e,t;const n=new Promise((s,i)=>{e=s,t=i});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),e(s)},n.reject=s=>{r({status:"rejected",reason:s}),t(s)},n}function ZD(e){return Math.min(1e3*2**e,3e4)}function wC(e){return(e??"online")==="online"?Lh.isOnline():!0}var bC=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function bp(e){return e instanceof bC}function SC(e){let t=!1,n=0,r=!1,s;const i=GD(),a=x=>{var S;r||(y(new bC(x)),(S=e.abort)==null||S.call(e))},c=()=>{t=!0},d=()=>{t=!1},h=()=>_C.isFocused()&&(e.networkMode==="always"||Lh.isOnline())&&e.canRun(),m=()=>wC(e.networkMode)&&e.canRun(),g=x=>{var S;r||(r=!0,(S=e.onSuccess)==null||S.call(e,x),s==null||s(),i.resolve(x))},y=x=>{var S;r||(r=!0,(S=e.onError)==null||S.call(e,x),s==null||s(),i.reject(x))},v=()=>new Promise(x=>{var S;s=N=>{(r||h())&&x(N)},(S=e.onPause)==null||S.call(e)}).then(()=>{var x;s=void 0,r||(x=e.onContinue)==null||x.call(e)}),b=()=>{if(r)return;let x;const S=n===0?e.initialPromise:void 0;try{x=S??e.fn()}catch(N){x=Promise.reject(N)}Promise.resolve(x).then(g).catch(N=>{var R;if(r)return;const w=e.retry??(zf?0:3),k=e.retryDelay??ZD,P=typeof k=="function"?k(n,N):k,T=w===!0||typeof w=="number"&&n<w||typeof w=="function"&&w(n,N);if(t||!T){y(N);return}n++,(R=e.onFail)==null||R.call(e,n,N),BD(P).then(()=>h()?void 0:v()).then(()=>{t?y(N):b()})})};return{promise:i,cancel:a,continue:()=>(s==null||s(),i),cancelRetry:c,continueRetry:d,canStart:m,start:()=>(m()?b():v().then(b),i)}}var KD=e=>setTimeout(e,0);function YD(){let e=[],t=0,n=c=>{c()},r=c=>{c()},s=KD;const i=c=>{t?e.push(c):s(()=>{n(c)})},a=()=>{const c=e;e=[],c.length&&s(()=>{r(()=>{c.forEach(d=>{n(d)})})})};return{batch:c=>{let d;t++;try{d=c()}finally{t--,t||a()}return d},batchCalls:c=>(...d)=>{i(()=>{c(...d)})},schedule:i,setNotifyFunction:c=>{n=c},setBatchNotifyFunction:c=>{r=c},setScheduler:c=>{s=c}}}var gn=YD(),po,k1,kC=(k1=class{constructor(){Je(this,po)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),$D(this.gcTime)&&Ie(this,po,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(zf?1/0:5*60*1e3))}clearGcTimeout(){X(this,po)&&(clearTimeout(X(this,po)),Ie(this,po,void 0))}},po=new WeakMap,k1),Ya,go,ir,vo,rn,mu,yo,Pr,Ss,N1,XD=(N1=class extends kC{constructor(t){super();Je(this,Pr);Je(this,Ya);Je(this,go);Je(this,ir);Je(this,vo);Je(this,rn);Je(this,mu);Je(this,yo);Ie(this,yo,!1),Ie(this,mu,t.defaultOptions),this.setOptions(t.options),this.observers=[],Ie(this,vo,t.client),Ie(this,ir,X(this,vo).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,Ie(this,Ya,JD(this.options)),this.state=t.state??X(this,Ya),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=X(this,rn))==null?void 0:t.promise}setOptions(t){this.options={...X(this,mu),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&X(this,ir).remove(this)}setData(t,n){const r=UD(this.state.data,t,this.options);return en(this,Pr,Ss).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(t,n){en(this,Pr,Ss).call(this,{type:"setState",state:t,setStateOptions:n})}cancel(t){var r,s;const n=(r=X(this,rn))==null?void 0:r.promise;return(s=X(this,rn))==null||s.cancel(t),n?n.then(Cr).catch(Cr):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(X(this,Ya))}isActive(){return this.observers.some(t=>zD(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Zy||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>Yg(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!FD(this.state.dataUpdatedAt,t)}onFocus(){var n;const t=this.observers.find(r=>r.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(n=X(this,rn))==null||n.continue()}onOnline(){var n;const t=this.observers.find(r=>r.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(n=X(this,rn))==null||n.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),X(this,ir).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(n=>n!==t),this.observers.length||(X(this,rn)&&(X(this,yo)?X(this,rn).cancel({revert:!0}):X(this,rn).cancelRetry()),this.scheduleGc()),X(this,ir).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||en(this,Pr,Ss).call(this,{type:"invalidate"})}fetch(t,n){var h,m,g;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(X(this,rn))return X(this,rn).continueRetry(),X(this,rn).promise}if(t&&this.setOptions(t),!this.options.queryFn){const y=this.observers.find(v=>v.options.queryFn);y&&this.setOptions(y.options)}const r=new AbortController,s=y=>{Object.defineProperty(y,"signal",{enumerable:!0,get:()=>(Ie(this,yo,!0),r.signal)})},i=()=>{const y=xC(this.options,n),b=(()=>{const x={client:X(this,vo),queryKey:this.queryKey,meta:this.meta};return s(x),x})();return Ie(this,yo,!1),this.options.persister?this.options.persister(y,b,this):y(b)},c=(()=>{const y={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:X(this,vo),state:this.state,fetchFn:i};return s(y),y})();(h=this.options.behavior)==null||h.onFetch(c,this),Ie(this,go,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((m=c.fetchOptions)==null?void 0:m.meta))&&en(this,Pr,Ss).call(this,{type:"fetch",meta:(g=c.fetchOptions)==null?void 0:g.meta});const d=y=>{var v,b,x,S;bp(y)&&y.silent||en(this,Pr,Ss).call(this,{type:"error",error:y}),bp(y)||((b=(v=X(this,ir).config).onError)==null||b.call(v,y,this),(S=(x=X(this,ir).config).onSettled)==null||S.call(x,this.state.data,y,this)),this.scheduleGc()};return Ie(this,rn,SC({initialPromise:n==null?void 0:n.initialPromise,fn:c.fetchFn,abort:r.abort.bind(r),onSuccess:y=>{var v,b,x,S;if(y===void 0){d(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(y)}catch(N){d(N);return}(b=(v=X(this,ir).config).onSuccess)==null||b.call(v,y,this),(S=(x=X(this,ir).config).onSettled)==null||S.call(x,y,this.state.error,this),this.scheduleGc()},onError:d,onFail:(y,v)=>{en(this,Pr,Ss).call(this,{type:"failed",failureCount:y,error:v})},onPause:()=>{en(this,Pr,Ss).call(this,{type:"pause"})},onContinue:()=>{en(this,Pr,Ss).call(this,{type:"continue"})},retry:c.options.retry,retryDelay:c.options.retryDelay,networkMode:c.options.networkMode,canRun:()=>!0})),X(this,rn).start()}},Ya=new WeakMap,go=new WeakMap,ir=new WeakMap,vo=new WeakMap,rn=new WeakMap,mu=new WeakMap,yo=new WeakMap,Pr=new WeakSet,Ss=function(t){const n=r=>{switch(t.type){case"failed":return{...r,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...QD(r.data,this.options),fetchMeta:t.meta??null};case"success":return Ie(this,go,void 0),{...r,data:t.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=t.error;return bp(s)&&s.revert&&X(this,go)?{...X(this,go),fetchStatus:"idle"}:{...r,error:s,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...t.state}}};this.state=n(this.state),gn.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),X(this,ir).notify({query:this,type:"updated",action:t})})},N1);function QD(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:wC(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function JD(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,r=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var es,C1,e4=(C1=class extends Ff{constructor(t={}){super();Je(this,es);this.config=t,Ie(this,es,new Map)}build(t,n,r){const s=n.queryKey,i=n.queryHash??Gy(s,n);let a=this.get(i);return a||(a=new XD({client:t,queryKey:s,queryHash:i,options:t.defaultQueryOptions(n),state:r,defaultOptions:t.getQueryDefaults(s)}),this.add(a)),a}add(t){X(this,es).has(t.queryHash)||(X(this,es).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const n=X(this,es).get(t.queryHash);n&&(t.destroy(),n===t&&X(this,es).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){gn.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return X(this,es).get(t)}getAll(){return[...X(this,es).values()]}find(t){const n={exact:!0,...t};return this.getAll().find(r=>L0(n,r))}findAll(t={}){const n=this.getAll();return Object.keys(t).length>0?n.filter(r=>L0(t,r)):n}notify(t){gn.batch(()=>{this.listeners.forEach(n=>{n(t)})})}onFocus(){gn.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){gn.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},es=new WeakMap,C1),ts,fn,xo,ns,Qs,P1,t4=(P1=class extends kC{constructor(t){super();Je(this,ns);Je(this,ts);Je(this,fn);Je(this,xo);this.mutationId=t.mutationId,Ie(this,fn,t.mutationCache),Ie(this,ts,[]),this.state=t.state||n4(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){X(this,ts).includes(t)||(X(this,ts).push(t),this.clearGcTimeout(),X(this,fn).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){Ie(this,ts,X(this,ts).filter(n=>n!==t)),this.scheduleGc(),X(this,fn).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){X(this,ts).length||(this.state.status==="pending"?this.scheduleGc():X(this,fn).remove(this))}continue(){var t;return((t=X(this,xo))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var i,a,c,d,h,m,g,y,v,b,x,S,N,w,k,P,T,R,E,M;const n=()=>{en(this,ns,Qs).call(this,{type:"continue"})};Ie(this,xo,SC({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:($,V)=>{en(this,ns,Qs).call(this,{type:"failed",failureCount:$,error:V})},onPause:()=>{en(this,ns,Qs).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>X(this,fn).canRun(this)}));const r=this.state.status==="pending",s=!X(this,xo).canStart();try{if(r)n();else{en(this,ns,Qs).call(this,{type:"pending",variables:t,isPaused:s}),await((a=(i=X(this,fn).config).onMutate)==null?void 0:a.call(i,t,this));const V=await((d=(c=this.options).onMutate)==null?void 0:d.call(c,t));V!==this.state.context&&en(this,ns,Qs).call(this,{type:"pending",context:V,variables:t,isPaused:s})}const $=await X(this,xo).start();return await((m=(h=X(this,fn).config).onSuccess)==null?void 0:m.call(h,$,t,this.state.context,this)),await((y=(g=this.options).onSuccess)==null?void 0:y.call(g,$,t,this.state.context)),await((b=(v=X(this,fn).config).onSettled)==null?void 0:b.call(v,$,null,this.state.variables,this.state.context,this)),await((S=(x=this.options).onSettled)==null?void 0:S.call(x,$,null,t,this.state.context)),en(this,ns,Qs).call(this,{type:"success",data:$}),$}catch($){try{throw await((w=(N=X(this,fn).config).onError)==null?void 0:w.call(N,$,t,this.state.context,this)),await((P=(k=this.options).onError)==null?void 0:P.call(k,$,t,this.state.context)),await((R=(T=X(this,fn).config).onSettled)==null?void 0:R.call(T,void 0,$,this.state.variables,this.state.context,this)),await((M=(E=this.options).onSettled)==null?void 0:M.call(E,void 0,$,t,this.state.context)),$}finally{en(this,ns,Qs).call(this,{type:"error",error:$})}}finally{X(this,fn).runNext(this)}}},ts=new WeakMap,fn=new WeakMap,xo=new WeakMap,ns=new WeakSet,Qs=function(t){const n=r=>{switch(t.type){case"failed":return{...r,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...r,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:t.error,failureCount:r.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=n(this.state),gn.batch(()=>{X(this,ts).forEach(r=>{r.onMutationUpdate(t)}),X(this,fn).notify({mutation:this,type:"updated",action:t})})},P1);function n4(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Ps,jr,pu,j1,r4=(j1=class extends Ff{constructor(t={}){super();Je(this,Ps);Je(this,jr);Je(this,pu);this.config=t,Ie(this,Ps,new Set),Ie(this,jr,new Map),Ie(this,pu,0)}build(t,n,r){const s=new t4({mutationCache:this,mutationId:++nd(this,pu)._,options:t.defaultMutationOptions(n),state:r});return this.add(s),s}add(t){X(this,Ps).add(t);const n=kd(t);if(typeof n=="string"){const r=X(this,jr).get(n);r?r.push(t):X(this,jr).set(n,[t])}this.notify({type:"added",mutation:t})}remove(t){if(X(this,Ps).delete(t)){const n=kd(t);if(typeof n=="string"){const r=X(this,jr).get(n);if(r)if(r.length>1){const s=r.indexOf(t);s!==-1&&r.splice(s,1)}else r[0]===t&&X(this,jr).delete(n)}}this.notify({type:"removed",mutation:t})}canRun(t){const n=kd(t);if(typeof n=="string"){const r=X(this,jr).get(n),s=r==null?void 0:r.find(i=>i.state.status==="pending");return!s||s===t}else return!0}runNext(t){var r;const n=kd(t);if(typeof n=="string"){const s=(r=X(this,jr).get(n))==null?void 0:r.find(i=>i!==t&&i.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){gn.batch(()=>{X(this,Ps).forEach(t=>{this.notify({type:"removed",mutation:t})}),X(this,Ps).clear(),X(this,jr).clear()})}getAll(){return Array.from(X(this,Ps))}find(t){const n={exact:!0,...t};return this.getAll().find(r=>M0(n,r))}findAll(t={}){return this.getAll().filter(n=>M0(t,n))}notify(t){gn.batch(()=>{this.listeners.forEach(n=>{n(t)})})}resumePausedMutations(){const t=this.getAll().filter(n=>n.state.isPaused);return gn.batch(()=>Promise.all(t.map(n=>n.continue().catch(Cr))))}},Ps=new WeakMap,jr=new WeakMap,pu=new WeakMap,j1);function kd(e){var t;return(t=e.options.scope)==null?void 0:t.id}function $0(e){return{onFetch:(t,n)=>{var m,g,y,v,b;const r=t.options,s=(y=(g=(m=t.fetchOptions)==null?void 0:m.meta)==null?void 0:g.fetchMore)==null?void 0:y.direction,i=((v=t.state.data)==null?void 0:v.pages)||[],a=((b=t.state.data)==null?void 0:b.pageParams)||[];let c={pages:[],pageParams:[]},d=0;const h=async()=>{let x=!1;const S=k=>{Object.defineProperty(k,"signal",{enumerable:!0,get:()=>(t.signal.aborted?x=!0:t.signal.addEventListener("abort",()=>{x=!0}),t.signal)})},N=xC(t.options,t.fetchOptions),w=async(k,P,T)=>{if(x)return Promise.reject();if(P==null&&k.pages.length)return Promise.resolve(k);const E=(()=>{const Q={client:t.client,queryKey:t.queryKey,pageParam:P,direction:T?"backward":"forward",meta:t.options.meta};return S(Q),Q})(),M=await N(E),{maxPages:$}=t.options,V=T?WD:VD;return{pages:V(k.pages,M,$),pageParams:V(k.pageParams,P,$)}};if(s&&i.length){const k=s==="backward",P=k?s4:F0,T={pages:i,pageParams:a},R=P(r,T);c=await w(T,R,k)}else{const k=e??i.length;do{const P=d===0?a[0]??r.initialPageParam:F0(r,c);if(d>0&&P==null)break;c=await w(c,P),d++}while(d<k)}return c};t.options.persister?t.fetchFn=()=>{var x,S;return(S=(x=t.options).persister)==null?void 0:S.call(x,h,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n)}:t.fetchFn=h}}}function F0(e,{pages:t,pageParams:n}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,n[r],n):void 0}function s4(e,{pages:t,pageParams:n}){var r;return t.length>0?(r=e.getPreviousPageParam)==null?void 0:r.call(e,t[0],t,n[0],n):void 0}var _t,di,hi,Xa,Qa,fi,Ja,el,T1,i4=(T1=class{constructor(e={}){Je(this,_t);Je(this,di);Je(this,hi);Je(this,Xa);Je(this,Qa);Je(this,fi);Je(this,Ja);Je(this,el);Ie(this,_t,e.queryCache||new e4),Ie(this,di,e.mutationCache||new r4),Ie(this,hi,e.defaultOptions||{}),Ie(this,Xa,new Map),Ie(this,Qa,new Map),Ie(this,fi,0)}mount(){nd(this,fi)._++,X(this,fi)===1&&(Ie(this,Ja,_C.subscribe(async e=>{e&&(await this.resumePausedMutations(),X(this,_t).onFocus())})),Ie(this,el,Lh.subscribe(async e=>{e&&(await this.resumePausedMutations(),X(this,_t).onOnline())})))}unmount(){var e,t;nd(this,fi)._--,X(this,fi)===0&&((e=X(this,Ja))==null||e.call(this),Ie(this,Ja,void 0),(t=X(this,el))==null||t.call(this),Ie(this,el,void 0))}isFetching(e){return X(this,_t).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return X(this,di).findAll({...e,status:"pending"}).length}getQueryData(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=X(this,_t).get(t.queryHash))==null?void 0:n.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),n=X(this,_t).build(this,t),r=n.state.data;return r===void 0?this.fetchQuery(e):(e.revalidateIfStale&&n.isStaleByTime(Yg(t.staleTime,n))&&this.prefetchQuery(t),Promise.resolve(r))}getQueriesData(e){return X(this,_t).findAll(e).map(({queryKey:t,state:n})=>{const r=n.data;return[t,r]})}setQueryData(e,t,n){const r=this.defaultQueryOptions({queryKey:e}),s=X(this,_t).get(r.queryHash),i=s==null?void 0:s.state.data,a=DD(t,i);if(a!==void 0)return X(this,_t).build(this,r).setData(a,{...n,manual:!0})}setQueriesData(e,t,n){return gn.batch(()=>X(this,_t).findAll(e).map(({queryKey:r})=>[r,this.setQueryData(r,t,n)]))}getQueryState(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=X(this,_t).get(t.queryHash))==null?void 0:n.state}removeQueries(e){const t=X(this,_t);gn.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=X(this,_t);return gn.batch(()=>(n.findAll(e).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const n={revert:!0,...t},r=gn.batch(()=>X(this,_t).findAll(e).map(s=>s.cancel(n)));return Promise.all(r).then(Cr).catch(Cr)}invalidateQueries(e,t={}){return gn.batch(()=>(X(this,_t).findAll(e).forEach(n=>{n.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const n={...t,cancelRefetch:t.cancelRefetch??!0},r=gn.batch(()=>X(this,_t).findAll(e).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let i=s.fetch(void 0,n);return n.throwOnError||(i=i.catch(Cr)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(Cr)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=X(this,_t).build(this,t);return n.isStaleByTime(Yg(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Cr).catch(Cr)}fetchInfiniteQuery(e){return e.behavior=$0(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Cr).catch(Cr)}ensureInfiniteQueryData(e){return e.behavior=$0(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Lh.isOnline()?X(this,di).resumePausedMutations():Promise.resolve()}getQueryCache(){return X(this,_t)}getMutationCache(){return X(this,di)}getDefaultOptions(){return X(this,hi)}setDefaultOptions(e){Ie(this,hi,e)}setQueryDefaults(e,t){X(this,Xa).set(Jc(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...X(this,Xa).values()],n={};return t.forEach(r=>{eu(e,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(e,t){X(this,Qa).set(Jc(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...X(this,Qa).values()],n={};return t.forEach(r=>{eu(e,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...X(this,hi).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=Gy(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===Zy&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...X(this,hi).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){X(this,_t).clear(),X(this,di).clear()}},_t=new WeakMap,di=new WeakMap,hi=new WeakMap,Xa=new WeakMap,Qa=new WeakMap,fi=new WeakMap,Ja=new WeakMap,el=new WeakMap,T1),o4=p.createContext(void 0),a4=({client:e,children:t})=>(p.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),l.jsx(o4.Provider,{value:e,children:t}));/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function tu(){return tu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},tu.apply(this,arguments)}var gi;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(gi||(gi={}));const z0="popstate";function l4(e){e===void 0&&(e={});function t(r,s){let{pathname:i,search:a,hash:c}=r.location;return Qg("",{pathname:i,search:a,hash:c},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:Mh(s)}return u4(t,n,null,e)}function Nt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function NC(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function c4(){return Math.random().toString(36).substr(2,8)}function B0(e,t){return{usr:e.state,key:e.key,idx:t}}function Qg(e,t,n,r){return n===void 0&&(n=null),tu({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Pl(t):t,{state:n,key:t&&t.key||r||c4()})}function Mh(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function Pl(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function u4(e,t,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,a=s.history,c=gi.Pop,d=null,h=m();h==null&&(h=0,a.replaceState(tu({},a.state,{idx:h}),""));function m(){return(a.state||{idx:null}).idx}function g(){c=gi.Pop;let S=m(),N=S==null?null:S-h;h=S,d&&d({action:c,location:x.location,delta:N})}function y(S,N){c=gi.Push;let w=Qg(x.location,S,N);h=m()+1;let k=B0(w,h),P=x.createHref(w);try{a.pushState(k,"",P)}catch(T){if(T instanceof DOMException&&T.name==="DataCloneError")throw T;s.location.assign(P)}i&&d&&d({action:c,location:x.location,delta:1})}function v(S,N){c=gi.Replace;let w=Qg(x.location,S,N);h=m();let k=B0(w,h),P=x.createHref(w);a.replaceState(k,"",P),i&&d&&d({action:c,location:x.location,delta:0})}function b(S){let N=s.location.origin!=="null"?s.location.origin:s.location.href,w=typeof S=="string"?S:Mh(S);return w=w.replace(/ $/,"%20"),Nt(N,"No window.location.(origin|href) available to create URL for href: "+w),new URL(w,N)}let x={get action(){return c},get location(){return e(s,a)},listen(S){if(d)throw new Error("A history only accepts one active listener");return s.addEventListener(z0,g),d=S,()=>{s.removeEventListener(z0,g),d=null}},createHref(S){return t(s,S)},createURL:b,encodeLocation(S){let N=b(S);return{pathname:N.pathname,search:N.search,hash:N.hash}},push:y,replace:v,go(S){return a.go(S)}};return x}var U0;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(U0||(U0={}));function d4(e,t,n){return n===void 0&&(n="/"),h4(e,t,n,!1)}function h4(e,t,n,r){let s=typeof t=="string"?Pl(t):t,i=dl(s.pathname||"/",n);if(i==null)return null;let a=CC(e);f4(a);let c=null;for(let d=0;c==null&&d<a.length;++d){let h=k4(i);c=b4(a[d],h,r)}return c}function CC(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,a,c)=>{let d={relativePath:c===void 0?i.path||"":c,caseSensitive:i.caseSensitive===!0,childrenIndex:a,route:i};d.relativePath.startsWith("/")&&(Nt(d.relativePath.startsWith(r),'Absolute route path "'+d.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),d.relativePath=d.relativePath.slice(r.length));let h=Ci([r,d.relativePath]),m=n.concat(d);i.children&&i.children.length>0&&(Nt(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+h+'".')),CC(i.children,t,m,h)),!(i.path==null&&!i.index)&&t.push({path:h,score:_4(h,i.index),routesMeta:m})};return e.forEach((i,a)=>{var c;if(i.path===""||!((c=i.path)!=null&&c.includes("?")))s(i,a);else for(let d of PC(i.path))s(i,a,d)}),t}function PC(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let a=PC(r.join("/")),c=[];return c.push(...a.map(d=>d===""?i:[i,d].join("/"))),s&&c.push(...a),c.map(d=>e.startsWith("/")&&d===""?"/":d)}function f4(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:w4(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const m4=/^:[\w-]+$/,p4=3,g4=2,v4=1,y4=10,x4=-2,V0=e=>e==="*";function _4(e,t){let n=e.split("/"),r=n.length;return n.some(V0)&&(r+=x4),t&&(r+=g4),n.filter(s=>!V0(s)).reduce((s,i)=>s+(m4.test(i)?p4:i===""?v4:y4),r)}function w4(e,t){return e.length===t.length&&e.slice(0,-1).every((r,s)=>r===t[s])?e[e.length-1]-t[t.length-1]:0}function b4(e,t,n){let{routesMeta:r}=e,s={},i="/",a=[];for(let c=0;c<r.length;++c){let d=r[c],h=c===r.length-1,m=i==="/"?t:t.slice(i.length)||"/",g=Ih({path:d.relativePath,caseSensitive:d.caseSensitive,end:h},m),y=d.route;if(!g&&h&&n&&!r[r.length-1].route.index&&(g=Ih({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},m)),!g)return null;Object.assign(s,g.params),a.push({params:s,pathname:Ci([i,g.pathname]),pathnameBase:j4(Ci([i,g.pathnameBase])),route:y}),g.pathnameBase!=="/"&&(i=Ci([i,g.pathnameBase]))}return a}function Ih(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=S4(e.path,e.caseSensitive,e.end),s=t.match(n);if(!s)return null;let i=s[0],a=i.replace(/(.)\/+$/,"$1"),c=s.slice(1);return{params:r.reduce((h,m,g)=>{let{paramName:y,isOptional:v}=m;if(y==="*"){let x=c[g]||"";a=i.slice(0,i.length-x.length).replace(/(.)\/+$/,"$1")}const b=c[g];return v&&!b?h[y]=void 0:h[y]=(b||"").replace(/%2F/g,"/"),h},{}),pathname:i,pathnameBase:a,pattern:e}}function S4(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),NC(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,c,d)=>(r.push({paramName:c,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),r]}function k4(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return NC(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function dl(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function N4(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:s=""}=typeof e=="string"?Pl(e):e;return{pathname:n?n.startsWith("/")?n:C4(n,t):t,search:T4(r),hash:E4(s)}}function C4(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Sp(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function P4(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function jC(e,t){let n=P4(e);return t?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function TC(e,t,n,r){r===void 0&&(r=!1);let s;typeof e=="string"?s=Pl(e):(s=tu({},e),Nt(!s.pathname||!s.pathname.includes("?"),Sp("?","pathname","search",s)),Nt(!s.pathname||!s.pathname.includes("#"),Sp("#","pathname","hash",s)),Nt(!s.search||!s.search.includes("#"),Sp("#","search","hash",s)));let i=e===""||s.pathname==="",a=i?"/":s.pathname,c;if(a==null)c=n;else{let g=t.length-1;if(!r&&a.startsWith("..")){let y=a.split("/");for(;y[0]==="..";)y.shift(),g-=1;s.pathname=y.join("/")}c=g>=0?t[g]:"/"}let d=N4(s,c),h=a&&a!=="/"&&a.endsWith("/"),m=(i||a===".")&&n.endsWith("/");return!d.pathname.endsWith("/")&&(h||m)&&(d.pathname+="/"),d}const Ci=e=>e.join("/").replace(/\/\/+/g,"/"),j4=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),T4=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,E4=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function R4(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const EC=["post","put","patch","delete"];new Set(EC);const A4=["get",...EC];new Set(A4);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function nu(){return nu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},nu.apply(this,arguments)}const Bf=p.createContext(null),RC=p.createContext(null),$i=p.createContext(null),Uf=p.createContext(null),Fi=p.createContext({outlet:null,matches:[],isDataRoute:!1}),AC=p.createContext(null);function O4(e,t){let{relative:n}=t===void 0?{}:t;Nu()||Nt(!1);let{basename:r,navigator:s}=p.useContext($i),{hash:i,pathname:a,search:c}=Vf(e,{relative:n}),d=a;return r!=="/"&&(d=a==="/"?r:Ci([r,a])),s.createHref({pathname:d,search:c,hash:i})}function Nu(){return p.useContext(Uf)!=null}function zi(){return Nu()||Nt(!1),p.useContext(Uf).location}function OC(e){p.useContext($i).static||p.useLayoutEffect(e)}function jl(){let{isDataRoute:e}=p.useContext(Fi);return e?Z4():L4()}function L4(){Nu()||Nt(!1);let e=p.useContext(Bf),{basename:t,future:n,navigator:r}=p.useContext($i),{matches:s}=p.useContext(Fi),{pathname:i}=zi(),a=JSON.stringify(jC(s,n.v7_relativeSplatPath)),c=p.useRef(!1);return OC(()=>{c.current=!0}),p.useCallback(function(h,m){if(m===void 0&&(m={}),!c.current)return;if(typeof h=="number"){r.go(h);return}let g=TC(h,JSON.parse(a),i,m.relative==="path");e==null&&t!=="/"&&(g.pathname=g.pathname==="/"?t:Ci([t,g.pathname])),(m.replace?r.replace:r.push)(g,m.state,m)},[t,r,a,i,e])}const M4=p.createContext(null);function I4(e){let t=p.useContext(Fi).outlet;return t&&p.createElement(M4.Provider,{value:e},t)}function Vf(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=p.useContext($i),{matches:s}=p.useContext(Fi),{pathname:i}=zi(),a=JSON.stringify(jC(s,r.v7_relativeSplatPath));return p.useMemo(()=>TC(e,JSON.parse(a),i,n==="path"),[e,a,i,n])}function D4(e,t){return $4(e,t)}function $4(e,t,n,r){Nu()||Nt(!1);let{navigator:s}=p.useContext($i),{matches:i}=p.useContext(Fi),a=i[i.length-1],c=a?a.params:{};a&&a.pathname;let d=a?a.pathnameBase:"/";a&&a.route;let h=zi(),m;if(t){var g;let S=typeof t=="string"?Pl(t):t;d==="/"||(g=S.pathname)!=null&&g.startsWith(d)||Nt(!1),m=S}else m=h;let y=m.pathname||"/",v=y;if(d!=="/"){let S=d.replace(/^\//,"").split("/");v="/"+y.replace(/^\//,"").split("/").slice(S.length).join("/")}let b=d4(e,{pathname:v}),x=V4(b&&b.map(S=>Object.assign({},S,{params:Object.assign({},c,S.params),pathname:Ci([d,s.encodeLocation?s.encodeLocation(S.pathname).pathname:S.pathname]),pathnameBase:S.pathnameBase==="/"?d:Ci([d,s.encodeLocation?s.encodeLocation(S.pathnameBase).pathname:S.pathnameBase])})),i,n,r);return t&&x?p.createElement(Uf.Provider,{value:{location:nu({pathname:"/",search:"",hash:"",state:null,key:"default"},m),navigationType:gi.Pop}},x):x}function F4(){let e=G4(),t=R4(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return p.createElement(p.Fragment,null,p.createElement("h2",null,"Unexpected Application Error!"),p.createElement("h3",{style:{fontStyle:"italic"}},t),n?p.createElement("pre",{style:s},n):null,null)}const z4=p.createElement(F4,null);class B4 extends p.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?p.createElement(Fi.Provider,{value:this.props.routeContext},p.createElement(AC.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function U4(e){let{routeContext:t,match:n,children:r}=e,s=p.useContext(Bf);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),p.createElement(Fi.Provider,{value:t},r)}function V4(e,t,n,r){var s;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var i;if(!n)return null;if(n.errors)e=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let a=e,c=(s=n)==null?void 0:s.errors;if(c!=null){let m=a.findIndex(g=>g.route.id&&(c==null?void 0:c[g.route.id])!==void 0);m>=0||Nt(!1),a=a.slice(0,Math.min(a.length,m+1))}let d=!1,h=-1;if(n&&r&&r.v7_partialHydration)for(let m=0;m<a.length;m++){let g=a[m];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(h=m),g.route.id){let{loaderData:y,errors:v}=n,b=g.route.loader&&y[g.route.id]===void 0&&(!v||v[g.route.id]===void 0);if(g.route.lazy||b){d=!0,h>=0?a=a.slice(0,h+1):a=[a[0]];break}}}return a.reduceRight((m,g,y)=>{let v,b=!1,x=null,S=null;n&&(v=c&&g.route.id?c[g.route.id]:void 0,x=g.route.errorElement||z4,d&&(h<0&&y===0?(b=!0,S=null):h===y&&(b=!0,S=g.route.hydrateFallbackElement||null)));let N=t.concat(a.slice(0,y+1)),w=()=>{let k;return v?k=x:b?k=S:g.route.Component?k=p.createElement(g.route.Component,null):g.route.element?k=g.route.element:k=m,p.createElement(U4,{match:g,routeContext:{outlet:m,matches:N,isDataRoute:n!=null},children:k})};return n&&(g.route.ErrorBoundary||g.route.errorElement||y===0)?p.createElement(B4,{location:n.location,revalidation:n.revalidation,component:x,error:v,children:w(),routeContext:{outlet:null,matches:N,isDataRoute:!0}}):w()},null)}var LC=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(LC||{}),Dh=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Dh||{});function W4(e){let t=p.useContext(Bf);return t||Nt(!1),t}function q4(e){let t=p.useContext(RC);return t||Nt(!1),t}function H4(e){let t=p.useContext(Fi);return t||Nt(!1),t}function MC(e){let t=H4(),n=t.matches[t.matches.length-1];return n.route.id||Nt(!1),n.route.id}function G4(){var e;let t=p.useContext(AC),n=q4(Dh.UseRouteError),r=MC(Dh.UseRouteError);return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function Z4(){let{router:e}=W4(LC.UseNavigateStable),t=MC(Dh.UseNavigateStable),n=p.useRef(!1);return OC(()=>{n.current=!0}),p.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,nu({fromRouteId:t},i)))},[e,t])}function K4(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function Y4(e){return I4(e.context)}function Qr(e){Nt(!1)}function X4(e){let{basename:t="/",children:n=null,location:r,navigationType:s=gi.Pop,navigator:i,static:a=!1,future:c}=e;Nu()&&Nt(!1);let d=t.replace(/^\/*/,"/"),h=p.useMemo(()=>({basename:d,navigator:i,static:a,future:nu({v7_relativeSplatPath:!1},c)}),[d,c,i,a]);typeof r=="string"&&(r=Pl(r));let{pathname:m="/",search:g="",hash:y="",state:v=null,key:b="default"}=r,x=p.useMemo(()=>{let S=dl(m,d);return S==null?null:{location:{pathname:S,search:g,hash:y,state:v,key:b},navigationType:s}},[d,m,g,y,v,b,s]);return x==null?null:p.createElement($i.Provider,{value:h},p.createElement(Uf.Provider,{children:n,value:x}))}function Q4(e){let{children:t,location:n}=e;return D4(Jg(t),n)}new Promise(()=>{});function Jg(e,t){t===void 0&&(t=[]);let n=[];return p.Children.forEach(e,(r,s)=>{if(!p.isValidElement(r))return;let i=[...t,s];if(r.type===p.Fragment){n.push.apply(n,Jg(r.props.children,i));return}r.type!==Qr&&Nt(!1),!r.props.index||!r.props.children||Nt(!1);let a={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=Jg(r.props.children,i)),n.push(a)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function $h(){return $h=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$h.apply(this,arguments)}function IC(e,t){if(e==null)return{};var n={},r=Object.keys(e),s,i;for(i=0;i<r.length;i++)s=r[i],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}function J4(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function e3(e,t){return e.button===0&&(!t||t==="_self")&&!J4(e)}const t3=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],n3=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],r3="6";try{window.__reactRouterVersion=r3}catch{}const s3=p.createContext({isTransitioning:!1}),i3="startTransition",W0=Av[i3];function o3(e){let{basename:t,children:n,future:r,window:s}=e,i=p.useRef();i.current==null&&(i.current=l4({window:s,v5Compat:!0}));let a=i.current,[c,d]=p.useState({action:a.action,location:a.location}),{v7_startTransition:h}=r||{},m=p.useCallback(g=>{h&&W0?W0(()=>d(g)):d(g)},[d,h]);return p.useLayoutEffect(()=>a.listen(m),[a,m]),p.useEffect(()=>K4(r),[r]),p.createElement(X4,{basename:t,children:n,location:c.location,navigationType:c.action,navigator:a,future:r})}const a3=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",l3=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,c3=p.forwardRef(function(t,n){let{onClick:r,relative:s,reloadDocument:i,replace:a,state:c,target:d,to:h,preventScrollReset:m,viewTransition:g}=t,y=IC(t,t3),{basename:v}=p.useContext($i),b,x=!1;if(typeof h=="string"&&l3.test(h)&&(b=h,a3))try{let k=new URL(window.location.href),P=h.startsWith("//")?new URL(k.protocol+h):new URL(h),T=dl(P.pathname,v);P.origin===k.origin&&T!=null?h=T+P.search+P.hash:x=!0}catch{}let S=O4(h,{relative:s}),N=h3(h,{replace:a,state:c,target:d,preventScrollReset:m,relative:s,viewTransition:g});function w(k){r&&r(k),k.defaultPrevented||N(k)}return p.createElement("a",$h({},y,{href:b||S,onClick:x||i?r:w,ref:n,target:d}))}),u3=p.forwardRef(function(t,n){let{"aria-current":r="page",caseSensitive:s=!1,className:i="",end:a=!1,style:c,to:d,viewTransition:h,children:m}=t,g=IC(t,n3),y=Vf(d,{relative:g.relative}),v=zi(),b=p.useContext(RC),{navigator:x,basename:S}=p.useContext($i),N=b!=null&&f3(y)&&h===!0,w=x.encodeLocation?x.encodeLocation(y).pathname:y.pathname,k=v.pathname,P=b&&b.navigation&&b.navigation.location?b.navigation.location.pathname:null;s||(k=k.toLowerCase(),P=P?P.toLowerCase():null,w=w.toLowerCase()),P&&S&&(P=dl(P,S)||P);const T=w!=="/"&&w.endsWith("/")?w.length-1:w.length;let R=k===w||!a&&k.startsWith(w)&&k.charAt(T)==="/",E=P!=null&&(P===w||!a&&P.startsWith(w)&&P.charAt(w.length)==="/"),M={isActive:R,isPending:E,isTransitioning:N},$=R?r:void 0,V;typeof i=="function"?V=i(M):V=[i,R?"active":null,E?"pending":null,N?"transitioning":null].filter(Boolean).join(" ");let Q=typeof c=="function"?c(M):c;return p.createElement(c3,$h({},g,{"aria-current":$,className:V,ref:n,style:Q,to:d,viewTransition:h}),typeof m=="function"?m(M):m)});var ev;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(ev||(ev={}));var q0;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(q0||(q0={}));function d3(e){let t=p.useContext(Bf);return t||Nt(!1),t}function h3(e,t){let{target:n,replace:r,state:s,preventScrollReset:i,relative:a,viewTransition:c}=t===void 0?{}:t,d=jl(),h=zi(),m=Vf(e,{relative:a});return p.useCallback(g=>{if(e3(g,n)){g.preventDefault();let y=r!==void 0?r:Mh(h)===Mh(m);d(e,{replace:y,state:s,preventScrollReset:i,relative:a,viewTransition:c})}},[h,d,m,r,s,n,e,i,a,c])}function f3(e,t){t===void 0&&(t={});let n=p.useContext(s3);n==null&&Nt(!1);let{basename:r}=d3(ev.useViewTransitionState),s=Vf(e,{relative:t.relative});if(!n.isTransitioning)return!1;let i=dl(n.currentLocation.pathname,r)||n.currentLocation.pathname,a=dl(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Ih(s.pathname,a)!=null||Ih(s.pathname,i)!=null}var ss=function(){return ss=Object.assign||function(t){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},ss.apply(this,arguments)};function Tl(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n}function m3(e,t,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function c(m){try{h(r.next(m))}catch(g){a(g)}}function d(m){try{h(r.throw(m))}catch(g){a(g)}}function h(m){m.done?i(m.value):s(m.value).then(c,d)}h((r=r.apply(e,t||[])).next())})}function p3(e,t,n){if(n||arguments.length===2)for(var r=0,s=t.length,i;r<s;r++)(i||!(r in t))&&(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))}const g3=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);class Ky extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}}class v3 extends Ky{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class H0 extends Ky{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class G0 extends Ky{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var tv;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(tv||(tv={}));class y3{constructor(t,{headers:n={},customFetch:r,region:s=tv.Any}={}){this.url=t,this.headers=n,this.region=s,this.fetch=g3(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return m3(this,arguments,void 0,function*(n,r={}){var s;let i,a;try{const{headers:c,method:d,body:h,signal:m,timeout:g}=r;let y={},{region:v}=r;v||(v=this.region);const b=new URL(`${this.url}/${n}`);v&&v!=="any"&&(y["x-region"]=v,b.searchParams.set("forceFunctionRegion",v));let x;h&&(c&&!Object.prototype.hasOwnProperty.call(c,"Content-Type")||!c)?typeof Blob<"u"&&h instanceof Blob||h instanceof ArrayBuffer?(y["Content-Type"]="application/octet-stream",x=h):typeof h=="string"?(y["Content-Type"]="text/plain",x=h):typeof FormData<"u"&&h instanceof FormData?x=h:(y["Content-Type"]="application/json",x=JSON.stringify(h)):h&&typeof h!="string"&&!(typeof Blob<"u"&&h instanceof Blob)&&!(h instanceof ArrayBuffer)&&!(typeof FormData<"u"&&h instanceof FormData)?x=JSON.stringify(h):x=h;let S=m;g&&(a=new AbortController,i=setTimeout(()=>a.abort(),g),m?(S=a.signal,m.addEventListener("abort",()=>a.abort())):S=a.signal);const N=yield this.fetch(b.toString(),{method:d||"POST",headers:Object.assign(Object.assign(Object.assign({},y),this.headers),c),body:x,signal:S}).catch(T=>{throw new v3(T)}),w=N.headers.get("x-relay-error");if(w&&w==="true")throw new H0(N);if(!N.ok)throw new G0(N);let k=((s=N.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),P;return k==="application/json"?P=yield N.json():k==="application/octet-stream"||k==="application/pdf"?P=yield N.blob():k==="text/event-stream"?P=N:k==="multipart/form-data"?P=yield N.formData():P=yield N.text(),{data:P,error:null,response:N}}catch(c){return{data:null,error:c,response:c instanceof G0||c instanceof H0?c.context:void 0}}finally{i&&clearTimeout(i)}})}}var x3=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}},_3=class{constructor(e){var t,n;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(t=e.shouldThrowOnError)!==null&&t!==void 0?t:!1,this.signal=e.signal,this.isMaybeSingle=(n=e.isMaybeSingle)!==null&&n!==void 0?n:!1,e.fetch?this.fetch=e.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=new Headers(this.headers),this.headers.set(e,t),this}then(e,t){var n=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const r=this.fetch;let s=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{let a=null,c=null,d=null,h=i.status,m=i.statusText;if(i.ok){var g,y;if(n.method!=="HEAD"){var v;const N=await i.text();N===""||(n.headers.get("Accept")==="text/csv"||n.headers.get("Accept")&&(!((v=n.headers.get("Accept"))===null||v===void 0)&&v.includes("application/vnd.pgrst.plan+text"))?c=N:c=JSON.parse(N))}const x=(g=n.headers.get("Prefer"))===null||g===void 0?void 0:g.match(/count=(exact|planned|estimated)/),S=(y=i.headers.get("content-range"))===null||y===void 0?void 0:y.split("/");x&&S&&S.length>1&&(d=parseInt(S[1])),n.isMaybeSingle&&n.method==="GET"&&Array.isArray(c)&&(c.length>1?(a={code:"PGRST116",details:`Results contain ${c.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},c=null,d=null,h=406,m="Not Acceptable"):c.length===1?c=c[0]:c=null)}else{var b;const x=await i.text();try{a=JSON.parse(x),Array.isArray(a)&&i.status===404&&(c=[],a=null,h=200,m="OK")}catch{i.status===404&&x===""?(h=204,m="No Content"):a={message:x}}if(a&&n.isMaybeSingle&&(!(a==null||(b=a.details)===null||b===void 0)&&b.includes("0 rows"))&&(a=null,h=200,m="OK"),a&&n.shouldThrowOnError)throw new x3(a)}return{error:a,data:c,count:d,status:h,statusText:m}});return this.shouldThrowOnError||(s=s.catch(i=>{var a;let c="";const d=i==null?void 0:i.cause;if(d){var h,m,g,y;const b=(h=d==null?void 0:d.message)!==null&&h!==void 0?h:"",x=(m=d==null?void 0:d.code)!==null&&m!==void 0?m:"";c=`${(g=i==null?void 0:i.name)!==null&&g!==void 0?g:"FetchError"}: ${i==null?void 0:i.message}`,c+=`

Caused by: ${(y=d==null?void 0:d.name)!==null&&y!==void 0?y:"Error"}: ${b}`,x&&(c+=` (${x})`),d!=null&&d.stack&&(c+=`
${d.stack}`)}else{var v;c=(v=i==null?void 0:i.stack)!==null&&v!==void 0?v:""}return{error:{message:`${(a=i==null?void 0:i.name)!==null&&a!==void 0?a:"FetchError"}: ${i==null?void 0:i.message}`,details:c,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),s.then(e,t)}returns(){return this}overrideTypes(){return this}},w3=class extends _3{select(e){let t=!1;const n=(e??"*").split("").map(r=>/\s/.test(r)&&!t?"":(r==='"'&&(t=!t),r)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:t=!0,nullsFirst:n,foreignTable:r,referencedTable:s=r}={}){const i=s?`${s}.order`:"order",a=this.url.searchParams.get(i);return this.url.searchParams.set(i,`${a?`${a},`:""}${e}.${t?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:n=t}={}){const r=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(r,`${e}`),this}range(e,t,{foreignTable:n,referencedTable:r=n}={}){const s=typeof r>"u"?"offset":`${r}.offset`,i=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(s,`${e}`),this.url.searchParams.set(i,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:t=!1,settings:n=!1,buffers:r=!1,wal:s=!1,format:i="text"}={}){var a;const c=[e?"analyze":null,t?"verbose":null,n?"settings":null,r?"buffers":null,s?"wal":null].filter(Boolean).join("|"),d=(a=this.headers.get("Accept"))!==null&&a!==void 0?a:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${i}; for="${d}"; options=${c};`),i==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};const Z0=new RegExp("[,()]");var ga=class extends w3{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}regexMatch(e,t){return this.url.searchParams.append(e,`match.${t}`),this}regexIMatch(e,t){return this.url.searchParams.append(e,`imatch.${t}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}isDistinct(e,t){return this.url.searchParams.append(e,`isdistinct.${t}`),this}in(e,t){const n=Array.from(new Set(t)).map(r=>typeof r=="string"&&Z0.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(e,`in.(${n})`),this}notIn(e,t){const n=Array.from(new Set(t)).map(r=>typeof r=="string"&&Z0.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(e,`not.in.(${n})`),this}contains(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return typeof t=="string"?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:n,type:r}={}){let s="";r==="plain"?s="pl":r==="phrase"?s="ph":r==="websearch"&&(s="w");const i=n===void 0?"":`(${n})`;return this.url.searchParams.append(e,`${s}fts${i}.${t}`),this}match(e){return Object.entries(e).forEach(([t,n])=>{this.url.searchParams.append(t,`eq.${n}`)}),this}not(e,t,n){return this.url.searchParams.append(e,`not.${t}.${n}`),this}or(e,{foreignTable:t,referencedTable:n=t}={}){const r=n?`${n}.or`:"or";return this.url.searchParams.append(r,`(${e})`),this}filter(e,t,n){return this.url.searchParams.append(e,`${t}.${n}`),this}},b3=class{constructor(e,{headers:t={},schema:n,fetch:r}){this.url=e,this.headers=new Headers(t),this.schema=n,this.fetch=r}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(e,t){const{head:n=!1,count:r}=t??{},s=n?"HEAD":"GET";let i=!1;const a=(e??"*").split("").map(h=>/\s/.test(h)&&!i?"":(h==='"'&&(i=!i),h)).join(""),{url:c,headers:d}=this.cloneRequestState();return c.searchParams.set("select",a),r&&d.append("Prefer",`count=${r}`),new ga({method:s,url:c,headers:d,schema:this.schema,fetch:this.fetch})}insert(e,{count:t,defaultToNull:n=!0}={}){var r;const s="POST",{url:i,headers:a}=this.cloneRequestState();if(t&&a.append("Prefer",`count=${t}`),n||a.append("Prefer","missing=default"),Array.isArray(e)){const c=e.reduce((d,h)=>d.concat(Object.keys(h)),[]);if(c.length>0){const d=[...new Set(c)].map(h=>`"${h}"`);i.searchParams.set("columns",d.join(","))}}return new ga({method:s,url:i,headers:a,schema:this.schema,body:e,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}upsert(e,{onConflict:t,ignoreDuplicates:n=!1,count:r,defaultToNull:s=!0}={}){var i;const a="POST",{url:c,headers:d}=this.cloneRequestState();if(d.append("Prefer",`resolution=${n?"ignore":"merge"}-duplicates`),t!==void 0&&c.searchParams.set("on_conflict",t),r&&d.append("Prefer",`count=${r}`),s||d.append("Prefer","missing=default"),Array.isArray(e)){const h=e.reduce((m,g)=>m.concat(Object.keys(g)),[]);if(h.length>0){const m=[...new Set(h)].map(g=>`"${g}"`);c.searchParams.set("columns",m.join(","))}}return new ga({method:a,url:c,headers:d,schema:this.schema,body:e,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}update(e,{count:t}={}){var n;const r="PATCH",{url:s,headers:i}=this.cloneRequestState();return t&&i.append("Prefer",`count=${t}`),new ga({method:r,url:s,headers:i,schema:this.schema,body:e,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}delete({count:e}={}){var t;const n="DELETE",{url:r,headers:s}=this.cloneRequestState();return e&&s.append("Prefer",`count=${e}`),new ga({method:n,url:r,headers:s,schema:this.schema,fetch:(t=this.fetch)!==null&&t!==void 0?t:fetch})}},S3=class DC{constructor(t,{headers:n={},schema:r,fetch:s}={}){this.url=t,this.headers=new Headers(n),this.schemaName=r,this.fetch=s}from(t){if(!t||typeof t!="string"||t.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new b3(new URL(`${this.url}/${t}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new DC(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,n={},{head:r=!1,get:s=!1,count:i}={}){var a;let c;const d=new URL(`${this.url}/rpc/${t}`);let h;const m=v=>v!==null&&typeof v=="object"&&(!Array.isArray(v)||v.some(m)),g=r&&Object.values(n).some(m);g?(c="POST",h=n):r||s?(c=r?"HEAD":"GET",Object.entries(n).filter(([v,b])=>b!==void 0).map(([v,b])=>[v,Array.isArray(b)?`{${b.join(",")}}`:`${b}`]).forEach(([v,b])=>{d.searchParams.append(v,b)})):(c="POST",h=n);const y=new Headers(this.headers);return g?y.set("Prefer",i?`count=${i},return=minimal`:"return=minimal"):i&&y.set("Prefer",`count=${i}`),new ga({method:c,url:d,headers:y,schema:this.schemaName,body:h,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}};class k3{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const n=globalThis.process;if(n){const r=n.versions;if(r&&r.node){const s=r.node,i=parseInt(s.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let n=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(n+=`

Suggested solution: ${t.workaround}`),new Error(n)}static createWebSocket(t,n){const r=this.getWebSocketConstructor();return new r(t,n)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const N3="2.93.1",C3=`realtime-js/${N3}`,P3="1.0.0",$C="2.0.0",K0=$C,nv=1e4,j3=1e3,T3=100;var ri;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(ri||(ri={}));var It;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(It||(It={}));var Er;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Er||(Er={}));var rv;(function(e){e.websocket="websocket"})(rv||(rv={}));var oo;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(oo||(oo={}));class E3{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,n){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return n(this._binaryEncodeUserBroadcastPush(t));let r=[t.join_ref,t.ref,t.topic,t.event,t.payload];return n(JSON.stringify(r))}_binaryEncodeUserBroadcastPush(t){var n;return this._isArrayBuffer((n=t.payload)===null||n===void 0?void 0:n.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var n,r;const s=(r=(n=t.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,s)}_encodeJsonUserBroadcastPush(t){var n,r;const s=(r=(n=t.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:{},a=new TextEncoder().encode(JSON.stringify(s)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,a)}_encodeUserBroadcastPush(t,n,r){var s,i;const a=t.topic,c=(s=t.ref)!==null&&s!==void 0?s:"",d=(i=t.join_ref)!==null&&i!==void 0?i:"",h=t.payload.event,m=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},g=Object.keys(m).length===0?"":JSON.stringify(m);if(d.length>255)throw new Error(`joinRef length ${d.length} exceeds maximum of 255`);if(c.length>255)throw new Error(`ref length ${c.length} exceeds maximum of 255`);if(a.length>255)throw new Error(`topic length ${a.length} exceeds maximum of 255`);if(h.length>255)throw new Error(`userEvent length ${h.length} exceeds maximum of 255`);if(g.length>255)throw new Error(`metadata length ${g.length} exceeds maximum of 255`);const y=this.USER_BROADCAST_PUSH_META_LENGTH+d.length+c.length+a.length+h.length+g.length,v=new ArrayBuffer(this.HEADER_LENGTH+y);let b=new DataView(v),x=0;b.setUint8(x++,this.KINDS.userBroadcastPush),b.setUint8(x++,d.length),b.setUint8(x++,c.length),b.setUint8(x++,a.length),b.setUint8(x++,h.length),b.setUint8(x++,g.length),b.setUint8(x++,n),Array.from(d,N=>b.setUint8(x++,N.charCodeAt(0))),Array.from(c,N=>b.setUint8(x++,N.charCodeAt(0))),Array.from(a,N=>b.setUint8(x++,N.charCodeAt(0))),Array.from(h,N=>b.setUint8(x++,N.charCodeAt(0))),Array.from(g,N=>b.setUint8(x++,N.charCodeAt(0)));var S=new Uint8Array(v.byteLength+r.byteLength);return S.set(new Uint8Array(v),0),S.set(new Uint8Array(r),v.byteLength),S.buffer}decode(t,n){if(this._isArrayBuffer(t)){let r=this._binaryDecode(t);return n(r)}if(typeof t=="string"){const r=JSON.parse(t),[s,i,a,c,d]=r;return n({join_ref:s,ref:i,topic:a,event:c,payload:d})}return n({})}_binaryDecode(t){const n=new DataView(t),r=n.getUint8(0),s=new TextDecoder;switch(r){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,n,s)}}_decodeUserBroadcast(t,n,r){const s=n.getUint8(1),i=n.getUint8(2),a=n.getUint8(3),c=n.getUint8(4);let d=this.HEADER_LENGTH+4;const h=r.decode(t.slice(d,d+s));d=d+s;const m=r.decode(t.slice(d,d+i));d=d+i;const g=r.decode(t.slice(d,d+a));d=d+a;const y=t.slice(d,t.byteLength),v=c===this.JSON_ENCODING?JSON.parse(r.decode(y)):y,b={type:this.BROADCAST_EVENT,event:m,payload:v};return a>0&&(b.meta=JSON.parse(g)),{join_ref:null,ref:null,topic:h,event:this.BROADCAST_EVENT,payload:b}}_isArrayBuffer(t){var n;return t instanceof ArrayBuffer||((n=t==null?void 0:t.constructor)===null||n===void 0?void 0:n.name)==="ArrayBuffer"}_pick(t,n){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([r])=>n.includes(r)))}}class FC{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var at;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(at||(at={}));const Y0=(e,t,n={})=>{var r;const s=(r=n.skipTypes)!==null&&r!==void 0?r:[];return t?Object.keys(t).reduce((i,a)=>(i[a]=R3(a,e,t,s),i),{}):{}},R3=(e,t,n,r)=>{const s=t.find(c=>c.name===e),i=s==null?void 0:s.type,a=n[e];return i&&!r.includes(i)?zC(i,a):sv(a)},zC=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return M3(t,n)}switch(e){case at.bool:return A3(t);case at.float4:case at.float8:case at.int2:case at.int4:case at.int8:case at.numeric:case at.oid:return O3(t);case at.json:case at.jsonb:return L3(t);case at.timestamp:return I3(t);case at.abstime:case at.date:case at.daterange:case at.int4range:case at.int8range:case at.money:case at.reltime:case at.text:case at.time:case at.timestamptz:case at.timetz:case at.tsrange:case at.tstzrange:return sv(t);default:return sv(t)}},sv=e=>e,A3=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},O3=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},L3=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e},M3=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let i;const a=e.slice(1,n);try{i=JSON.parse("["+a+"]")}catch{i=a?a.split(","):[]}return i.map(c=>zC(t,c))}return e},I3=e=>typeof e=="string"?e.replace(" ","T"):e,BC=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class kp{constructor(t,n,r={},s=nv){this.channel=t,this.event=n,this.payload=r,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var X0;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(X0||(X0={}));class Pc{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},s=>{const{onJoin:i,onLeave:a,onSync:c}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Pc.syncState(this.state,s,i,a),this.pendingDiffs.forEach(d=>{this.state=Pc.syncDiff(this.state,d,i,a)}),this.pendingDiffs=[],c()}),this.channel._on(r.diff,{},s=>{const{onJoin:i,onLeave:a,onSync:c}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Pc.syncDiff(this.state,s,i,a),c())}),this.onJoin((s,i,a)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:a})}),this.onLeave((s,i,a)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:a})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,s){const i=this.cloneDeep(t),a=this.transformState(n),c={},d={};return this.map(i,(h,m)=>{a[h]||(d[h]=m)}),this.map(a,(h,m)=>{const g=i[h];if(g){const y=m.map(S=>S.presence_ref),v=g.map(S=>S.presence_ref),b=m.filter(S=>v.indexOf(S.presence_ref)<0),x=g.filter(S=>y.indexOf(S.presence_ref)<0);b.length>0&&(c[h]=b),x.length>0&&(d[h]=x)}else c[h]=m}),this.syncDiff(i,{joins:c,leaves:d},r,s)}static syncDiff(t,n,r,s){const{joins:i,leaves:a}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),s||(s=()=>{}),this.map(i,(c,d)=>{var h;const m=(h=t[c])!==null&&h!==void 0?h:[];if(t[c]=this.cloneDeep(d),m.length>0){const g=t[c].map(v=>v.presence_ref),y=m.filter(v=>g.indexOf(v.presence_ref)<0);t[c].unshift(...y)}r(c,m,d)}),this.map(a,(c,d)=>{let h=t[c];if(!h)return;const m=d.map(g=>g.presence_ref);h=h.filter(g=>m.indexOf(g.presence_ref)<0),t[c]=h,s(c,h,d),h.length===0&&delete t[c]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const s=t[r];return"metas"in s?n[r]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):n[r]=s,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Q0;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(Q0||(Q0={}));var jc;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(jc||(jc={}));var Ns;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Ns||(Ns={}));class Aa{constructor(t,n={config:{}},r){var s,i;if(this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=It.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new kp(this,Er.join,this.params,this.timeout),this.rejoinTimer=new FC(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=It.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=It.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=It.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=It.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=It.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Er.reply,{},(a,c)=>{this._trigger(this._replyEventName(c),a)}),this.presence=new Pc(this),this.broadcastEndpointURL=BC(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(s=this.params.config)===null||s===void 0?void 0:s.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,n=this.timeout){var r,s,i;if(this.socket.isConnected()||this.socket.connect(),this.state==It.closed){const{config:{broadcast:a,presence:c,private:d}}=this.params,h=(s=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(v=>v.filter))!==null&&s!==void 0?s:[],m=!!this.bindings[jc.PRESENCE]&&this.bindings[jc.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,g={},y={broadcast:a,presence:Object.assign(Object.assign({},c),{enabled:m}),postgres_changes:h,private:d};this.socket.accessTokenValue&&(g.access_token=this.socket.accessTokenValue),this._onError(v=>t==null?void 0:t(Ns.CHANNEL_ERROR,v)),this._onClose(()=>t==null?void 0:t(Ns.CLOSED)),this.updateJoinPayload(Object.assign({config:y},g)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:v})=>{var b;if(this.socket._isManualToken()||this.socket.setAuth(),v===void 0){t==null||t(Ns.SUBSCRIBED);return}else{const x=this.bindings.postgres_changes,S=(b=x==null?void 0:x.length)!==null&&b!==void 0?b:0,N=[];for(let w=0;w<S;w++){const k=x[w],{filter:{event:P,schema:T,table:R,filter:E}}=k,M=v&&v[w];if(M&&M.event===P&&Aa.isFilterValueEqual(M.schema,T)&&Aa.isFilterValueEqual(M.table,R)&&Aa.isFilterValueEqual(M.filter,E))N.push(Object.assign(Object.assign({},k),{id:M.id}));else{this.unsubscribe(),this.state=It.errored,t==null||t(Ns.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=N,t&&t(Ns.SUBSCRIBED);return}}).receive("error",v=>{this.state=It.errored,t==null||t(Ns.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(v).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Ns.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this.state===It.joined&&t===jc.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(t,n,r)}async httpSend(t,n,r={}){var s;if(n==null)return Promise.reject("Payload is required for httpSend()");const i={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(i.Authorization=`Bearer ${this.socket.accessTokenValue}`);const a={method:"POST",headers:i,body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:n,private:this.private}]})},c=await this._fetchWithTimeout(this.broadcastEndpointURL,a,(s=r.timeout)!==null&&s!==void 0?s:this.timeout);if(c.status===202)return{success:!0};let d=c.statusText;try{const h=await c.json();d=h.error||h.message||d}catch{}return Promise.reject(new Error(d))}async send(t,n={}){var r,s;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:i,payload:a}=t,c={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(c.Authorization=`Bearer ${this.socket.accessTokenValue}`);const d={method:"POST",headers:c,body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:a,private:this.private}]})};try{const h=await this._fetchWithTimeout(this.broadcastEndpointURL,d,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((s=h.body)===null||s===void 0?void 0:s.cancel()),h.ok?"ok":"error"}catch(h){return h.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var a,c,d;const h=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((d=(c=(a=this.params)===null||a===void 0?void 0:a.config)===null||c===void 0?void 0:c.broadcast)===null||d===void 0)&&d.ack)&&i("ok"),h.receive("ok",()=>i("ok")),h.receive("error",()=>i("error")),h.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=It.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Er.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(s=>{r=new kp(this,Er.leave,{},t),r.receive("ok",()=>{n(),s("ok")}).receive("timeout",()=>{n(),s("timed out")}).receive("error",()=>{s("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=It.closed,this.bindings={}}async _fetchWithTimeout(t,n,r){const s=new AbortController,i=setTimeout(()=>s.abort(),r),a=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:s.signal}));return clearTimeout(i),a}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new kp(this,t,n,r);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>T3){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var s,i;const a=t.toLocaleLowerCase(),{close:c,error:d,leave:h,join:m}=Er;if(r&&[c,d,h,m].indexOf(a)>=0&&r!==this._joinRef())return;let y=this._onMessage(a,n,r);if(n&&!y)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(v=>{var b,x,S;return((b=v.filter)===null||b===void 0?void 0:b.event)==="*"||((S=(x=v.filter)===null||x===void 0?void 0:x.event)===null||S===void 0?void 0:S.toLocaleLowerCase())===a}).map(v=>v.callback(y,r)):(i=this.bindings[a])===null||i===void 0||i.filter(v=>{var b,x,S,N,w,k;if(["broadcast","presence","postgres_changes"].includes(a))if("id"in v){const P=v.id,T=(b=v.filter)===null||b===void 0?void 0:b.event;return P&&((x=n.ids)===null||x===void 0?void 0:x.includes(P))&&(T==="*"||(T==null?void 0:T.toLocaleLowerCase())===((S=n.data)===null||S===void 0?void 0:S.type.toLocaleLowerCase()))}else{const P=(w=(N=v==null?void 0:v.filter)===null||N===void 0?void 0:N.event)===null||w===void 0?void 0:w.toLocaleLowerCase();return P==="*"||P===((k=n==null?void 0:n.event)===null||k===void 0?void 0:k.toLocaleLowerCase())}else return v.type.toLocaleLowerCase()===a}).map(v=>{if(typeof y=="object"&&"ids"in y){const b=y.data,{schema:x,table:S,commit_timestamp:N,type:w,errors:k}=b;y=Object.assign(Object.assign({},{schema:x,table:S,commit_timestamp:N,eventType:w,new:{},old:{},errors:k}),this._getPayloadRecords(b))}v.callback(y,r)})}_isClosed(){return this.state===It.closed}_isJoined(){return this.state===It.joined}_isJoining(){return this.state===It.joining}_isLeaving(){return this.state===It.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const s=t.toLocaleLowerCase(),i={type:s,filter:n,callback:r};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&Aa.isEqual(s.filter,n))})),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}static isFilterValueEqual(t,n){return(t??void 0)===(n??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Er.close,{},t)}_onError(t){this._on(Er.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=It.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=Y0(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=Y0(t.columns,t.old_record)),n}}const Np=()=>{},Nd={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},D3=[1e3,2e3,5e3,1e4],$3=1e4,F3=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class z3{constructor(t,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=nv,this.transport=null,this.heartbeatIntervalMs=Nd.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Np,this.ref=0,this.reconnectTimer=null,this.vsn=K0,this.logger=Np,this.conn=null,this.sendBuffer=[],this.serializer=new E3,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=s=>s?(...i)=>s(...i):(...i)=>fetch(...i),!(!((r=n==null?void 0:n.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${t}/${rv.websocket}`,this.httpEndpoint=BC(t),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=k3.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const n=t.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,n??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case ri.connecting:return oo.Connecting;case ri.open:return oo.Open;case ri.closing:return oo.Closing;default:return oo.Closed}}isConnected(){return this.connectionState()===oo.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,n={config:{}}){const r=`realtime:${t}`,s=this.getChannels().find(i=>i.topic===r);if(s)return s;{const i=new Aa(`realtime:${t}`,n,this);return this.channels.push(i),i}}push(t){const{topic:n,event:r,payload:s,ref:i}=t,a=()=>{this.encode(t,c=>{var d;(d=this.conn)===null||d===void 0||d.send(c)})};this.log("push",`${n} ${r} (${i})`,s),this.isConnected()?a():this.sendBuffer.push(a)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(j3,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},Nd.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply"&&n.ref&&n.ref===this.pendingHeartbeatRef){const h=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error",h)}catch(m){this.log("error","error in heartbeat callback",m)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:r,event:s,payload:i,ref:a}=n,c=a?`(${a})`:"",d=i.status||"";this.log("receive",`${d} ${r} ${s} ${c}`.trim(),i),this.channels.filter(h=>h._isMember(r)).forEach(h=>h._trigger(s,i,a)),this._triggerStateCallbacks("message",n)})}_clearTimer(t){var n;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t),this.conn.readyState===ri.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===ri.open||this.conn.readyState===ri.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(n=>{this.log("error","error waiting for auth on connect",n),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this._terminateWorker()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(t){var n;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t);try{this.heartbeatCallback("error")}catch(n){this.log("error","error in heartbeat callback",n)}}_triggerChanError(){this.channels.forEach(t=>t._trigger(Er.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",s=new URLSearchParams(n);return`${t}${r}${s}`}_workerObjectUrl(t){let n;if(t)n=t;else{const r=new Blob([F3],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(t,n=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(t=null){let n,r=!1;if(t)n=t,r=!0;else if(this.accessToken)try{n=await this.accessToken()}catch(s){this.log("error","Error fetching access token from callback",s),n=this.accessTokenValue}else n=this.accessTokenValue;r?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(s=>{const i={access_token:n,version:C3};n&&s.updateJoinPayload(i),s.joinedOnce&&s._isJoined()&&s._push(Er.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this._isManualToken()||this.setAuth().catch(n=>{this.log("error",`Error setting auth in ${t}`,n)})}_triggerStateCallbacks(t,n){try{this.stateChangeCallbacks[t].forEach(r=>{try{r(n)}catch(s){this.log("error",`error in ${t} callback`,s)}})}catch(r){this.log("error",`error triggering ${t} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new FC(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Nd.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var n,r,s,i,a,c,d,h,m,g,y,v;switch(this.transport=(n=t==null?void 0:t.transport)!==null&&n!==void 0?n:null,this.timeout=(r=t==null?void 0:t.timeout)!==null&&r!==void 0?r:nv,this.heartbeatIntervalMs=(s=t==null?void 0:t.heartbeatIntervalMs)!==null&&s!==void 0?s:Nd.HEARTBEAT_INTERVAL,this.worker=(i=t==null?void 0:t.worker)!==null&&i!==void 0?i:!1,this.accessToken=(a=t==null?void 0:t.accessToken)!==null&&a!==void 0?a:null,this.heartbeatCallback=(c=t==null?void 0:t.heartbeatCallback)!==null&&c!==void 0?c:Np,this.vsn=(d=t==null?void 0:t.vsn)!==null&&d!==void 0?d:K0,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(h=t==null?void 0:t.reconnectAfterMs)!==null&&h!==void 0?h:b=>D3[b-1]||$3,this.vsn){case P3:this.encode=(m=t==null?void 0:t.encode)!==null&&m!==void 0?m:(b,x)=>x(JSON.stringify(b)),this.decode=(g=t==null?void 0:t.decode)!==null&&g!==void 0?g:(b,x)=>x(JSON.parse(b));break;case $C:this.encode=(y=t==null?void 0:t.encode)!==null&&y!==void 0?y:this.serializer.encode.bind(this.serializer),this.decode=(v=t==null?void 0:t.decode)!==null&&v!==void 0?v:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}var ru=class extends Error{constructor(e,t){var n;super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&((n=t.icebergType)==null?void 0:n.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function B3(e,t,n){const r=new URL(t,e);if(n)for(const[s,i]of Object.entries(n))i!==void 0&&r.searchParams.set(s,i);return r.toString()}async function U3(e){return!e||e.type==="none"?{}:e.type==="bearer"?{Authorization:`Bearer ${e.token}`}:e.type==="header"?{[e.name]:e.value}:e.type==="custom"?await e.getHeaders():{}}function V3(e){const t=e.fetchImpl??globalThis.fetch;return{async request({method:n,path:r,query:s,body:i,headers:a}){const c=B3(e.baseUrl,r,s),d=await U3(e.auth),h=await t(c,{method:n,headers:{...i?{"Content-Type":"application/json"}:{},...d,...a},body:i?JSON.stringify(i):void 0}),m=await h.text(),g=(h.headers.get("content-type")||"").includes("application/json"),y=g&&m?JSON.parse(m):m;if(!h.ok){const v=g?y:void 0,b=v==null?void 0:v.error;throw new ru((b==null?void 0:b.message)??`Request failed with status ${h.status}`,{status:h.status,icebergType:b==null?void 0:b.type,icebergCode:b==null?void 0:b.code,details:v})}return{status:h.status,headers:h.headers,data:y}}}}function Cd(e){return e.join("")}var W3=class{constructor(e,t=""){this.client=e,this.prefix=t}async listNamespaces(e){const t=e?{parent:Cd(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(r=>({namespace:r}))}async createNamespace(e,t){const n={namespace:e.namespace,properties:t==null?void 0:t.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:n})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Cd(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Cd(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Cd(e.namespace)}`}),!0}catch(t){if(t instanceof ru&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(n){if(n instanceof ru&&n.status===409)return;throw n}}};function ra(e){return e.join("")}var q3=class{constructor(e,t="",n){this.client=e,this.prefix=t,this.accessDelegation=n}async listTables(e){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${ra(e.namespace)}/tables`})).data.identifiers}async createTable(e,t){const n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${ra(e.namespace)}/tables`,body:t,headers:n})).data.metadata}async updateTable(e,t){const n=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${ra(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":n.data["metadata-location"],metadata:n.data.metadata}}async dropTable(e,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${ra(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String((t==null?void 0:t.purge)??!1)}})}async loadTable(e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${ra(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata}async tableExists(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${ra(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(n){if(n instanceof ru&&n.status===404)return!1;throw n}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(n){if(n instanceof ru&&n.status===409)return await this.loadTable({namespace:e.namespace,name:t.name});throw n}}},H3=class{constructor(e){var r;let t="v1";e.catalogName&&(t+=`/${e.catalogName}`);const n=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=V3({baseUrl:n,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=(r=e.accessDelegation)==null?void 0:r.join(","),this.namespaceOps=new W3(this.client,t),this.tableOps=new q3(this.client,t,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}},Wf=class extends Error{constructor(e,t="storage",n,r){super(e),this.__isStorageError=!0,this.namespace=t,this.name=t==="vectors"?"StorageVectorsError":"StorageError",this.status=n,this.statusCode=r}};function qf(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}var Pd=class extends Wf{constructor(e,t,n,r="storage"){super(e,r,t,n),this.name=r==="vectors"?"StorageVectorsApiError":"StorageApiError",this.status=t,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},UC=class extends Wf{constructor(e,t,n="storage"){super(e,n),this.name=n==="vectors"?"StorageVectorsUnknownError":"StorageUnknownError",this.originalError=t}};const G3=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),Z3=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},iv=e=>{if(Array.isArray(e))return e.map(n=>iv(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,r])=>{const s=n.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[s]=iv(r)}),t},K3=e=>!e||typeof e!="string"||e.length===0||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e);function su(e){"@babel/helpers - typeof";return su=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},su(e)}function Y3(e,t){if(su(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(su(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function X3(e){var t=Y3(e,"string");return su(t)=="symbol"?t:t+""}function Q3(e,t,n){return(t=X3(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function J0(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function Re(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?J0(Object(n),!0).forEach(function(r){Q3(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):J0(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}const eb=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},J3=async(e,t,n,r)=>{if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(n!=null&&n.noResolveJson)){const s=e,i=s.status||500;if(typeof s.json=="function")s.json().then(a=>{const c=(a==null?void 0:a.statusCode)||(a==null?void 0:a.code)||i+"";t(new Pd(eb(a),i,c,r))}).catch(()=>{if(r==="vectors"){const a=i+"";t(new Pd(s.statusText||`HTTP ${i} error`,i,a,r))}else{const a=i+"";t(new Pd(s.statusText||`HTTP ${i} error`,i,a,r))}});else{const a=i+"";t(new Pd(s.statusText||`HTTP ${i} error`,i,a,r))}}else t(new UC(eb(e),e,r))},e$=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||e==="HEAD"||!r?Re(Re({},s),n):(Z3(r)?(s.headers=Re({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(r)):s.body=r,t!=null&&t.duplex&&(s.duplex=t.duplex),Re(Re({},s),n))};async function rc(e,t,n,r,s,i,a){return new Promise((c,d)=>{e(n,e$(t,r,s,i)).then(h=>{if(!h.ok)throw h;if(r!=null&&r.noResolveJson)return h;if(a==="vectors"){const m=h.headers.get("content-type");if(!m||!m.includes("application/json"))return{}}return h.json()}).then(h=>c(h)).catch(h=>J3(h,d,r,a))})}function t$(e="storage"){return{get:async(t,n,r,s)=>rc(t,"GET",n,r,s,void 0,e),post:async(t,n,r,s,i)=>rc(t,"POST",n,s,i,r,e),put:async(t,n,r,s,i)=>rc(t,"PUT",n,s,i,r,e),head:async(t,n,r,s)=>rc(t,"HEAD",n,Re(Re({},r),{},{noResolveJson:!0}),s,void 0,e),remove:async(t,n,r,s,i)=>rc(t,"DELETE",n,s,i,r,e)}}const n$=t$("storage"),{get:iu,post:ft,put:ov,head:r$,remove:Yy}=n$;var El=class{constructor(e,t={},n,r="storage"){this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.fetch=G3(n),this.namespace=r}throwOnError(){return this.shouldThrowOnError=!0,this}async handleOperation(e){var t=this;try{return{data:await e(),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(qf(n))return{data:null,error:n};throw n}}},s$=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}then(e,t){return this.execute().then(e,t)}async execute(){var e=this;try{return{data:(await e.downloadFn()).body,error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(qf(t))return{data:null,error:t};throw t}}};let VC;VC=Symbol.toStringTag;var i$=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t,this[VC]="BlobDownloadBuilder",this.promise=null}asStream(){return new s$(this.downloadFn,this.shouldThrowOnError)}then(e,t){return this.getPromise().then(e,t)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var e=this;try{return{data:await(await e.downloadFn()).blob(),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(qf(t))return{data:null,error:t};throw t}}};const o$={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},tb={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var a$=class extends El{constructor(e,t={},n,r){super(e,t,r,"storage"),this.bucketId=n}async uploadOrUpdate(e,t,n,r){var s=this;return s.handleOperation(async()=>{let i;const a=Re(Re({},tb),r);let c=Re(Re({},s.headers),e==="POST"&&{"x-upsert":String(a.upsert)});const d=a.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",a.cacheControl),d&&i.append("metadata",s.encodeMetadata(d)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.has("cacheControl")||i.append("cacheControl",a.cacheControl),d&&!i.has("metadata")&&i.append("metadata",s.encodeMetadata(d))):(i=n,c["cache-control"]=`max-age=${a.cacheControl}`,c["content-type"]=a.contentType,d&&(c["x-metadata"]=s.toBase64(s.encodeMetadata(d))),(typeof ReadableStream<"u"&&i instanceof ReadableStream||i&&typeof i=="object"&&"pipe"in i&&typeof i.pipe=="function")&&!a.duplex&&(a.duplex="half")),r!=null&&r.headers&&(c=Re(Re({},c),r.headers));const h=s._removeEmptyFolders(t),m=s._getFinalPath(h),g=await(e=="PUT"?ov:ft)(s.fetch,`${s.url}/object/${m}`,i,Re({headers:c},a!=null&&a.duplex?{duplex:a.duplex}:{}));return{path:h,id:g.Id,fullPath:g.Key}})}async upload(e,t,n){return this.uploadOrUpdate("POST",e,t,n)}async uploadToSignedUrl(e,t,n,r){var s=this;const i=s._removeEmptyFolders(e),a=s._getFinalPath(i),c=new URL(s.url+`/object/upload/sign/${a}`);return c.searchParams.set("token",t),s.handleOperation(async()=>{let d;const h=Re({upsert:tb.upsert},r),m=Re(Re({},s.headers),{"x-upsert":String(h.upsert)});return typeof Blob<"u"&&n instanceof Blob?(d=new FormData,d.append("cacheControl",h.cacheControl),d.append("",n)):typeof FormData<"u"&&n instanceof FormData?(d=n,d.append("cacheControl",h.cacheControl)):(d=n,m["cache-control"]=`max-age=${h.cacheControl}`,m["content-type"]=h.contentType),{path:i,fullPath:(await ov(s.fetch,c.toString(),d,{headers:m})).Key}})}async createSignedUploadUrl(e,t){var n=this;return n.handleOperation(async()=>{let r=n._getFinalPath(e);const s=Re({},n.headers);t!=null&&t.upsert&&(s["x-upsert"]="true");const i=await ft(n.fetch,`${n.url}/object/upload/sign/${r}`,{},{headers:s}),a=new URL(n.url+i.url),c=a.searchParams.get("token");if(!c)throw new Wf("No token returned by API");return{signedUrl:a.toString(),path:e,token:c}})}async update(e,t,n){return this.uploadOrUpdate("PUT",e,t,n)}async move(e,t,n){var r=this;return r.handleOperation(async()=>await ft(r.fetch,`${r.url}/object/move`,{bucketId:r.bucketId,sourceKey:e,destinationKey:t,destinationBucket:n==null?void 0:n.destinationBucket},{headers:r.headers}))}async copy(e,t,n){var r=this;return r.handleOperation(async()=>({path:(await ft(r.fetch,`${r.url}/object/copy`,{bucketId:r.bucketId,sourceKey:e,destinationKey:t,destinationBucket:n==null?void 0:n.destinationBucket},{headers:r.headers})).Key}))}async createSignedUrl(e,t,n){var r=this;return r.handleOperation(async()=>{let s=r._getFinalPath(e),i=await ft(r.fetch,`${r.url}/object/sign/${s}`,Re({expiresIn:t},n!=null&&n.transform?{transform:n.transform}:{}),{headers:r.headers});const a=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{signedUrl:encodeURI(`${r.url}${i.signedURL}${a}`)}})}async createSignedUrls(e,t,n){var r=this;return r.handleOperation(async()=>{const s=await ft(r.fetch,`${r.url}/object/sign/${r.bucketId}`,{expiresIn:t,paths:e},{headers:r.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return s.map(a=>Re(Re({},a),{},{signedUrl:a.signedURL?encodeURI(`${r.url}${a.signedURL}${i}`):null}))})}download(e,t){const n=typeof(t==null?void 0:t.transform)<"u"?"render/image/authenticated":"object",r=this.transformOptsToQueryString((t==null?void 0:t.transform)||{}),s=r?`?${r}`:"",i=this._getFinalPath(e),a=()=>iu(this.fetch,`${this.url}/${n}/${i}${s}`,{headers:this.headers,noResolveJson:!0});return new i$(a,this.shouldThrowOnError)}async info(e){var t=this;const n=t._getFinalPath(e);return t.handleOperation(async()=>iv(await iu(t.fetch,`${t.url}/object/info/${n}`,{headers:t.headers})))}async exists(e){var t=this;const n=t._getFinalPath(e);try{return await r$(t.fetch,`${t.url}/object/${n}`,{headers:t.headers}),{data:!0,error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(qf(r)&&r instanceof UC){const s=r.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:r}}throw r}}getPublicUrl(e,t){const n=this._getFinalPath(e),r=[],s=t!=null&&t.download?`download=${t.download===!0?"":t.download}`:"";s!==""&&r.push(s);const i=typeof(t==null?void 0:t.transform)<"u"?"render/image":"object",a=this.transformOptsToQueryString((t==null?void 0:t.transform)||{});a!==""&&r.push(a);let c=r.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${i}/public/${n}${c}`)}}}async remove(e){var t=this;return t.handleOperation(async()=>await Yy(t.fetch,`${t.url}/object/${t.bucketId}`,{prefixes:e},{headers:t.headers}))}async list(e,t,n){var r=this;return r.handleOperation(async()=>{const s=Re(Re(Re({},o$),t),{},{prefix:e||""});return await ft(r.fetch,`${r.url}/object/list/${r.bucketId}`,s,{headers:r.headers},n)})}async listV2(e,t){var n=this;return n.handleOperation(async()=>{const r=Re({},e);return await ft(n.fetch,`${n.url}/object/list-v2/${n.bucketId}`,r,{headers:n.headers},t)})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}};const l$="2.93.1",Cu={"X-Client-Info":`storage-js/${l$}`};var c$=class extends El{constructor(e,t={},n,r){const s=new URL(e);r!=null&&r.useNewHostname&&/supabase\.(co|in|red)$/.test(s.hostname)&&!s.hostname.includes("storage.supabase.")&&(s.hostname=s.hostname.replace("supabase.","storage.supabase."));const i=s.href.replace(/\/$/,""),a=Re(Re({},Cu),t);super(i,a,n,"storage")}async listBuckets(e){var t=this;return t.handleOperation(async()=>{const n=t.listBucketOptionsToQueryString(e);return await iu(t.fetch,`${t.url}/bucket${n}`,{headers:t.headers})})}async getBucket(e){var t=this;return t.handleOperation(async()=>await iu(t.fetch,`${t.url}/bucket/${e}`,{headers:t.headers}))}async createBucket(e,t={public:!1}){var n=this;return n.handleOperation(async()=>await ft(n.fetch,`${n.url}/bucket`,{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:n.headers}))}async updateBucket(e,t){var n=this;return n.handleOperation(async()=>await ov(n.fetch,`${n.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:n.headers}))}async emptyBucket(e){var t=this;return t.handleOperation(async()=>await ft(t.fetch,`${t.url}/bucket/${e}/empty`,{},{headers:t.headers}))}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await Yy(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}))}listBucketOptionsToQueryString(e){const t={};return e&&("limit"in e&&(t.limit=String(e.limit)),"offset"in e&&(t.offset=String(e.offset)),e.search&&(t.search=e.search),e.sortColumn&&(t.sortColumn=e.sortColumn),e.sortOrder&&(t.sortOrder=e.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}},u$=class extends El{constructor(e,t={},n){const r=e.replace(/\/$/,""),s=Re(Re({},Cu),t);super(r,s,n,"storage")}async createBucket(e){var t=this;return t.handleOperation(async()=>await ft(t.fetch,`${t.url}/bucket`,{name:e},{headers:t.headers}))}async listBuckets(e){var t=this;return t.handleOperation(async()=>{const n=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&n.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&n.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&n.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&n.set("sortOrder",e.sortOrder),e!=null&&e.search&&n.set("search",e.search);const r=n.toString(),s=r?`${t.url}/bucket?${r}`:`${t.url}/bucket`;return await iu(t.fetch,s,{headers:t.headers})})}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await Yy(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}))}from(e){var t=this;if(!K3(e))throw new Wf("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const n=new H3({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:async()=>t.headers},fetch:this.fetch}),r=this.shouldThrowOnError;return new Proxy(n,{get(s,i){const a=s[i];return typeof a!="function"?a:async(...c)=>{try{return{data:await a.apply(s,c),error:null}}catch(d){if(r)throw d;return{data:null,error:d}}}}})}},d$=class extends El{constructor(e,t={},n){const r=e.replace(/\/$/,""),s=Re(Re({},Cu),{},{"Content-Type":"application/json"},t);super(r,s,n,"vectors")}async createIndex(e){var t=this;return t.handleOperation(async()=>await ft(t.fetch,`${t.url}/CreateIndex`,e,{headers:t.headers})||{})}async getIndex(e,t){var n=this;return n.handleOperation(async()=>await ft(n.fetch,`${n.url}/GetIndex`,{vectorBucketName:e,indexName:t},{headers:n.headers}))}async listIndexes(e){var t=this;return t.handleOperation(async()=>await ft(t.fetch,`${t.url}/ListIndexes`,e,{headers:t.headers}))}async deleteIndex(e,t){var n=this;return n.handleOperation(async()=>await ft(n.fetch,`${n.url}/DeleteIndex`,{vectorBucketName:e,indexName:t},{headers:n.headers})||{})}},h$=class extends El{constructor(e,t={},n){const r=e.replace(/\/$/,""),s=Re(Re({},Cu),{},{"Content-Type":"application/json"},t);super(r,s,n,"vectors")}async putVectors(e){var t=this;if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return t.handleOperation(async()=>await ft(t.fetch,`${t.url}/PutVectors`,e,{headers:t.headers})||{})}async getVectors(e){var t=this;return t.handleOperation(async()=>await ft(t.fetch,`${t.url}/GetVectors`,e,{headers:t.headers}))}async listVectors(e){var t=this;if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return t.handleOperation(async()=>await ft(t.fetch,`${t.url}/ListVectors`,e,{headers:t.headers}))}async queryVectors(e){var t=this;return t.handleOperation(async()=>await ft(t.fetch,`${t.url}/QueryVectors`,e,{headers:t.headers}))}async deleteVectors(e){var t=this;if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return t.handleOperation(async()=>await ft(t.fetch,`${t.url}/DeleteVectors`,e,{headers:t.headers})||{})}},f$=class extends El{constructor(e,t={},n){const r=e.replace(/\/$/,""),s=Re(Re({},Cu),{},{"Content-Type":"application/json"},t);super(r,s,n,"vectors")}async createBucket(e){var t=this;return t.handleOperation(async()=>await ft(t.fetch,`${t.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{})}async getBucket(e){var t=this;return t.handleOperation(async()=>await ft(t.fetch,`${t.url}/GetVectorBucket`,{vectorBucketName:e},{headers:t.headers}))}async listBuckets(e={}){var t=this;return t.handleOperation(async()=>await ft(t.fetch,`${t.url}/ListVectorBuckets`,e,{headers:t.headers}))}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await ft(t.fetch,`${t.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{})}},m$=class extends f${constructor(e,t={}){super(e,t.headers||{},t.fetch)}from(e){return new p$(this.url,this.headers,e,this.fetch)}async createBucket(e){var t=()=>super.createBucket,n=this;return t().call(n,e)}async getBucket(e){var t=()=>super.getBucket,n=this;return t().call(n,e)}async listBuckets(e={}){var t=()=>super.listBuckets,n=this;return t().call(n,e)}async deleteBucket(e){var t=()=>super.deleteBucket,n=this;return t().call(n,e)}},p$=class extends d${constructor(e,t,n,r){super(e,t,r),this.vectorBucketName=n}async createIndex(e){var t=()=>super.createIndex,n=this;return t().call(n,Re(Re({},e),{},{vectorBucketName:n.vectorBucketName}))}async listIndexes(e={}){var t=()=>super.listIndexes,n=this;return t().call(n,Re(Re({},e),{},{vectorBucketName:n.vectorBucketName}))}async getIndex(e){var t=()=>super.getIndex,n=this;return t().call(n,n.vectorBucketName,e)}async deleteIndex(e){var t=()=>super.deleteIndex,n=this;return t().call(n,n.vectorBucketName,e)}index(e){return new g$(this.url,this.headers,this.vectorBucketName,e,this.fetch)}},g$=class extends h${constructor(e,t,n,r,s){super(e,t,s),this.vectorBucketName=n,this.indexName=r}async putVectors(e){var t=()=>super.putVectors,n=this;return t().call(n,Re(Re({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async getVectors(e){var t=()=>super.getVectors,n=this;return t().call(n,Re(Re({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async listVectors(e={}){var t=()=>super.listVectors,n=this;return t().call(n,Re(Re({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async queryVectors(e){var t=()=>super.queryVectors,n=this;return t().call(n,Re(Re({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async deleteVectors(e){var t=()=>super.deleteVectors,n=this;return t().call(n,Re(Re({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}},v$=class extends c${constructor(e,t={},n,r){super(e,t,n,r)}from(e){return new a$(this.url,this.headers,e,this.fetch)}get vectors(){return new m$(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new u$(this.url+"/iceberg",this.headers,this.fetch)}};const WC="2.93.1",va=30*1e3,av=3,Cp=av*va,y$="http://localhost:9999",x$="supabase.auth.token",_$={"X-Client-Info":`gotrue-js/${WC}`},lv="X-Supabase-Api-Version",qC={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},w$=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,b$=10*60*1e3;class ou extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function Ne(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class S$ extends ou{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function k$(e){return Ne(e)&&e.name==="AuthApiError"}class ao extends ou{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class qs extends ou{constructor(t,n,r,s){super(t,r,s),this.name=n,this.status=r}}class Un extends qs{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Pp(e){return Ne(e)&&e.name==="AuthSessionMissingError"}class sa extends qs{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class jd extends qs{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Td extends qs{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function N$(e){return Ne(e)&&e.name==="AuthImplicitGrantRedirectError"}class nb extends qs{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class C$ extends qs{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class cv extends qs{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function jp(e){return Ne(e)&&e.name==="AuthRetryableFetchError"}class rb extends qs{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class uv extends qs{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Fh="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),sb=` 	
\r=`.split(""),P$=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<sb.length;t+=1)e[sb[t].charCodeAt(0)]=-2;for(let t=0;t<Fh.length;t+=1)e[Fh[t].charCodeAt(0)]=t;return e})();function ib(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(Fh[r]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(Fh[r]),t.queuedBits-=6}}function HC(e,t,n){const r=P$[e];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function ob(e){const t=[],n=a=>{t.push(String.fromCodePoint(a))},r={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=a=>{E$(a,r,n)};for(let a=0;a<e.length;a+=1)HC(e.charCodeAt(a),s,i);return t.join("")}function j$(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function T$(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){const s=(r-55296)*1024&65535;r=(e.charCodeAt(n+1)-56320&65535|s)+65536,n+=1}j$(r,t)}}function E$(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let r=1;r<6;r+=1)if(!(e>>7-r&1)){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function Va(e){const t=[],n={queue:0,queuedBits:0},r=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)HC(e.charCodeAt(s),n,r);return new Uint8Array(t)}function R$(e){const t=[];return T$(e,n=>t.push(n)),new Uint8Array(t)}function ho(e){const t=[],n={queue:0,queuedBits:0},r=s=>{t.push(s)};return e.forEach(s=>ib(s,n,r)),ib(null,n,r),t.join("")}function A$(e){return Math.round(Date.now()/1e3)+e}function O$(){return Symbol("auth-callback")}const Kt=()=>typeof window<"u"&&typeof document<"u",Ki={tested:!1,writable:!1},GC=()=>{if(!Kt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Ki.tested)return Ki.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Ki.tested=!0,Ki.writable=!0}catch{Ki.tested=!0,Ki.writable=!1}return Ki.writable};function L$(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((s,i)=>{t[i]=s})}catch{}return n.searchParams.forEach((r,s)=>{t[s]=r}),t}const ZC=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),M$=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",ya=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},Yi=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Zt=async(e,t)=>{await e.removeItem(t)};class Hf{constructor(){this.promise=new Hf.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}Hf.promiseConstructor=Promise;function Ed(e){const t=e.split(".");if(t.length!==3)throw new uv("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!w$.test(t[r]))throw new uv("JWT not in base64url format");return{header:JSON.parse(ob(t[0])),payload:JSON.parse(ob(t[1])),signature:Va(t[2]),raw:{header:t[0],payload:t[1]}}}async function I$(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function D$(e,t){return new Promise((r,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const a=await e(i);if(!t(i,null,a)){r(a);return}}catch(a){if(!t(i,a)){s(a);return}}})()})}function $$(e){return("0"+e.toString(16)).substr(-2)}function F$(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let s="";for(let i=0;i<56;i++)s+=n.charAt(Math.floor(Math.random()*r));return s}return crypto.getRandomValues(t),Array.from(t,$$).join("")}async function z$(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),s=new Uint8Array(r);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function B$(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await z$(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function ia(e,t,n=!1){const r=F$();let s=r;n&&(s+="/PASSWORD_RECOVERY"),await ya(e,`${t}-code-verifier`,s);const i=await B$(r);return[i,r===i?"plain":"s256"]}const U$=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function V$(e){const t=e.headers.get(lv);if(!t||!t.match(U$))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function W$(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function q$(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const H$=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function oa(e){if(!H$.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Tp(){const e={};return new Proxy(e,{get:(t,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function G$(e,t){return new Proxy(e,{get:(n,r,s)=>{if(r==="__isInsecureUserWarningProxy")return!0;if(typeof r=="symbol"){const i=r.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)"||i==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,r,s)}return!t.value&&typeof r=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(n,r,s)}})}function ab(e){return JSON.parse(JSON.stringify(e))}const to=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Z$=[502,503,504];async function lb(e){var t;if(!M$(e))throw new cv(to(e),0);if(Z$.includes(e.status))throw new cv(to(e),e.status);let n;try{n=await e.json()}catch(i){throw new ao(to(i),i)}let r;const s=V$(e);if(s&&s.getTime()>=qC["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new rb(to(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new Un}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((i,a)=>i&&typeof a=="string",!0))throw new rb(to(n),e.status,n.weak_password.reasons);throw new S$(to(n),e.status||500,r)}const K$=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),n))};async function je(e,t,n,r){var s;const i=Object.assign({},r==null?void 0:r.headers);i[lv]||(i[lv]=qC["2024-01-01"].name),r!=null&&r.jwt&&(i.Authorization=`Bearer ${r.jwt}`);const a=(s=r==null?void 0:r.query)!==null&&s!==void 0?s:{};r!=null&&r.redirectTo&&(a.redirect_to=r.redirectTo);const c=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",d=await Y$(e,t,n+c,{headers:i,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(d):{data:Object.assign({},d),error:null}}async function Y$(e,t,n,r,s,i){const a=K$(t,r,s,i);let c;try{c=await e(n,Object.assign({},a))}catch(d){throw console.error(d),new cv(to(d),0)}if(c.ok||await lb(c),r!=null&&r.noResolveJson)return c;try{return await c.json()}catch(d){await lb(d)}}function Sr(e){var t;let n=null;J$(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=A$(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function cb(e){const t=Sr(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function li(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function X$(e){return{data:e,error:null}}function Q$(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i}=e,a=Tl(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),c={action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i},d=Object.assign({},a);return{data:{properties:c,user:d},error:null}}function ub(e){return e}function J$(e){return e.access_token&&e.refresh_token&&e.expires_in}const Ep=["global","local","others"];class eF{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=ZC(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,n=Ep[0]){if(Ep.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Ep.join(", ")}`);try{return await je(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Ne(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await je(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:li})}catch(r){if(Ne(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:n}=t,r=Tl(t,["options"]),s=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(s.new_email=r==null?void 0:r.newEmail,delete s.newEmail),await je(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:Q$,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(Ne(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await je(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:li})}catch(n){if(Ne(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,s,i,a,c,d;try{const h={nextPage:null,lastPage:0,total:0},m=await je(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:ub});if(m.error)throw m.error;const g=await m.json(),y=(a=m.headers.get("x-total-count"))!==null&&a!==void 0?a:0,v=(d=(c=m.headers.get("link"))===null||c===void 0?void 0:c.split(","))!==null&&d!==void 0?d:[];return v.length>0&&(v.forEach(b=>{const x=parseInt(b.split(";")[0].split("=")[1].substring(0,1)),S=JSON.parse(b.split(";")[1].split("=")[1]);h[`${S}Page`]=x}),h.total=parseInt(y)),{data:Object.assign(Object.assign({},g),h),error:null}}catch(h){if(Ne(h))return{data:{users:[]},error:h};throw h}}async getUserById(t){oa(t);try{return await je(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:li})}catch(n){if(Ne(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){oa(t);try{return await je(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:li})}catch(r){if(Ne(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){oa(t);try{return await je(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:li})}catch(r){if(Ne(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){oa(t.userId);try{const{data:n,error:r}=await je(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:n,error:r}}catch(n){if(Ne(n))return{data:null,error:n};throw n}}async _deleteFactor(t){oa(t.userId),oa(t.id);try{return{data:await je(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(Ne(n))return{data:null,error:n};throw n}}async _listOAuthClients(t){var n,r,s,i,a,c,d;try{const h={nextPage:null,lastPage:0,total:0},m=await je(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:ub});if(m.error)throw m.error;const g=await m.json(),y=(a=m.headers.get("x-total-count"))!==null&&a!==void 0?a:0,v=(d=(c=m.headers.get("link"))===null||c===void 0?void 0:c.split(","))!==null&&d!==void 0?d:[];return v.length>0&&(v.forEach(b=>{const x=parseInt(b.split(";")[0].split("=")[1].substring(0,1)),S=JSON.parse(b.split(";")[1].split("=")[1]);h[`${S}Page`]=x}),h.total=parseInt(y)),{data:Object.assign(Object.assign({},g),h),error:null}}catch(h){if(Ne(h))return{data:{clients:[]},error:h};throw h}}async _createOAuthClient(t){try{return await je(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Ne(n))return{data:null,error:n};throw n}}async _getOAuthClient(t){try{return await je(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Ne(n))return{data:null,error:n};throw n}}async _updateOAuthClient(t,n){try{return await je(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:n,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Ne(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(t){try{return await je(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Ne(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(t){try{return await je(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Ne(n))return{data:null,error:n};throw n}}}function db(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}const aa={debug:!!(globalThis&&GC()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class KC extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class tF extends KC{}async function nF(e,t,n){aa.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),aa.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async s=>{if(s){aa.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await n()}finally{aa.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw aa.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new tF(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(aa.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function rF(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function YC(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function sF(e){return parseInt(e,16)}function iF(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,r=>r.toString(16).padStart(2,"0")).join("")}function oF(e){var t;const{chainId:n,domain:r,expirationTime:s,issuedAt:i=new Date,nonce:a,notBefore:c,requestId:d,resources:h,scheme:m,uri:g,version:y}=e;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(a&&a.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${a}`);if(!g)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(y!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${y}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const v=YC(e.address),b=m?`${m}://${r}`:r,x=e.statement?`${e.statement}
`:"",S=`${b} wants you to sign in with your Ethereum account:
${v}

${x}`;let N=`URI: ${g}
Version: ${y}
Chain ID: ${n}${a?`
Nonce: ${a}`:""}
Issued At: ${i.toISOString()}`;if(s&&(N+=`
Expiration Time: ${s.toISOString()}`),c&&(N+=`
Not Before: ${c.toISOString()}`),d&&(N+=`
Request ID: ${d}`),h){let w=`
Resources:`;for(const k of h){if(!k||typeof k!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${k}`);w+=`
- ${k}`}N+=w}return`${S}
${N}`}class Lt extends Error{constructor({message:t,code:n,cause:r,name:s}){var i;super(t,{cause:r}),this.__isWebAuthnError=!0,this.name=(i=s??(r instanceof Error?r.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=n}}class zh extends Lt{constructor(t,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:t}),this.name="WebAuthnUnknownError",this.originalError=n}}function aF({error:e,options:t}){var n,r,s;const{publicKey:i}=t;if(!i)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Lt({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((n=i.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new Lt({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((r=i.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new Lt({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((s=i.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new Lt({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new Lt({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new Lt({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return i.pubKeyCredParams.filter(c=>c.type==="public-key").length===0?new Lt({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new Lt({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const a=window.location.hostname;if(XC(a)){if(i.rp.id!==a)return new Lt({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Lt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new Lt({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new Lt({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Lt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function lF({error:e,options:t}){const{publicKey:n}=t;if(!n)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Lt({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new Lt({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const r=window.location.hostname;if(XC(r)){if(n.rpId!==r)return new Lt({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Lt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new Lt({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Lt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class cF{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const uF=new cF;function dF(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:n,excludeCredentials:r}=e,s=Tl(e,["challenge","user","excludeCredentials"]),i=Va(t).buffer,a=Object.assign(Object.assign({},n),{id:Va(n.id).buffer}),c=Object.assign(Object.assign({},s),{challenge:i,user:a});if(r&&r.length>0){c.excludeCredentials=new Array(r.length);for(let d=0;d<r.length;d++){const h=r[d];c.excludeCredentials[d]=Object.assign(Object.assign({},h),{id:Va(h.id).buffer,type:h.type||"public-key",transports:h.transports})}}return c}function hF(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:n}=e,r=Tl(e,["challenge","allowCredentials"]),s=Va(t).buffer,i=Object.assign(Object.assign({},r),{challenge:s});if(n&&n.length>0){i.allowCredentials=new Array(n.length);for(let a=0;a<n.length;a++){const c=n[a];i.allowCredentials[a]=Object.assign(Object.assign({},c),{id:Va(c.id).buffer,type:c.type||"public-key",transports:c.transports})}}return i}function fF(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e;return{id:e.id,rawId:e.id,response:{attestationObject:ho(new Uint8Array(e.response.attestationObject)),clientDataJSON:ho(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function mF(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e,r=e.getClientExtensionResults(),s=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:ho(new Uint8Array(s.authenticatorData)),clientDataJSON:ho(new Uint8Array(s.clientDataJSON)),signature:ho(new Uint8Array(s.signature)),userHandle:s.userHandle?ho(new Uint8Array(s.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function XC(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function hb(){var e,t;return!!(Kt()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function pF(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new zh("Browser returned unexpected credential type",t)}:{data:null,error:new zh("Empty credential response",t)}}catch(t){return{data:null,error:aF({error:t,options:e})}}}async function gF(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new zh("Browser returned unexpected credential type",t)}:{data:null,error:new zh("Empty credential response",t)}}catch(t){return{data:null,error:lF({error:t,options:e})}}}const vF={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},yF={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Bh(...e){const t=s=>s!==null&&typeof s=="object"&&!Array.isArray(s),n=s=>s instanceof ArrayBuffer||ArrayBuffer.isView(s),r={};for(const s of e)if(s)for(const i in s){const a=s[i];if(a!==void 0)if(Array.isArray(a))r[i]=a;else if(n(a))r[i]=a;else if(t(a)){const c=r[i];t(c)?r[i]=Bh(c,a):r[i]=Bh(a)}else r[i]=a}return r}function xF(e,t){return Bh(vF,e,t||{})}function _F(e,t){return Bh(yF,e,t||{})}class wF{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:n,friendlyName:r,signal:s},i){try{const{data:a,error:c}=await this.client.mfa.challenge({factorId:t,webauthn:n});if(!a)return{data:null,error:c};const d=s??uF.createNewAbortSignal();if(a.webauthn.type==="create"){const{user:h}=a.webauthn.credential_options.publicKey;h.name||(h.name=`${h.id}:${r}`),h.displayName||(h.displayName=h.name)}switch(a.webauthn.type){case"create":{const h=xF(a.webauthn.credential_options.publicKey,i==null?void 0:i.create),{data:m,error:g}=await pF({publicKey:h,signal:d});return m?{data:{factorId:t,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:m}},error:null}:{data:null,error:g}}case"request":{const h=_F(a.webauthn.credential_options.publicKey,i==null?void 0:i.request),{data:m,error:g}=await gF(Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:h,signal:d}));return m?{data:{factorId:t,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:m}},error:null}:{data:null,error:g}}}}catch(a){return Ne(a)?{data:null,error:a}:{data:null,error:new ao("Unexpected error in challenge",a)}}}async _verify({challengeId:t,factorId:n,webauthn:r}){return this.client.mfa.verify({factorId:n,challengeId:t,webauthn:r})}async _authenticate({factorId:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},i){if(!n)return{data:null,error:new ou("rpId is required for WebAuthn authentication")};try{if(!hb())return{data:null,error:new ao("Browser does not support WebAuthn",null)};const{data:a,error:c}=await this.challenge({factorId:t,webauthn:{rpId:n,rpOrigins:r},signal:s},{request:i});if(!a)return{data:null,error:c};const{webauthn:d}=a;return this._verify({factorId:t,challengeId:a.challengeId,webauthn:{type:d.type,rpId:n,rpOrigins:r,credential_response:d.credential_response}})}catch(a){return Ne(a)?{data:null,error:a}:{data:null,error:new ao("Unexpected error in authenticate",a)}}}async _register({friendlyName:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},i){if(!n)return{data:null,error:new ou("rpId is required for WebAuthn registration")};try{if(!hb())return{data:null,error:new ao("Browser does not support WebAuthn",null)};const{data:a,error:c}=await this._enroll({friendlyName:t});if(!a)return await this.client.mfa.listFactors().then(m=>{var g;return(g=m.data)===null||g===void 0?void 0:g.all.find(y=>y.factor_type==="webauthn"&&y.friendly_name===t&&y.status!=="unverified")}).then(m=>m?this.client.mfa.unenroll({factorId:m==null?void 0:m.id}):void 0),{data:null,error:c};const{data:d,error:h}=await this._challenge({factorId:a.id,friendlyName:a.friendly_name,webauthn:{rpId:n,rpOrigins:r},signal:s},{create:i});return d?this._verify({factorId:a.id,challengeId:d.challengeId,webauthn:{rpId:n,rpOrigins:r,type:d.webauthn.type,credential_response:d.webauthn.credential_response}}):{data:null,error:h}}catch(a){return Ne(a)?{data:null,error:a}:{data:null,error:new ao("Unexpected error in register",a)}}}}rF();const bF={url:y$,storageKey:x$,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:_$,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function fb(e,t,n){return await n()}const la={};class au{get jwks(){var t,n;return(n=(t=la[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(t){la[this.storageKey]=Object.assign(Object.assign({},la[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,n;return(n=(t=la[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){la[this.storageKey]=Object.assign(Object.assign({},la[this.storageKey]),{cachedAt:t})}constructor(t){var n,r,s;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const i=Object.assign(Object.assign({},bF),t);if(this.storageKey=i.storageKey,this.instanceID=(n=au.nextInstanceID[this.storageKey])!==null&&n!==void 0?n:0,au.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.instanceID>0&&Kt()){const a=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(a),this.logDebugMessages&&console.trace(a)}if(this.persistSession=i.persistSession,this.autoRefreshToken=i.autoRefreshToken,this.admin=new eF({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=ZC(i.fetch),this.lock=i.lock||fb,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,this.throwOnError=i.throwOnError,this.lockAcquireTimeout=i.lockAcquireTimeout,i.lock?this.lock=i.lock:this.persistSession&&Kt()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=nF:this.lock=fb,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new wF(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:GC()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=db(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=db(this.memoryStorage)),Kt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a);try{await this._notifyAllSubscribers(a.data.event,a.data.session,!1)}catch(c){this._debug("#broadcastChannel","error",c)}})}this.initialize().catch(a=>{this._debug("#initialize()","error",a)})}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${WC}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let n={},r="none";if(Kt()&&(n=L$(window.location.href),this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce")),Kt()&&this.detectSessionInUrl&&r!=="none"){const{data:s,error:i}=await this._getSessionFromURL(n,r);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),N$(i)){const d=(t=i.details)===null||t===void 0?void 0:t.code;if(d==="identity_already_exists"||d==="identity_not_found"||d==="single_identity_not_deletable")return{error:i}}return{error:i}}const{session:a,redirectType:c}=s;return this._debug("#_initialize()","detected session in URL",a,"redirect type",c),await this._saveSession(a),setTimeout(async()=>{c==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return Ne(n)?this._returnResult({error:n}):this._returnResult({error:new ao("Unexpected error during initialization",n)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,r,s;try{const i=await je(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:Sr}),{data:a,error:c}=i;if(c||!a)return this._returnResult({data:{user:null,session:null},error:c});const d=a.session,h=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",d)),this._returnResult({data:{user:h,session:d},error:null})}catch(i){if(Ne(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signUp(t){var n,r,s;try{let i;if("email"in t){const{email:m,password:g,options:y}=t;let v=null,b=null;this.flowType==="pkce"&&([v,b]=await ia(this.storage,this.storageKey)),i=await je(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:y==null?void 0:y.emailRedirectTo,body:{email:m,password:g,data:(n=y==null?void 0:y.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:y==null?void 0:y.captchaToken},code_challenge:v,code_challenge_method:b},xform:Sr})}else if("phone"in t){const{phone:m,password:g,options:y}=t;i=await je(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:m,password:g,data:(r=y==null?void 0:y.data)!==null&&r!==void 0?r:{},channel:(s=y==null?void 0:y.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:y==null?void 0:y.captchaToken}},xform:Sr})}else throw new jd("You must provide either an email or phone number and a password");const{data:a,error:c}=i;if(c||!a)return await Zt(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:c});const d=a.session,h=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",d)),this._returnResult({data:{user:h,session:d},error:null})}catch(i){if(await Zt(this.storage,`${this.storageKey}-code-verifier`),Ne(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithPassword(t){try{let n;if("email"in t){const{email:i,password:a,options:c}=t;n=await je(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:a,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}},xform:cb})}else if("phone"in t){const{phone:i,password:a,options:c}=t;n=await je(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:a,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}},xform:cb})}else throw new jd("You must provide either an email or phone number and a password");const{data:r,error:s}=n;if(s)return this._returnResult({data:{user:null,session:null},error:s});if(!r||!r.session||!r.user){const i=new sa;return this._returnResult({data:{user:null,session:null},error:i})}return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),this._returnResult({data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:s})}catch(n){if(Ne(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOAuth(t){var n,r,s,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;switch(n){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(t){var n,r,s,i,a,c,d,h,m,g,y;let v,b;if("message"in t)v=t.message,b=t.signature;else{const{chain:x,wallet:S,statement:N,options:w}=t;let k;if(Kt())if(typeof S=="object")k=S;else{const $=window;if("ethereum"in $&&typeof $.ethereum=="object"&&"request"in $.ethereum&&typeof $.ethereum.request=="function")k=$.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof S!="object"||!(w!=null&&w.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");k=S}const P=new URL((n=w==null?void 0:w.url)!==null&&n!==void 0?n:window.location.href),T=await k.request({method:"eth_requestAccounts"}).then($=>$).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!T||T.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const R=YC(T[0]);let E=(r=w==null?void 0:w.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!E){const $=await k.request({method:"eth_chainId"});E=sF($)}const M={domain:P.host,address:R,statement:N,uri:P.href,version:"1",chainId:E,nonce:(s=w==null?void 0:w.signInWithEthereum)===null||s===void 0?void 0:s.nonce,issuedAt:(a=(i=w==null?void 0:w.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&a!==void 0?a:new Date,expirationTime:(c=w==null?void 0:w.signInWithEthereum)===null||c===void 0?void 0:c.expirationTime,notBefore:(d=w==null?void 0:w.signInWithEthereum)===null||d===void 0?void 0:d.notBefore,requestId:(h=w==null?void 0:w.signInWithEthereum)===null||h===void 0?void 0:h.requestId,resources:(m=w==null?void 0:w.signInWithEthereum)===null||m===void 0?void 0:m.resources};v=oF(M),b=await k.request({method:"personal_sign",params:[iF(v),R]})}try{const{data:x,error:S}=await je(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:v,signature:b},!((g=t.options)===null||g===void 0)&&g.captchaToken?{gotrue_meta_security:{captcha_token:(y=t.options)===null||y===void 0?void 0:y.captchaToken}}:null),xform:Sr});if(S)throw S;if(!x||!x.session||!x.user){const N=new sa;return this._returnResult({data:{user:null,session:null},error:N})}return x.session&&(await this._saveSession(x.session),await this._notifyAllSubscribers("SIGNED_IN",x.session)),this._returnResult({data:Object.assign({},x),error:S})}catch(x){if(Ne(x))return this._returnResult({data:{user:null,session:null},error:x});throw x}}async signInWithSolana(t){var n,r,s,i,a,c,d,h,m,g,y,v;let b,x;if("message"in t)b=t.message,x=t.signature;else{const{chain:S,wallet:N,statement:w,options:k}=t;let P;if(Kt())if(typeof N=="object")P=N;else{const R=window;if("solana"in R&&typeof R.solana=="object"&&("signIn"in R.solana&&typeof R.solana.signIn=="function"||"signMessage"in R.solana&&typeof R.solana.signMessage=="function"))P=R.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof N!="object"||!(k!=null&&k.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");P=N}const T=new URL((n=k==null?void 0:k.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in P&&P.signIn){const R=await P.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},k==null?void 0:k.signInWithSolana),{version:"1",domain:T.host,uri:T.href}),w?{statement:w}:null));let E;if(Array.isArray(R)&&R[0]&&typeof R[0]=="object")E=R[0];else if(R&&typeof R=="object"&&"signedMessage"in R&&"signature"in R)E=R;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in E&&"signature"in E&&(typeof E.signedMessage=="string"||E.signedMessage instanceof Uint8Array)&&E.signature instanceof Uint8Array)b=typeof E.signedMessage=="string"?E.signedMessage:new TextDecoder().decode(E.signedMessage),x=E.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in P)||typeof P.signMessage!="function"||!("publicKey"in P)||typeof P!="object"||!P.publicKey||!("toBase58"in P.publicKey)||typeof P.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");b=[`${T.host} wants you to sign in with your Solana account:`,P.publicKey.toBase58(),...w?["",w,""]:[""],"Version: 1",`URI: ${T.href}`,`Issued At: ${(s=(r=k==null?void 0:k.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=k==null?void 0:k.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${k.signInWithSolana.notBefore}`]:[],...!((a=k==null?void 0:k.signInWithSolana)===null||a===void 0)&&a.expirationTime?[`Expiration Time: ${k.signInWithSolana.expirationTime}`]:[],...!((c=k==null?void 0:k.signInWithSolana)===null||c===void 0)&&c.chainId?[`Chain ID: ${k.signInWithSolana.chainId}`]:[],...!((d=k==null?void 0:k.signInWithSolana)===null||d===void 0)&&d.nonce?[`Nonce: ${k.signInWithSolana.nonce}`]:[],...!((h=k==null?void 0:k.signInWithSolana)===null||h===void 0)&&h.requestId?[`Request ID: ${k.signInWithSolana.requestId}`]:[],...!((g=(m=k==null?void 0:k.signInWithSolana)===null||m===void 0?void 0:m.resources)===null||g===void 0)&&g.length?["Resources",...k.signInWithSolana.resources.map(E=>`- ${E}`)]:[]].join(`
`);const R=await P.signMessage(new TextEncoder().encode(b),"utf8");if(!R||!(R instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");x=R}}try{const{data:S,error:N}=await je(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:b,signature:ho(x)},!((y=t.options)===null||y===void 0)&&y.captchaToken?{gotrue_meta_security:{captcha_token:(v=t.options)===null||v===void 0?void 0:v.captchaToken}}:null),xform:Sr});if(N)throw N;if(!S||!S.session||!S.user){const w=new sa;return this._returnResult({data:{user:null,session:null},error:w})}return S.session&&(await this._saveSession(S.session),await this._notifyAllSubscribers("SIGNED_IN",S.session)),this._returnResult({data:Object.assign({},S),error:N})}catch(S){if(Ne(S))return this._returnResult({data:{user:null,session:null},error:S});throw S}}async _exchangeCodeForSession(t){const n=await Yi(this.storage,`${this.storageKey}-code-verifier`),[r,s]=(n??"").split("/");try{if(!r&&this.flowType==="pkce")throw new C$;const{data:i,error:a}=await je(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:Sr});if(await Zt(this.storage,`${this.storageKey}-code-verifier`),a)throw a;if(!i||!i.session||!i.user){const c=new sa;return this._returnResult({data:{user:null,session:null,redirectType:null},error:c})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:a})}catch(i){if(await Zt(this.storage,`${this.storageKey}-code-verifier`),Ne(i))return this._returnResult({data:{user:null,session:null,redirectType:null},error:i});throw i}}async signInWithIdToken(t){try{const{options:n,provider:r,token:s,access_token:i,nonce:a}=t,c=await je(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:s,access_token:i,nonce:a,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:Sr}),{data:d,error:h}=c;if(h)return this._returnResult({data:{user:null,session:null},error:h});if(!d||!d.session||!d.user){const m=new sa;return this._returnResult({data:{user:null,session:null},error:m})}return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",d.session)),this._returnResult({data:d,error:h})}catch(n){if(Ne(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOtp(t){var n,r,s,i,a;try{if("email"in t){const{email:c,options:d}=t;let h=null,m=null;this.flowType==="pkce"&&([h,m]=await ia(this.storage,this.storageKey));const{error:g}=await je(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:c,data:(n=d==null?void 0:d.data)!==null&&n!==void 0?n:{},create_user:(r=d==null?void 0:d.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken},code_challenge:h,code_challenge_method:m},redirectTo:d==null?void 0:d.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:g})}if("phone"in t){const{phone:c,options:d}=t,{data:h,error:m}=await je(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:c,data:(s=d==null?void 0:d.data)!==null&&s!==void 0?s:{},create_user:(i=d==null?void 0:d.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken},channel:(a=d==null?void 0:d.channel)!==null&&a!==void 0?a:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:h==null?void 0:h.message_id},error:m})}throw new jd("You must provide either an email or phone number.")}catch(c){if(await Zt(this.storage,`${this.storageKey}-code-verifier`),Ne(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}}async verifyOtp(t){var n,r;try{let s,i;"options"in t&&(s=(n=t.options)===null||n===void 0?void 0:n.redirectTo,i=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:a,error:c}=await je(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:Sr});if(c)throw c;if(!a)throw new Error("An error occurred on token verification.");const d=a.session,h=a.user;return d!=null&&d.access_token&&(await this._saveSession(d),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",d)),this._returnResult({data:{user:h,session:d},error:null})}catch(s){if(Ne(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithSSO(t){var n,r,s,i,a;try{let c=null,d=null;this.flowType==="pkce"&&([c,d]=await ia(this.storage,this.storageKey));const h=await je(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:c,code_challenge_method:d}),headers:this.headers,xform:X$});return!((i=h.data)===null||i===void 0)&&i.url&&Kt()&&!(!((a=t.options)===null||a===void 0)&&a.skipBrowserRedirect)&&window.location.assign(h.data.url),this._returnResult(h)}catch(c){if(await Zt(this.storage,`${this.storageKey}-code-verifier`),Ne(c))return this._returnResult({data:null,error:c});throw c}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;if(r)throw r;if(!n)throw new Un;const{error:s}=await je(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return this._returnResult({data:{user:null,session:null},error:s})})}catch(t){if(Ne(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:r,type:s,options:i}=t,{error:a}=await je(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:a})}else if("phone"in t){const{phone:r,type:s,options:i}=t,{data:a,error:c}=await je(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:a==null?void 0:a.message_id},error:c})}throw new jd("You must provide either an email or phone number and a type")}catch(n){if(Ne(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await Yi(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at*1e3-Date.now()<Cp:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.userStorage){const a=await Yi(this.userStorage,this.storageKey+"-user");a!=null&&a.user?t.user=a.user:t.user=Tp()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const a={value:this.suppressGetSessionWarning};t.user=G$(t.user,a),a.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?this._returnResult({data:{session:null},error:i}):this._returnResult({data:{session:s},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const n=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return n.data.user&&(this.suppressGetSessionWarning=!0),n}async _getUser(t){try{return t?await je(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:li}):await this._useSession(async n=>{var r,s,i;const{data:a,error:c}=n;if(c)throw c;return!(!((r=a.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Un}:await je(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=a.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:li})})}catch(n){if(Ne(n))return Pp(n)&&(await this._removeSession(),await Zt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:n});throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async r=>{const{data:s,error:i}=r;if(i)throw i;if(!s.session)throw new Un;const a=s.session;let c=null,d=null;this.flowType==="pkce"&&t.email!=null&&([c,d]=await ia(this.storage,this.storageKey));const{data:h,error:m}=await je(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:c,code_challenge_method:d}),jwt:a.access_token,xform:li});if(m)throw m;return a.user=h.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),this._returnResult({data:{user:a.user},error:null})})}catch(r){if(await Zt(this.storage,`${this.storageKey}-code-verifier`),Ne(r))return this._returnResult({data:{user:null},error:r});throw r}}async setSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Un;const n=Date.now()/1e3;let r=n,s=!0,i=null;const{payload:a}=Ed(t.access_token);if(a.exp&&(r=a.exp,s=r<=n),s){const{data:c,error:d}=await this._callRefreshToken(t.refresh_token);if(d)return this._returnResult({data:{user:null,session:null},error:d});if(!c)return{data:{user:null,session:null},error:null};i=c}else{const{data:c,error:d}=await this._getUser(t.access_token);if(d)return this._returnResult({data:{user:null,session:null},error:d});i={access_token:t.access_token,refresh_token:t.refresh_token,user:c.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return this._returnResult({data:{user:i.user,session:i},error:null})}catch(n){if(Ne(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var r;if(!t){const{data:a,error:c}=n;if(c)throw c;t=(r=a.session)!==null&&r!==void 0?r:void 0}if(!(t!=null&&t.refresh_token))throw new Un;const{data:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?this._returnResult({data:{user:null,session:null},error:i}):s?this._returnResult({data:{user:s.user,session:s},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(n){if(Ne(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async _getSessionFromURL(t,n){try{if(!Kt())throw new Td("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Td(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new nb("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Td("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new nb("No code detected.");const{data:w,error:k}=await this._exchangeCodeForSession(t.code);if(k)throw k;const P=new URL(window.location.href);return P.searchParams.delete("code"),window.history.replaceState(window.history.state,"",P.toString()),{data:{session:w.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:s,access_token:i,refresh_token:a,expires_in:c,expires_at:d,token_type:h}=t;if(!i||!c||!a||!h)throw new Td("No session defined in URL");const m=Math.round(Date.now()/1e3),g=parseInt(c);let y=m+g;d&&(y=parseInt(d));const v=y-m;v*1e3<=va&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${v}s, should have been closer to ${g}s`);const b=y-g;m-b>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",b,y,m):m-b<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",b,y,m);const{data:x,error:S}=await this._getUser(i);if(S)throw S;const N={provider_token:r,provider_refresh_token:s,access_token:i,expires_in:g,expires_at:y,refresh_token:a,token_type:h,user:x.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:N,redirectType:t.type},error:null})}catch(r){if(Ne(r))return this._returnResult({data:{session:null,redirectType:null},error:r});throw r}}_isImplicitGrantCallback(t){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),t):!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await Yi(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i&&!Pp(i))return this._returnResult({error:i});const a=(r=s.session)===null||r===void 0?void 0:r.access_token;if(a){const{error:c}=await this.admin.signOut(a,t);if(c&&!(k$(c)&&(c.status===404||c.status===401||c.status===403)||Pp(c)))return this._returnResult({error:c})}return t!=="others"&&(await this._removeSession(),await Zt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const n=O$(),r={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async n=>{var r,s;try{const{data:{session:i},error:a}=n;if(a)throw a;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,n={}){let r=null,s=null;this.flowType==="pkce"&&([r,s]=await ia(this.storage,this.storageKey,!0));try{return await je(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:s,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(i){if(await Zt(this.storage,`${this.storageKey}-code-verifier`),Ne(i))return this._returnResult({data:null,error:i});throw i}}async getUserIdentities(){var t;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return this._returnResult({data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(n){if(Ne(n))return this._returnResult({data:null,error:n});throw n}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var n;try{const{data:r,error:s}=await this._useSession(async i=>{var a,c,d,h,m;const{data:g,error:y}=i;if(y)throw y;const v=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(a=t.options)===null||a===void 0?void 0:a.redirectTo,scopes:(c=t.options)===null||c===void 0?void 0:c.scopes,queryParams:(d=t.options)===null||d===void 0?void 0:d.queryParams,skipBrowserRedirect:!0});return await je(this.fetch,"GET",v,{headers:this.headers,jwt:(m=(h=g.session)===null||h===void 0?void 0:h.access_token)!==null&&m!==void 0?m:void 0})});if(s)throw s;return Kt()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),this._returnResult({data:{provider:t.provider,url:r==null?void 0:r.url},error:null})}catch(r){if(Ne(r))return this._returnResult({data:{provider:t.provider,url:null},error:r});throw r}}async linkIdentityIdToken(t){return await this._useSession(async n=>{var r;try{const{error:s,data:{session:i}}=n;if(s)throw s;const{options:a,provider:c,token:d,access_token:h,nonce:m}=t,g=await je(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=i==null?void 0:i.access_token)!==null&&r!==void 0?r:void 0,body:{provider:c,id_token:d,access_token:h,nonce:m,link_identity:!0,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Sr}),{data:y,error:v}=g;return v?this._returnResult({data:{user:null,session:null},error:v}):!y||!y.session||!y.user?this._returnResult({data:{user:null,session:null},error:new sa}):(y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("USER_UPDATED",y.session)),this._returnResult({data:y,error:v}))}catch(s){if(await Zt(this.storage,`${this.storageKey}-code-verifier`),Ne(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}})}async unlinkIdentity(t){try{return await this._useSession(async n=>{var r,s;const{data:i,error:a}=n;if(a)throw a;return await je(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:void 0})})}catch(n){if(Ne(n))return this._returnResult({data:null,error:n});throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await D$(async s=>(s>0&&await I$(200*Math.pow(2,s-1)),this._debug(n,"refreshing attempt",s),await je(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Sr})),(s,i)=>{const a=200*Math.pow(2,s);return i&&jp(i)&&Date.now()+a-r<va})}catch(r){if(this._debug(n,"error",r),Ne(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",r),Kt()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const s=await Yi(this.storage,this.storageKey);if(s&&this.userStorage){let a=await Yi(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!a&&(a={user:s.user},await ya(this.userStorage,this.storageKey+"-user",a)),s.user=(t=a==null?void 0:a.user)!==null&&t!==void 0?t:Tp()}else if(s&&!s.user&&!s.user){const a=await Yi(this.storage,this.storageKey+"-user");a&&(a!=null&&a.user)?(s.user=a.user,await Zt(this.storage,this.storageKey+"-user"),await ya(this.storage,this.storageKey,s)):s.user=Tp()}if(this._debug(r,"session from storage",s),!this._isValidSession(s)){this._debug(r,"session is not valid"),s!==null&&await this._removeSession();return}const i=((n=s.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<Cp;if(this._debug(r,`session has${i?"":" not"} expired with margin of ${Cp}s`),i){if(this.autoRefreshToken&&s.refresh_token){const{error:a}=await this._callRefreshToken(s.refresh_token);a&&(console.error(a),jp(a)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:a,error:c}=await this._getUser(s.access_token);!c&&(a!=null&&a.user)?(s.user=a.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(a){console.error("Error getting user data:",a),this._debug(r,"error getting user data, skipping SIGNED_IN notification",a)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(r,"error",s),console.error(s);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var n,r;if(!t)throw new Un;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Hf;const{data:i,error:a}=await this._refreshAccessToken(t);if(a)throw a;if(!i.session)throw new Un;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const c={data:i.session,error:null};return this.refreshingDeferred.resolve(c),c}catch(i){if(this._debug(s,"error",i),Ne(i)){const a={data:null,error:i};return jp(i)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(a),a}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,n,r=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n});const i=[],a=Array.from(this.stateChangeEmitters.values()).map(async c=>{try{await c.callback(t,n)}catch(d){i.push(d)}});if(await Promise.all(a),i.length>0){for(let c=0;c<i.length;c+=1)console.error(i[c]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await Zt(this.storage,`${this.storageKey}-code-verifier`);const n=Object.assign({},t),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await ya(this.userStorage,this.storageKey+"-user",{user:n.user});const s=Object.assign({},n);delete s.user;const i=ab(s);await ya(this.storage,this.storageKey,i)}else{const s=ab(n);await ya(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await Zt(this.storage,this.storageKey),await Zt(this.storage,this.storageKey+"-code-verifier"),await Zt(this.storage,this.storageKey+"-user"),this.userStorage&&await Zt(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Kt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),va);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t);const n=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=n,n&&typeof n=="object"&&typeof n.unref=="function"?n.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(n)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t);const n=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,n&&clearTimeout(n)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((r.expires_at*1e3-t)/va);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${va}ms, refresh threshold is ${av} ticks`),s<=av&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof KC)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Kt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>{try{await this._onVisibilityChanged(!1)}catch(t){this._debug("#visibilityChangedCallback","error",t)}},window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,r){const s=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&s.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&s.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[i,a]=await ia(this.storage,this.storageKey),c=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(a)}`});s.push(c.toString())}if(r!=null&&r.queryParams){const i=new URLSearchParams(r.queryParams);s.push(i.toString())}return r!=null&&r.skipBrowserRedirect&&s.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?this._returnResult({data:null,error:i}):await je(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(Ne(n))return this._returnResult({data:null,error:n});throw n}}async _enroll(t){try{return await this._useSession(async n=>{var r,s;const{data:i,error:a}=n;if(a)return this._returnResult({data:null,error:a});const c=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:d,error:h}=await je(this.fetch,"POST",`${this.url}/factors`,{body:c,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return h?this._returnResult({data:null,error:h}):(t.factorType==="totp"&&d.type==="totp"&&(!((s=d==null?void 0:d.totp)===null||s===void 0)&&s.qr_code)&&(d.totp.qr_code=`data:image/svg+xml;utf-8,${d.totp.qr_code}`),this._returnResult({data:d,error:null}))})}catch(n){if(Ne(n))return this._returnResult({data:null,error:n});throw n}}async _verify(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return this._returnResult({data:null,error:i});const a=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?fF(t.webauthn.credential_response):mF(t.webauthn.credential_response)})}:{code:t.code}),{data:c,error:d}=await je(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:a,headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return d?this._returnResult({data:null,error:d}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+c.expires_in},c)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",c),this._returnResult({data:c,error:d}))})}catch(n){if(Ne(n))return this._returnResult({data:null,error:n});throw n}})}async _challenge(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return this._returnResult({data:null,error:i});const a=await je(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});if(a.error)return a;const{data:c}=a;if(c.type!=="webauthn")return{data:c,error:null};switch(c.webauthn.type){case"create":return{data:Object.assign(Object.assign({},c),{webauthn:Object.assign(Object.assign({},c.webauthn),{credential_options:Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:dF(c.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},c),{webauthn:Object.assign(Object.assign({},c.webauthn),{credential_options:Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:hF(c.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(Ne(n))return this._returnResult({data:null,error:n});throw n}})}async _challengeAndVerify(t){const{data:n,error:r}=await this._challenge({factorId:t.factorId});return r?this._returnResult({data:null,error:r}):await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){var t;const{data:{user:n},error:r}=await this.getUser();if(r)return{data:null,error:r};const s={all:[],phone:[],totp:[],webauthn:[]};for(const i of(t=n==null?void 0:n.factors)!==null&&t!==void 0?t:[])s.all.push(i),i.status==="verified"&&s[i.factor_type].push(i);return{data:s,error:null}}async _getAuthenticatorAssuranceLevel(t){var n,r,s,i;if(t)try{const{payload:v}=Ed(t);let b=null;v.aal&&(b=v.aal);let x=b;const{data:{user:S},error:N}=await this.getUser(t);if(N)return this._returnResult({data:null,error:N});((r=(n=S==null?void 0:S.factors)===null||n===void 0?void 0:n.filter(P=>P.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(x="aal2");const k=v.amr||[];return{data:{currentLevel:b,nextLevel:x,currentAuthenticationMethods:k},error:null}}catch(v){if(Ne(v))return this._returnResult({data:null,error:v});throw v}const{data:{session:a},error:c}=await this.getSession();if(c)return this._returnResult({data:null,error:c});if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:d}=Ed(a.access_token);let h=null;d.aal&&(h=d.aal);let m=h;((i=(s=a.user.factors)===null||s===void 0?void 0:s.filter(v=>v.status==="verified"))!==null&&i!==void 0?i:[]).length>0&&(m="aal2");const y=d.amr||[];return{data:{currentLevel:h,nextLevel:m,currentAuthenticationMethods:y},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async n=>{const{data:{session:r},error:s}=n;return s?this._returnResult({data:null,error:s}):r?await je(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:r.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new Un})})}catch(n){if(Ne(n))return this._returnResult({data:null,error:n});throw n}}async _approveAuthorization(t,n){try{return await this._useSession(async r=>{const{data:{session:s},error:i}=r;if(i)return this._returnResult({data:null,error:i});if(!s)return this._returnResult({data:null,error:new Un});const a=await je(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"approve"},xform:c=>({data:c,error:null})});return a.data&&a.data.redirect_url&&Kt()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(a.data.redirect_url),a})}catch(r){if(Ne(r))return this._returnResult({data:null,error:r});throw r}}async _denyAuthorization(t,n){try{return await this._useSession(async r=>{const{data:{session:s},error:i}=r;if(i)return this._returnResult({data:null,error:i});if(!s)return this._returnResult({data:null,error:new Un});const a=await je(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"deny"},xform:c=>({data:c,error:null})});return a.data&&a.data.redirect_url&&Kt()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(a.data.redirect_url),a})}catch(r){if(Ne(r))return this._returnResult({data:null,error:r});throw r}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;return r?this._returnResult({data:null,error:r}):n?await je(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new Un})})}catch(t){if(Ne(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async n=>{const{data:{session:r},error:s}=n;return s?this._returnResult({data:null,error:s}):r?(await je(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Un})})}catch(n){if(Ne(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(t,n={keys:[]}){let r=n.keys.find(c=>c.kid===t);if(r)return r;const s=Date.now();if(r=this.jwks.keys.find(c=>c.kid===t),r&&this.jwks_cached_at+b$>s)return r;const{data:i,error:a}=await je(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=s,r=i.keys.find(c=>c.kid===t),!r)?null:r}async getClaims(t,n={}){try{let r=t;if(!r){const{data:v,error:b}=await this.getSession();if(b||!v.session)return this._returnResult({data:null,error:b});r=v.session.access_token}const{header:s,payload:i,signature:a,raw:{header:c,payload:d}}=Ed(r);n!=null&&n.allowExpired||W$(i.exp);const h=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!h){const{error:v}=await this.getUser(r);if(v)throw v;return{data:{claims:i,header:s,signature:a},error:null}}const m=q$(s.alg),g=await crypto.subtle.importKey("jwk",h,m,!0,["verify"]);if(!await crypto.subtle.verify(m,g,a,R$(`${c}.${d}`)))throw new uv("Invalid JWT signature");return{data:{claims:i,header:s,signature:a},error:null}}catch(r){if(Ne(r))return this._returnResult({data:null,error:r});throw r}}}au.nextInstanceID={};const SF=au,kF="2.93.1";let hc="";typeof Deno<"u"?hc="deno":typeof document<"u"?hc="web":typeof navigator<"u"&&navigator.product==="ReactNative"?hc="react-native":hc="node";function NF(){const e=globalThis.process;if(e&&e.platform){const t=e.platform;if(t==="darwin")return"macOS";if(t==="win32")return"Windows";if(t==="linux")return"Linux";if(t==="android")return"Android"}if(typeof navigator<"u"&&navigator.userAgentData&&navigator.userAgentData.platform){const t=navigator.userAgentData.platform;if(t==="macOS")return"macOS";if(t==="Windows")return"Windows";if(t==="Linux")return"Linux";if(t==="Android")return"Android";if(t==="iOS")return"iOS"}return null}function CF(){const e=globalThis.process;if(e){const t=e.versions;if(t&&t.node&&typeof window>"u")try{const n=globalThis.require;if(n)return n("os").release()}catch{return null}}if(typeof Deno<"u"&&Deno.osRelease)try{return Deno.osRelease()}catch{return null}return typeof navigator<"u"&&navigator.userAgentData&&navigator.userAgentData.platformVersion?navigator.userAgentData.platformVersion:null}function PF(){if(typeof Deno<"u")return"deno";if(typeof Bun<"u")return"bun";const e=globalThis.process;if(e){const t=e.versions;if(t&&t.node)return"node"}return null}function jF(){if(typeof Deno<"u"&&Deno.version)return Deno.version.deno;if(typeof Bun<"u"&&Bun.version)return Bun.version;const e=globalThis.process;if(e){const t=e.versions;if(t&&t.node)return t.node}return null}function TF(){const e={"X-Client-Info":`supabase-js-${hc}/${kF}`},t=NF();t&&(e["X-Supabase-Client-Platform"]=t);const n=CF();n&&(e["X-Supabase-Client-Platform-Version"]=n);const r=PF();r&&(e["X-Supabase-Client-Runtime"]=r);const s=jF();return s&&(e["X-Supabase-Client-Runtime-Version"]=s),e}const EF=TF(),RF={headers:EF},AF={schema:"public"},OF={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},LF={};function lu(e){"@babel/helpers - typeof";return lu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lu(e)}function MF(e,t){if(lu(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(lu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function IF(e){var t=MF(e,"string");return lu(t)=="symbol"?t:t+""}function DF(e,t,n){return(t=IF(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function mb(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function wt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?mb(Object(n),!0).forEach(function(r){DF(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mb(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}const $F=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),FF=()=>Headers,zF=(e,t,n)=>{const r=$F(n),s=FF();return async(i,a)=>{var c;const d=(c=await t())!==null&&c!==void 0?c:e;let h=new s(a==null?void 0:a.headers);return h.has("apikey")||h.set("apikey",e),h.has("Authorization")||h.set("Authorization",`Bearer ${d}`),r(i,wt(wt({},a),{},{headers:h}))}};function BF(e){return e.endsWith("/")?e:e+"/"}function UF(e,t){var n,r;const{db:s,auth:i,realtime:a,global:c}=e,{db:d,auth:h,realtime:m,global:g}=t,y={db:wt(wt({},d),s),auth:wt(wt({},h),i),realtime:wt(wt({},m),a),storage:{},global:wt(wt(wt({},g),c),{},{headers:wt(wt({},(n=g==null?void 0:g.headers)!==null&&n!==void 0?n:{}),(r=c==null?void 0:c.headers)!==null&&r!==void 0?r:{})}),accessToken:async()=>""};return e.accessToken?y.accessToken=e.accessToken:delete y.accessToken,y}function VF(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(BF(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var WF=class extends SF{constructor(e){super(e)}},qF=class{constructor(e,t,n){var r,s;this.supabaseUrl=e,this.supabaseKey=t;const i=VF(e);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",i),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",i),this.storageUrl=new URL("storage/v1",i),this.functionsUrl=new URL("functions/v1",i);const a=`sb-${i.hostname.split(".")[0]}-auth-token`,c={db:AF,realtime:LF,auth:wt(wt({},OF),{},{storageKey:a}),global:RF},d=UF(n??{},c);if(this.storageKey=(r=d.auth.storageKey)!==null&&r!==void 0?r:"",this.headers=(s=d.global.headers)!==null&&s!==void 0?s:{},d.accessToken)this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(m,g)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(g)} is not possible`)}});else{var h;this.auth=this._initSupabaseAuthClient((h=d.auth)!==null&&h!==void 0?h:{},this.headers,d.global.fetch)}this.fetch=zF(t,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(wt({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(m=>this.realtime.setAuth(m)).catch(m=>console.warn("Failed to set initial Realtime auth token:",m)),this.rest=new S3(new URL("rest/v1",i).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),this.storage=new v$(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),d.accessToken||this._listenForAuthEvents()}get functions(){return new y3(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,t,n)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e=this,t,n;if(e.accessToken)return await e.accessToken();const{data:r}=await e.auth.getSession();return(t=(n=r.session)===null||n===void 0?void 0:n.access_token)!==null&&t!==void 0?t:e.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:n,storage:r,userStorage:s,storageKey:i,flowType:a,lock:c,debug:d,throwOnError:h},m,g){const y={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new WF({url:this.authUrl.href,headers:wt(wt({},y),m),storageKey:i,autoRefreshToken:e,persistSession:t,detectSessionInUrl:n,storage:r,userStorage:s,flowType:a,lock:c,debug:d,throwOnError:h,fetch:g,hasCustomAuthorizationHeader:Object.keys(this.headers).some(v=>v.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new z3(this.realtimeUrl.href,wt(wt({},e),{},{params:wt(wt({},{apikey:this.supabaseKey}),e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,"CLIENT",t==null?void 0:t.access_token)})}_handleTokenChanged(e,t,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const HF=(e,t,n)=>new qF(e,t,n);function GF(){if(typeof window<"u")return!1;const e=globalThis.process;if(!e)return!1;const t=e.version;if(t==null)return!1;const n=t.match(/^v(\d+)\./);return n?parseInt(n[1],10)<=18:!1}GF()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const ZF="https://piafxufmgnikjmngdxft.supabase.co",KF="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InBpYWZ4dWZtZ25pa2ptbmdkeGZ0Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3Njk1Mjk2OTYsImV4cCI6MjA4NTEwNTY5Nn0.GezC6dDts5HVqanIFNQFQrgWrn9njOnMcI-JjgJ8Xf0",ve=HF(ZF,KF,{auth:{storage:localStorage,persistSession:!0,autoRefreshToken:!0}});function YF(){const[e,t]=p.useState({user:null,session:null,profile:null,roles:[],isLoading:!0,error:null}),n=p.useCallback(async v=>{const{data:b,error:x}=await ve.from("profiles").select("*").eq("user_id",v).maybeSingle();return x?(console.error("Error fetching profile:",x),null):b},[]),r=p.useCallback(async v=>{const{data:b,error:x}=await ve.from("user_roles").select("*").eq("user_id",v);return x?(console.error("Error fetching roles:",x),[]):b},[]);p.useEffect(()=>{const{data:{subscription:v}}=ve.auth.onAuthStateChange((b,x)=>{t(S=>({...S,session:x,user:(x==null?void 0:x.user)??null,isLoading:!1})),x!=null&&x.user?setTimeout(async()=>{const[S,N]=await Promise.all([n(x.user.id),r(x.user.id)]);t(w=>({...w,profile:S,roles:N}))},0):t(S=>({...S,profile:null,roles:[]}))});return ve.auth.getSession().then(({data:{session:b}})=>{t(x=>({...x,session:b,user:(b==null?void 0:b.user)??null,isLoading:!1})),b!=null&&b.user&&Promise.all([n(b.user.id),r(b.user.id)]).then(([x,S])=>{t(N=>({...N,profile:x,roles:S}))})}),()=>v.unsubscribe()},[n,r]);const s=async(v,b,x)=>{t(k=>({...k,isLoading:!0,error:null}));const S=`${window.location.origin}/`,{data:N,error:w}=await ve.auth.signUp({email:v,password:b,options:{emailRedirectTo:S,data:{full_name:x||""}}});return w?(t(k=>({...k,isLoading:!1,error:w.message})),{error:w}):(t(k=>({...k,isLoading:!1})),{data:N,error:null})},i=async(v,b)=>{t(N=>({...N,isLoading:!0,error:null}));const{data:x,error:S}=await ve.auth.signInWithPassword({email:v,password:b});return S?(t(N=>({...N,isLoading:!1,error:S.message})),{error:S}):(x.session&&await c(x.session),t(N=>({...N,isLoading:!1})),{data:x,error:null})},a=async()=>{t(S=>({...S,isLoading:!0,error:null}));const v=`${window.location.origin}/`,{data:b,error:x}=await ve.auth.signInWithOAuth({provider:"google",options:{redirectTo:v}});return x?(t(S=>({...S,isLoading:!1,error:x.message})),{error:x}):{data:b,error:null}},c=async v=>{try{const b=`${navigator.userAgent}`;await ve.from("user_sessions").insert({user_id:v.user.id,session_token:v.access_token.substring(0,50),device_info:b,ip_address:null})}catch(b){console.error("Error tracking session:",b)}};return{...e,signUp:s,signIn:i,signInWithGoogle:a,signOut:async()=>{t(b=>({...b,isLoading:!0,error:null}));const{error:v}=await ve.auth.signOut();return v?(t(b=>({...b,isLoading:!1,error:v.message})),{error:v}):(t(b=>({...b,user:null,session:null,profile:null,roles:[],isLoading:!1})),{error:null})},signOutAllDevices:async()=>{if(!e.user)return{error:new Error("Not authenticated")};t(v=>({...v,isLoading:!0,error:null}));try{const{error:v}=await ve.rpc("invalidate_all_sessions",{_user_id:e.user.id});if(v)throw v;const{error:b}=await ve.auth.signOut({scope:"global"});if(b)throw b;return t(x=>({...x,user:null,session:null,profile:null,roles:[],isLoading:!1})),{error:null}}catch(v){const b=v instanceof Error?v.message:"Failed to sign out from all devices";return t(x=>({...x,isLoading:!1,error:b})),{error:v}}},getActiveSessions:async()=>{if(!e.user)return[];const{data:v,error:b}=await ve.from("user_sessions").select("*").eq("user_id",e.user.id).eq("is_active",!0).order("last_active_at",{ascending:!1});return b?(console.error("Error fetching sessions:",b),[]):v},updateProfile:async v=>{if(!e.user)return{error:new Error("Not authenticated")};const{data:b,error:x}=await ve.from("profiles").update(v).eq("user_id",e.user.id).select().single();return x?{error:x}:(t(S=>({...S,profile:b})),{data:b,error:null})},hasRole:v=>e.roles.some(b=>b.role===v),isAuthenticated:!!e.user}}const QC=p.createContext(void 0);function XF({children:e}){const t=YF();return l.jsx(QC.Provider,{value:t,children:e})}function qt(){const e=p.useContext(QC);if(e===void 0)throw new Error("useAuthContext must be used within an AuthProvider");return e}const ca={latitude:43.238949,longitude:76.945465,cityName:""};function QF(){const{user:e,isAuthenticated:t}=qt(),[n,r]=p.useState({location:null,environmentData:null,isLoading:!0,isLocating:!1,error:null,permissionStatus:"prompt"}),s=p.useCallback(async()=>{if(!navigator.geolocation)return r(y=>({...y,permissionStatus:"unavailable"})),"unavailable";if(navigator.permissions)try{const y=await navigator.permissions.query({name:"geolocation"});return r(v=>({...v,permissionStatus:y.state})),y.state}catch{return"prompt"}return"prompt"},[]),i=p.useCallback(()=>new Promise((y,v)=>{navigator.geolocation.getCurrentPosition(y,v,{enableHighAccuracy:!0,timeout:1e4,maximumAge:3e5})}),[]),a=p.useCallback(async(y,v)=>{var b,x,S,N;try{const k=await(await fetch(`https://nominatim.openstreetmap.org/reverse?lat=${y}&lon=${v}&format=json&accept-language=ru`)).json();return((b=k.address)==null?void 0:b.city)||((x=k.address)==null?void 0:x.town)||((S=k.address)==null?void 0:S.village)||((N=k.address)==null?void 0:N.state)}catch(w){console.error("Reverse geocoding error:",w);return}},[]),c=p.useCallback(async()=>{if(!e)return null;const{data:y,error:v}=await ve.from("user_environment_data").select("*").eq("user_id",e.id).maybeSingle();return v?(console.error("Error fetching environment data:",v),null):y},[e]),d=p.useCallback(async(y,v,b)=>{if(e){r(x=>({...x,isLoading:!0}));try{const{data:x,error:S}=await ve.functions.invoke("user-environment",{body:{action:"updateLocation",latitude:y,longitude:v,cityName:b}});if(S)throw S;const N=await c();return r(w=>({...w,location:{latitude:y,longitude:v,cityName:b},environmentData:N,isLoading:!1,error:null})),x}catch(x){console.error("Error updating location:",x),r(S=>({...S,isLoading:!1,error:x instanceof Error?x.message:"Failed to update location"}))}}},[e,c]),h=p.useCallback(async()=>{if(!navigator.geolocation){r(y=>({...y,error:"    ",permissionStatus:"unavailable"}));return}r(y=>({...y,isLocating:!0,error:null}));try{const y=await i(),{latitude:v,longitude:b,accuracy:x}=y.coords;r(w=>({...w,permissionStatus:"granted"}));const S=await a(v,b),N={latitude:v,longitude:b,cityName:S,accuracy:x};return r(w=>({...w,location:N,isLocating:!1})),e&&await d(v,b,S),N}catch(y){let v="   ";if(y instanceof GeolocationPositionError)switch(y.code){case y.PERMISSION_DENIED:v="   ",r(b=>({...b,permissionStatus:"denied"}));break;case y.POSITION_UNAVAILABLE:v="   ";break;case y.TIMEOUT:v="    ";break}r(b=>({...b,isLocating:!1,error:v})),e&&await d(ca.latitude,ca.longitude,ca.cityName)}},[e,i,a,d]),m=p.useCallback(async(y,v,b)=>{var x,S,N,w,k,P,T;try{const[R,E]=await Promise.all([fetch(`https://api.open-meteo.com/v1/forecast?latitude=${y}&longitude=${v}&current=temperature_2m,relative_humidity_2m,wind_speed_10m,weather_code,surface_pressure,uv_index&timezone=auto`),fetch(`https://api.waqi.info/feed/geo:${y};${v}/?token=demo`)]),M=await R.json(),$=await E.json(),V=B=>B<=50?"":B<=100?"":B<=150?"  ":B<=200?"":B<=300?" ":"",Q=B=>B===0?"":B<=3?"":B<=48?"":B<=65?"":B<=77?"":B<=82?"":"",W=($==null?void 0:$.status)==="ok"?(x=$.data)==null?void 0:x.aqi:null,Z={id:"local",user_id:"anonymous",latitude:y,longitude:v,city_name:b||null,current_aqi:W??null,aqi_category:W?V(W):null,temperature:((S=M==null?void 0:M.current)==null?void 0:S.temperature_2m)??null,humidity:((N=M==null?void 0:M.current)==null?void 0:N.relative_humidity_2m)??null,wind_speed:((w=M==null?void 0:M.current)==null?void 0:w.wind_speed_10m)??null,weather_description:null,weather_icon:((k=M==null?void 0:M.current)==null?void 0:k.weather_code)!=null?Q(M.current.weather_code):null,uv_index:((P=M==null?void 0:M.current)==null?void 0:P.uv_index)??null,pressure:(T=M==null?void 0:M.current)!=null&&T.surface_pressure?Math.round(M.current.surface_pressure):null,visibility:null,updated_at:new Date().toISOString()};r(B=>({...B,environmentData:Z,location:{latitude:y,longitude:v,cityName:b},isLoading:!1}))}catch(R){console.error("Error fetching public weather data:",R),r(E=>({...E,isLoading:!1}))}},[]);p.useEffect(()=>{(async()=>{if(await s(),t&&e){const v=await c();if(v){r(N=>({...N,location:{latitude:v.latitude,longitude:v.longitude,cityName:v.city_name||void 0},environmentData:v,isLoading:!1}));const b=new Date(v.updated_at);(new Date().getTime()-b.getTime())/(1e3*60)>30&&await h()}else await h()}else{const v=ca;r(b=>({...b,isLoading:!0}));try{const b=await new Promise((S,N)=>{var w;(w=navigator.geolocation)==null||w.getCurrentPosition(S,N,{timeout:5e3,maximumAge:3e5})}),x=await a(b.coords.latitude,b.coords.longitude);await m(b.coords.latitude,b.coords.longitude,x)}catch{await m(v.latitude,v.longitude,v.cityName)}}})()},[t,e,s,c,h,a,m]);const g=n.location||ca;return{...n,effectiveLocation:g,requestLocation:h,updateLocation:d,refreshEnvironmentData:c,defaultLocation:ca}}const JC=p.createContext(void 0);function JF({children:e}){const t=QF();return l.jsx(JC.Provider,{value:t,children:e})}function Fo(){const e=p.useContext(JC);if(e===void 0)throw new Error("useGeolocationContext must be used within a GeolocationProvider");return e}const ez=p.createContext(null);function tz({children:e}){const{user:t,isAuthenticated:n}=qt(),r=zi(),[s,i]=p.useState([]),a=p.useRef(new Set);p.useEffect(()=>{if(!n||!t)return;(async()=>{const y=r.pathname;y==="/map"&&!a.current.has("check_aqi")&&(a.current.add("check_aqi"),await h("check_aqi","  ")),y==="/health"&&!a.current.has("view_recommendations")&&(a.current.add("view_recommendations"),await h("view_recommendations"," ")),y==="/community"&&!a.current.has("community_discussion")&&(a.current.add("community_discussion"),await h("community_discussion","  "))})()},[r.pathname,n,t]);const c=p.useCallback(g=>{i(y=>y.some(v=>v.task_id===g)?y:[...y,{task_id:g,verified:!0,verified_at:new Date().toISOString()}])},[]),d=p.useCallback(g=>s.some(y=>y.task_id===g&&y.verified),[s]),h=async(g,y)=>{if(t)try{const v=new Date().toISOString().split("T")[0],{data:b}=await ve.from("user_daily_tasks").select("*").eq("user_id",t.id).eq("task_id",g).eq("task_date",v).maybeSingle();b&&!b.is_completed&&(await ve.from("user_daily_tasks").update({is_completed:!0,completed_at:new Date().toISOString()}).eq("id",b.id),await ve.rpc("add_user_xp",{_user_id:t.id,_xp:b.xp_reward,_coins:b.coin_reward,_action_type:"daily_task",_description:` : ${y}`}),Pe.success(`  "${y}"  !`,{description:`+${b.xp_reward} XP, +${b.coin_reward} `}),c(g))}catch(v){console.error("Error auto-completing task:",v)}},m=p.useCallback(async(g,y)=>{await h(g,y)},[t]);return l.jsx(ez.Provider,{value:{verifiedTasks:s,verifyTask:c,isTaskVerified:d,autoCompleteTask:m},children:e})}const nz={common:{loading:"Loading...",error:"Error",save:"Save",cancel:"Cancel",delete:"Delete",edit:"Edit",create:"Create",search:"Search",filter:"Filter",showMore:"Show more",hide:"Hide",back:"Back",next:"Next",submit:"Submit",confirm:"Confirm",close:"Close",yes:"Yes",no:"No",or:"or",and:"and",guest:"Guest",user:"User",administrator:"Administrator",moderator:"Moderator"},app:{name:"SafeAir Pro",tagline:"Clean Air Kazakhstan",breatheFree:"Breathe Freely",yourContribution:"Your contribution",prevented:"prevented"},nav:{aqiMap:"AQI Map",myProgress:"My Progress",health:"Health",community:"Community",districtBattle:"District Battle",quickActions:"Quick Actions",navigation:"Navigation"},header:{welcome:"Welcome,",notifications:"Notifications",settings:"Settings"},auth:{login:"Sign In",register:"Sign Up",logout:"Sign Out",logoutAll:"Sign out from all devices",logoutAllConfirm:"Sign out from all devices?",logoutAllDescription:"This will end all active sessions on all devices, including this one. You will need to sign in again.",profile:"Profile",email:"Email",password:"Password",forgotPassword:"Forgot password?",noAccount:"Don't have an account?",hasAccount:"Already have an account?",loginToTrack:"Sign in to track progress",loginPrompt:"Sign up or sign in to save achievements, earn rewards and compete with others"},map:{title:"Air Quality Map",updated:"Updated",stations:"stations",loading:"Loading air quality data...",noData:"No data available",yourLocation:"Your location",aqiNow:"AQI now"},health:{title:"Health & Recommendations",personalizedTips:"Personalized tips for your health",personalizedFor:"Personalized tips for",temperature:"Temperature",humidity:"Humidity",bestTimeForWalk:"Best time for walk",anyTime:"Any time",morning:"Morning (6-9)",earlyMorning:"Early morning",notRecommended:"Not recommended",todayConditions:"Today's Conditions",uvIndex:"UV Index",uvLow:"Low",uvMedium:"Medium",uvHigh:"High",uvVeryHigh:"Very high",wind:"Wind",airQuality:"Air Quality",protectionMethods:"Protection Methods",maskN95:"N95/FFP2 Mask",maskDescription:"Filters 95% of PM2.5 particles",airPurifier:"Air Purifier",airPurifierDescription:"HEPA filter for home",housePlants:"Houseplants",housePlantsDescription:"Spider plant, peace lily",moderatePollution:"Moderate air pollution",moderateAdvice:"Sensitive groups should reduce outdoor activity",unhealthyAir:"Air quality is unhealthy",unhealthyAdvice:"We recommend limiting outdoor exposure and wearing a mask"},community:{title:"Community",together:"Together for clean air",createPost:"Create Post",activeMembers:"Active members",treesPlanted:"Trees planted",reportsThisWeek:"Reports this week",co2Prevented:"CO prevented",topContributors:"Top Contributors of the Week",you:"You",activeChallenges:"Active Challenges",days:"days",participants:"participants",discussions:"Discussions",generalChat:"General Chat",industrialEmissions:"Industrial Emissions",vehicles:"Vehicles",messages:"messages",weekWithoutCar:"Week without car",plant5Trees:"Plant 5 trees"},progress:{title:"My Progress",trackAchievements:"Track your achievements and grow",daysInRow:"days in a row",day:"day",myAchievements:"My Achievements",recentActivity:"Recent Activity",completeTasksForAchievements:"Complete tasks to earn achievements!",startTasksToTrack:"Start completing tasks to track activity",totalXP:"Total XP",totalCoins:"Total coins",achievements:"Achievements",level:"Level",ecoDefender:"Eco-Defender",yourProgress:"Your Progress"},districts:{title:"District Battle",competeForTitle:"Compete for the title of the most eco-district",untilEnd:"Until end",days:"days",season:"Season",winterCleanness:"Winter Cleanness",mainPrize:"Main prize: 50,000 Eco-Coins for all residents of the winning district",participates:"Participating",districtsCount:"districts",yourDistrict:"Your district",position:"Position",totalScore:"Total score",yourContribution:"Your contribution",treesPlanted:"Trees planted",reportsSent:"Reports sent",submitActivity:"Submit activity",leaveBattle:"Leave battle",joinUs:"Join us!",selectYourDistrict:"Select your district and start earning points for it",selectDistrict:"Select district",loginToJoin:"Sign in to join",howToEarn:"How to earn points",plantTree:"Plant a tree",areaCleanup:"Area cleanup",sendReport:"Send a report",recycling:"Recycling",carFreeDay:"Car-free day",takeEcoLesson:"Take eco-lesson",yourActivities:"Your activities",previousWinners:"Previous winners",fall:"Fall",summer:"Summer",spring:"Spring",points:"points"},actions:{title:"Quick Actions",contributeToCleanAir:"Contribute to the city's clean air",report:"Report",aboutViolation:"Violation",route:"Route",safePath:"Safe path",education:"Education",ecoLessons:"Eco-lessons",plant:"Plant",signUp:"Sign up",arScanner:"AR Scanner",airAnalysis:"Air analysis",mapAction:"Map",allSources:"All sources",reportViolation:"Report Violation",helpIdentifySources:"Help identify pollution sources",violationTypes:"Violation types",industrialEmissions:"Industrial emissions",smokingVehicle:"Smoking vehicle",burningTrash:"Burning trash",constructionDust:"Construction dust",createReport:"Create report",safeRoute:"Safe Route",findPathMinPollution:"Find a path with minimum pollution",algorithmConsiders:"The algorithm considers current air quality data and suggests a route through park areas.",buildRoute:"Build route",ecoEducation:"Eco-Education",learnMoreAboutAir:"Learn more about air quality",whatIsPM25:"What is PM2.5?",pollutionSources:"Pollution sources",howToProtect:"How to protect yourself",startLearning:"Start learning",plantTree:"Plant a Tree",signUpForAction:"Sign up for the nearest event",greenCityAction:"Green City Event",participantsSignedUp:"participants signed up",signUpForEvent:"Sign up for event",emergencyContacts:"Emergency Contacts",ecologicalInspection:"Ecological Inspection",emergencyServices:"Emergency Services",mayorHotline:"Mayor's Hotline"},dialogs:{safeRouteTitle:"Safe Route",safeRouteDescription:"Find a path with minimum air pollution level",from:"From",to:"To",addressOrCoords:"Address or coordinates",destinationAddress:"Destination address",currentLocationSet:"Current location set",specifyStartPoint:"Specify start point",specifyEndPoint:"Specify end point",calculatingRoute:"Calculating route...",buildRoute:"Build route",recommendedRoute:"Recommended route",cleanAir:"Clean air",moderatePollution:"Moderate pollution",highPollution:"High pollution",routeThrough:"Route through",routeDisclaimer:"Route calculated based on current air quality data. Conditions may change.",plantTreeTitle:"Plant a Tree",plantTreeDescription:"Sign up for upcoming greening events",spotsAvailable:"spots available",noSpotsLeft:"No spots left",spotsRemaining:"spots remaining",signedUp:"You are signed up for this event",registering:"Signing up...",tipAfterEvent:"Tip: After participating, don't forget to share a photo report with the community to get full XP reward and inspire others!",reportTitle:"Report Violation",reportDescription:"Help us identify pollution sources",violationType:"Violation type",selectType:"Select type",addPhoto:"Add photo (optional)",photoEvidence:"Photo evidence",takePhoto:"Take photo",description:"Description",describeViolation:"Describe what you see",location:"Location",useCurrentLocation:"Use current location",detectingLocation:"Detecting location...",locationDetected:"Location detected",sending:"Sending...",sendReport:"Send report",arScannerTitle:"AR Air Scanner",arScannerDescription:"Point camera at surroundings to analyze air quality",analyzing:"Analyzing image...",takePhotoToAnalyze:"Take a photo of your surroundings",analysisComplete:"Analysis complete",ecoLessonsTitle:"Eco-Lessons",ecoLessonsDescription:"Learn about air quality and how to protect yourself",completed:"Completed",startLesson:"Start lesson",completeLesson:"Complete lesson",lessonCompleted:"Lesson completed!"},gamification:{level:"Level",xp:"XP",coins:"Coins",streak:"Streak",badge:"Badge",reward:"Reward",challenge:"Challenge",achievement:"Achievement",leaderboard:"Leaderboard",ecoCoins:"Eco-Coins",totalXP:"Total XP",totalCoins:"Total coins",nextLevel:"to next level",daysStreak:"day streak"},tasks:{dailyTasks:"Daily Tasks",myTasksToday:"My tasks for today",addTask:"Add",add:"Add",noTasks:"No tasks for today",noTasksYet:"You don't have any tasks for today yet",addFirstTask:"Add first task",taskCompleted:"Task completed!",completed:"completed",available:"Available tasks",yourTasks:"Your tasks for today",selectTasks:"Select tasks",addTasksToList:"Add tasks to your list for today",allTasksAdded:"All tasks in this category have been added",done:"Done",undoComplete:"Undo completion",allTasksCompleted:"All tasks completed!",greatWork:"Great work! Come back tomorrow for new tasks",confirmCompletion:"Confirm completion",taskRequiresConfirm:"This task requires confirmation. Please briefly describe how you completed it.",autoVerified:"Task verified automatically",systemRecorded:"The system recorded completion of this action",confirm:"Confirm",cancel:"Cancel",autoCheck:"Auto-check",taskAdded:"Task added!",taskAddedName:'Task "{name}" added!',failedToAdd:"Failed to add task",taskRemoved:"Task removed from list",failedToRemove:"Failed to remove task",congratsLevel:" Congratulations! You reached level {level}!",xpAndCoinsReceived:"Task completed! +XP and coins received",failedToComplete:"Failed to complete task",completionCancelled:"Task completion cancelled",failedToCancel:"Failed to cancel completion",promptPublicTransport:"Which transport did you use?",promptWalk:"Approximately how many km did you walk?",promptEnergy:"What exactly did you turn off?",promptPlant:"What plant did you water/plant?",promptFriend:"Name of the friend you invited?",promptPollution:"What and where did you find?",promptLearning:"What new did you learn? (briefly)",promptVentilate:"How long did you ventilate?",promptMask:"What type of mask did you use?",promptExercise:"What exercises did you do?",promptDefault:"Briefly describe task completion",exampleDescription:"For example: Walked 2 km to work..."},taskCategories:{daily:"Daily",eco:"Eco-actions",social:"Social",learning:"Learning",health:"Health"},taskDifficulty:{easy:"Easy",medium:"Medium",hard:"Hard"},availableTasks:{check_aqi:"Check air quality",check_aqi_desc:"Open the map and check the current AQI in your area",view_recommendations:"Read recommendations",view_recommendations_desc:"Visit the health page and view recommendations",share_data:"Share data",share_data_desc:"Tell friends about air quality",use_public_transport:"Use public transport",use_public_transport_desc:"Take a bus or metro instead of a car",walk_instead_drive:"Walk instead",walk_instead_drive_desc:"Walk at least 2 km instead of driving",reduce_energy:"Save electricity",reduce_energy_desc:"Turn off unnecessary lights and devices for 2 hours",plant_care:"Care for plants",plant_care_desc:"Water houseplants or plant a new one",invite_friend:"Invite a friend",invite_friend_desc:"Invite a friend to join SafeAir Pro",report_pollution:"Report pollution",report_pollution_desc:"Report a noticed air pollution source",community_discussion:"Join discussion",community_discussion_desc:"Participate in a community discussion",learn_pm25:"Learn about PM2.5",learn_pm25_desc:"Learn what PM2.5 particles are and how they affect health",learn_sources:"Study pollution sources",learn_sources_desc:"Learn about major air pollution sources in the city",learn_protection:"Protection methods",learn_protection_desc:"Learn ways to protect yourself from polluted air",ventilate_home:"Ventilate room",ventilate_home_desc:"Ventilate home when AQI is normal (< 50)",wear_mask:"Wear mask",wear_mask_desc:"Use a protective mask when AQI is high",morning_exercise:"Morning exercise",morning_exercise_desc:"Do exercises during clean air hours"},toast:{success:"Success",error:"Error",warning:"Warning",info:"Info",saved:"Saved successfully",deleted:"Deleted successfully",loginRequired:"Please sign in",reportSent:"Report sent successfully",signedUpForEvent:"Signed up for event!",errorSigningUp:"Failed to sign up",signOutSuccess:"Signed out successfully",signOutError:"Error signing out",postCreated:"Post created",postDeleted:"Post deleted",postReported:"Post reported"},aqi:{good:"Good",moderate:"Moderate",unhealthy:"Unhealthy for Sensitive Groups",unhealthyAll:"Unhealthy",veryUnhealthy:"Very Unhealthy",hazardous:"Hazardous"},time:{justNow:"Just now",minutesAgo:"minutes ago",hoursAgo:"hours ago",daysAgo:"days ago",today:"Today",yesterday:"Yesterday"},feed:{newPost:"New post",like:"Like",comment:"Comment",share:"Share",report:"Report",delete:"Delete",edit:"Edit",verified:"Verified",pinned:"Pinned",unpin:"Unpin",pin:"Pin",refresh:"Refresh",ecoCommunity:"Eco-Community",noPosts:"No posts yet",beFirst:"Be the first to share an eco-action!",postDeleted:"Post deleted",postDeletedSuccess:"Your post has been deleted successfully",postPinned:"Post pinned",postPinnedDesc:"Post will be shown at the top of the feed",postUnpinned:"Post unpinned",postUnpinnedDesc:"Post is no longer pinned",pinError:"Failed to pin post. Content may not meet requirements.",unpinError:"Failed to unpin post"},districtBattle:{ranking:"District Ranking",points:"points",members:"members",rank:"Rank",prize:"Prize",yourDistrict:"Your district",showMore:"Show more",hide:"Hide"},location:{detectingLocation:"Detecting location...",locationError:"Location error",enableLocation:"Enable location"},units:{kg:"kg",km:"km",m:"m",ms:"m/s",percent:"%",degrees:"",fromYou:"from you",contribution:"Contribution"},pollutionSources:{harmLevel:"Harm level",low:"Low",medium:"Medium",high:"High",critical:"Critical",categories:"Categories",power:"Power",industrial:"Industrial",transport:"Transport",construction:"Construction",heating:"Heating",oil_gas:"Oil & Gas",mining:"Mining",mainEmissions:"Main emissions",nearYou:"Pollution sources nearby"},mapLegend:{airQuality:"Air Quality (AQI)",good:"Good",moderate:"Moderate",sensitive:"For sensitive",unhealthy:"Unhealthy",veryUnhealthy:"Very unhealthy",hazardous:"Hazardous"},index:{goodMorning:"Good morning",goodAfternoon:"Good afternoon",goodEvening:"Good evening",yourContribution:"Your contribution to clean air",co2Prevented:"kg CO prevented",districtBattle:"District Battle",districtBattleDesc:"Compete with other districts for the title of the greenest!",goToBattle:"Go to battle ",platform:"Air quality monitoring platform",togetherForClean:"Together for clean air in Kazakhstan"},createPost:{title:"Create Post",description:"Share your eco-actions with the community",postType:"Post type",general:"General",greening:"Greening",transport:"Transport",recycling:"Recycling",reportType:"Report",content:"Description",contentPlaceholder:"Tell us about your eco-action...",photo:"Photo",photoOptional:"(optional)",clickToUpload:"Click to upload photo (max 5 MB)",ecoImpact:"Eco impact",ecoImpactOptional:"(optional)",ecoImpactPlaceholder:"For example: -12 kg CO, 5 trees planted",preview:"Preview",publishing:"Publishing...",publish:"Publish",minChars:"Post must contain at least 10 characters",writeContent:"Write something",postPublished:"Post published! ",failedToPublish:"Failed to publish post",selectImage:"Please select an image",imageTooLarge:"Image size must not exceed 5 MB",loginToCreate:"Sign in to create a post",contentRejected:"Content rejected",warningIssued:"You have been issued a warning.",bannedUntil:"You are banned until"},editPost:{title:"Edit Post",messageText:"Message text",messagePlaceholder:"Describe your eco-action...",ecoImpact:"Eco impact (optional)",ecoImpactPlaceholder:"For example: -12 kg CO",saving:"Saving...",save:"Save",cancel:"Cancel",success:"Success",postUpdated:"Post updated",enterText:"Enter message text",error:"Error",failedToUpdate:"Failed to update post"},deletePost:{title:"Delete post?",description:"This action cannot be undone. The post will be permanently deleted along with all likes.",cancel:"Cancel",deleting:"Deleting...",delete:"Delete"},reportPost:{title:"Report Post",description:"Select the reason for your complaint. Moderators will review your report.",offTopic:"Off-topic (not related to environment)",spam:"Spam or advertising",offensive:"Offensive content",misinformation:"False information",other:"Other",additionalInfo:"Additional information (optional)",additionalPlaceholder:"Describe the reason for your complaint in more detail...",cancel:"Cancel",sending:"Sending...",sendReport:"Send Report",contentRemoved:"Content removed",reportSent:"Report sent",error:"Error",failedToReport:"Failed to send report"},arScanner:{title:"AR Air Scanner",description:"Air quality analysis at your location",uploadPhoto:"Upload photo for analysis",photoHint:"Photo of sky, street, or nature",selectPhoto:"Select photo",chooseAnother:"Choose another photo",validating:"Validating image...",analyzing:"Analyzing image...",photoValid:"Photo is suitable",analyzePhoto:"Analyze photo",detecting:"Detecting...",analysis:"Analysis",aqiIndex:"Air Quality Index",temperature:"Temperature",humidity:"Humidity",visibility:"Visibility",recommendation:"Recommendation",scanAgain:"Scan again",invalidPhoto:"Photo is not suitable for analysis",uploadHint:"Please upload a photo of sky, street, or nature.",connectionError:"Connection error. Check your internet and try again.",validationFailed:"Failed to validate image. Try again.",scanComplete:"Scan complete! +10 XP",failedLocation:"Failed to determine location"},ecoLessons:{title:"Eco-Education",description:"Learn about ecology and earn XP",step:"Step",of:"of",next:"Next",correct:"Correct!",incorrect:"Incorrect. Try again!",backToList:"Back to lessons",lessonCompleted:"Lesson completed!",pm25Title:" What is PM2.5?",pm25Desc:"Learn about fine particles and their impact on health",sourcesTitle:" Pollution Sources",sourcesDesc:"Study the main sources of air pollution in cities",protectionTitle:" How to Protect Yourself",protectionDesc:"Practical tips for protection from polluted air",aqiTitle:" Understanding AQI Index",aqiDesc:"Learn to read and interpret the air quality index",completed:"Completed"},treePlanting:{title:"Plant a Tree",description:"Sign up for upcoming city greening events",spotsAvailable:"spots available",noSpots:"No spots left",spotsRemaining:"spots remaining",alreadySignedUp:"You are signed up for this event",registering:"Signing up...",register:"Sign up",participants:"participants",tip:"Tip: After participating, don't forget to share a photo report with the community to receive full XP reward and inspire others!",signedUpSuccess:"You are signed up! +15 XP",afterEventXP:"after participation",loginToRegister:"Sign in to register for event",alreadyRegistered:"You are already registered for this event",failedToRegister:"Failed to register for event"},reportViolation:{title:"Report Violation",description:"Help identify air pollution sources",violationType:"Violation type",selectViolationType:"Select violation type",industrial:" Industrial emissions",smoking:" Smoking vehicle",burning:" Burning trash",construction:" Construction dust",other:" Other",descriptionLabel:"Description",descriptionPlaceholder:"Describe the violation in detail: what do you see, where is it happening...",location:"Location",locationDetected:"Location detected",detectLocation:"Detect location",photoEvidence:"Photo evidence",addPhotoRecommended:"Add photo (recommended)",sending:"Sending...",sendReport:"Send report",loginToReport:"Sign in to send a report",selectType:"Select violation type",minDescription:"Describe the violation (minimum 10 characters)",reportSent:"Report sent!",failedToSend:"Failed to send report"},safeRoute:{title:"Safe Route",description:"Find a path with minimum air pollution level",from:"From",to:"To",addressPlaceholder:"Address or coordinates",destinationPlaceholder:"Destination address",useCurrentLocation:"Use current location",locationSet:"Current location set",specifyStart:"Specify start point",specifyEnd:"Specify end point",calculating:"Calculating route...",buildRoute:"Build route",recommendedRoute:"Recommended route",cleanAir:"Clean air",moderatePollution:"Moderate pollution",highPollution:"High pollution",routeThrough:"Route through",disclaimer:"Route calculated based on current air quality data. Conditions may change."},healthRecs:{title:"Health Recommendations",safe:"Safe",caution:"Caution",warning:"Warning",danger:"Dangerous",loadingData:"Loading air quality data...",children:"Children",elderly:"Elderly",asthma:"Asthma patients",athletes:"Athletes",safeForPlay:"Safe for active outdoor play",greatTimeForWalk:"Great time for outdoor walks",canDoOutdoor:"Can do outdoor activities",idealConditions:"Ideal conditions for training",canWalk:"Can walk, but monitor well-being",limitOutdoor:"Limit prolonged outdoor exposure",haveInhaler:"Have inhaler with you, avoid intense exercise",canTrainMorning:"Can train, better in morning hours",limitPlay:"Limit outdoor active play to 1 hour",stayHomeVentilate:"Recommended to stay home, ventilate briefly",wearN95:"Wear N95 mask, have inhaler with you",trainIndoorsMorning:"Move training indoors or to morning",avoidWalks:"Avoid walks, play at home",stayHomeClosed:"Stay home, do not open windows",doNotGoOut:"Do not go outside unless necessary",trainIndoorsOnly:"Training only indoors",avoidOutdoor:"Strictly avoid going outside",dangerStayHome:"Dangerous! Stay home with windows closed",extremeDanger:"Extreme danger, use air purifier",cancelTraining:"Cancel all training, even indoor ventilation not allowed",setupNotifications:"Set up air quality notifications"}},rz={common:{loading:"...",error:"",save:"",cancel:"",delete:"",edit:"",create:"",search:"",filter:"",showMore:" ",hide:"",back:"",next:"",submit:"",confirm:"",close:"",yes:"",no:"",or:"",and:"",guest:"",user:"",administrator:"",moderator:""},app:{name:"SafeAir Pro",tagline:"  ",breatheFree:" ",yourContribution:" ",prevented:""},nav:{aqiMap:" AQI",myProgress:" ",health:"",community:"",districtBattle:" ",quickActions:" ",navigation:""},header:{welcome:" ,",notifications:"",settings:""},auth:{login:"",register:"",logout:"",logoutAll:"   ",logoutAllConfirm:"   ?",logoutAllDescription:"        ,  .    .",profile:"",email:"Email",password:"",forgotPassword:" ?",noAccount:" ?",hasAccount:"  ?",loginToTrack:"   ",loginPrompt:"  ,   ,      "},map:{title:"  ",updated:"",stations:"",loading:"    ...",noData:" ",yourLocation:" ",aqiNow:"AQI "},health:{title:"  ",personalizedTips:"    ",personalizedFor:"  ",temperature:"",humidity:"",bestTimeForWalk:"   ",anyTime:" ",morning:" (6-9)",earlyMorning:" ",notRecommended:" ",todayConditions:" ",uvIndex:"UV-",uvLow:"",uvMedium:"",uvHigh:"",uvVeryHigh:" ",wind:"",airQuality:" ",protectionMethods:" ",maskN95:" N95/FFP2",maskDescription:" 95%  PM2.5",airPurifier:" ",airPurifierDescription:"HEPA-  ",housePlants:" ",housePlantsDescription:", ",moderatePollution:"  ",moderateAdvice:"      ",unhealthyAir:"  ",unhealthyAdvice:"       "},community:{title:"",together:"   ",createPost:" ",activeMembers:" ",treesPlanted:" ",reportsThisWeek:"  ",co2Prevented:"CO ",topContributors:"  ",you:"",activeChallenges:" ",days:"",participants:"",discussions:"",generalChat:" ",industrialEmissions:" ",vehicles:"",messages:"",weekWithoutCar:"  ",plant5Trees:" 5 "},progress:{title:" ",trackAchievements:"    ",daysInRow:" ",day:"",myAchievements:" ",recentActivity:" ",completeTasksForAchievements:" ,   !",startTasksToTrack:"     ",totalXP:" XP",totalCoins:" ",achievements:"",level:"",ecoDefender:"-",yourProgress:" "},districts:{title:" ",competeForTitle:"    -",untilEnd:" ",days:"",season:"",winterCleanness:" ",mainPrize:" : 50,000 Eco-Coins    -",participates:"",districtsCount:"",yourDistrict:" ",position:"",totalScore:" ",yourContribution:" ",treesPlanted:" ",reportsSent:" ",submitActivity:" ",leaveBattle:" ",joinUs:"!",selectYourDistrict:"        ",selectDistrict:" ",loginToJoin:"  ",howToEarn:"  ",plantTree:" ",areaCleanup:" ",sendReport:" ",recycling:" ",carFreeDay:"  ",takeEcoLesson:" -",yourActivities:" ",previousWinners:" ",fall:"",summer:"",spring:"",points:""},actions:{title:" ",contributeToCleanAir:"      ",report:"",aboutViolation:" ",route:"",safePath:" ",education:"",ecoLessons:"-",plant:"",signUp:"",arScanner:"AR ",airAnalysis:" ",mapAction:"",allSources:" ",reportViolation:"  ",helpIdentifySources:"   ",violationTypes:" ",industrialEmissions:" ",smokingVehicle:" ",burningTrash:" ",constructionDust:" ",createReport:" ",safeRoute:" ",findPathMinPollution:"    ",algorithmConsiders:"            .",buildRoute:" ",ecoEducation:"-",learnMoreAboutAir:"    ",whatIsPM25:"  PM2.5?",pollutionSources:" ",howToProtect:"  ",startLearning:" ",plantTree:" ",signUpForAction:"   ",greenCityAction:"  ",participantsSignedUp:" ",signUpForEvent:"  ",emergencyContacts:" ",ecologicalInspection:" ",emergencyServices:" ",mayorHotline:"  "},dialogs:{safeRouteTitle:" ",safeRouteDescription:"      ",from:"",to:"",addressOrCoords:"  ",destinationAddress:" ",currentLocationSet:"  ",specifyStartPoint:"  ",specifyEndPoint:"  ",calculatingRoute:" ...",buildRoute:" ",recommendedRoute:" ",cleanAir:" ",moderatePollution:" ",highPollution:" ",routeThrough:" ",routeDisclaimer:"        .   .",plantTreeTitle:" ",plantTreeDescription:"      ",spotsAvailable:" ",noSpotsLeft:" ",spotsRemaining:" ",signedUp:"    ",registering:"...",tipAfterEvent:":          ,     XP   !",reportTitle:"  ",reportDescription:"    ",violationType:" ",selectType:" ",addPhoto:"  ()",photoEvidence:" ",takePhoto:" ",description:"",describeViolation:",   ",location:"",useCurrentLocation:"  ",detectingLocation:" ...",locationDetected:" ",sending:"...",sendReport:" ",arScannerTitle:"AR  ",arScannerDescription:"       ",analyzing:" ...",takePhotoToAnalyze:"   ",analysisComplete:" ",ecoLessonsTitle:"-",ecoLessonsDescription:"       ",completed:"",startLesson:" ",completeLesson:" ",lessonCompleted:" !"},gamification:{level:"",xp:"XP",coins:"",streak:"",badge:"",reward:"",challenge:"",achievement:"",leaderboard:"",ecoCoins:"-",totalXP:" XP",totalCoins:" ",nextLevel:" . ",daysStreak:" "},tasks:{dailyTasks:" ",myTasksToday:"   ",addTask:"",add:"",noTasks:"   ",noTasksYet:"      ",addFirstTask:"  ",taskCompleted:" !",completed:"",available:" ",yourTasks:"   ",selectTasks:" ",addTasksToList:"      ",allTasksAdded:"     ",done:"",undoComplete:" ",allTasksCompleted:"  !",greatWork:" !     ",confirmCompletion:" ",taskRequiresConfirm:"   . ,  ,    .",autoVerified:"  ",systemRecorded:"    ",confirm:"",cancel:"",autoCheck:"-",taskAdded:" !",taskAddedName:' "{name}" !',failedToAdd:"   ",taskRemoved:"   ",failedToRemove:"   ",congratsLevel:" !   {level} !",xpAndCoinsReceived:" ! +XP   ",failedToComplete:"   ",completionCancelled:"  ",failedToCancel:"   ",promptPublicTransport:"   ?",promptWalk:"    ?",promptEnergy:"   ?",promptPlant:"   /?",promptFriend:" ,  ?",promptPollution:"    ?",promptLearning:"   ? ()",promptVentilate:"  ?",promptMask:"   ?",promptExercise:"  ?",promptDefault:"   ",exampleDescription:":  2    ..."},taskCategories:{daily:"",eco:"-",social:"",learning:"",health:""},taskDifficulty:{easy:"",medium:"",hard:""},availableTasks:{check_aqi:"  ",check_aqi_desc:"     AQI   ",view_recommendations:" ",view_recommendations_desc:"     ",share_data:" ",share_data_desc:"    ",use_public_transport:"  ",use_public_transport_desc:"     ",walk_instead_drive:" ",walk_instead_drive_desc:"  2      ",reduce_energy:" ",reduce_energy_desc:"      2 ",plant_care:"  ",plant_care_desc:"     ",invite_friend:" ",invite_friend_desc:"    SafeAir Pro",report_pollution:"  ",report_pollution_desc:"     ",community_discussion:"  ",community_discussion_desc:"     ",learn_pm25:"  PM2.5",learn_pm25_desc:",    PM2.5      ",learn_sources:"  ",learn_sources_desc:"       ",learn_protection:" ",learn_protection_desc:"     ",ventilate_home:" ",ventilate_home_desc:"   AQI   (< 50)",wear_mask:" ",wear_mask_desc:"     AQI",morning_exercise:" ",morning_exercise_desc:"     "},toast:{success:"",error:"",warning:"",info:"",saved:" ",deleted:" ",loginRequired:", ",reportSent:"  ",signedUpForEvent:"   !",errorSigningUp:"  ",signOutSuccess:"  ",signOutError:"  ",postCreated:" ",postDeleted:" ",postReported:"   "},aqi:{good:"",moderate:"",unhealthy:"   ",unhealthyAll:"  ",veryUnhealthy:" ",hazardous:""},time:{justNow:" ",minutesAgo:" ",hoursAgo:" ",daysAgo:" ",today:"",yesterday:""},feed:{newPost:" ",like:"",comment:"",share:"",report:"",delete:"",edit:"",verified:"",pinned:"",unpin:"",pin:"",refresh:"",ecoCommunity:"-",noPosts:"  ",beFirst:" ,   -!",postDeleted:" ",postDeletedSuccess:"    ",postPinned:" ",postPinnedDesc:"     ",postUnpinned:" ",postUnpinnedDesc:"   ",pinError:"   . ,    .",unpinError:"   "},districtBattle:{ranking:" ",points:"",members:"",rank:"",prize:"",yourDistrict:" ",showMore:" ",hide:""},location:{detectingLocation:" ...",locationError:" ",enableLocation:" "},units:{kg:"",km:"",m:"",ms:"/",percent:"%",degrees:"",fromYou:" ",contribution:""},pollutionSources:{harmLevel:" ",low:"",medium:"",high:"",critical:"",categories:"",power:"",industrial:"",transport:"",construction:"",heating:"",oil_gas:"",mining:"",mainEmissions:" ",nearYou:"  "},mapLegend:{airQuality:"  (AQI)",good:"",moderate:"",sensitive:" .",unhealthy:"",veryUnhealthy:" ",hazardous:""},index:{goodMorning:" ",goodAfternoon:" ",goodEvening:" ",yourContribution:"     ",co2Prevented:" CO ",districtBattle:" ",districtBattleDesc:"       !",goToBattle:"   ",platform:"   ",togetherForClean:"    "},createPost:{title:" ",description:"  -  ",postType:" ",general:"",greening:"",transport:"",recycling:"",reportType:"",content:"",contentPlaceholder:"   -...",photo:"",photoOptional:"()",clickToUpload:"    (. 5 )",ecoImpact:" ",ecoImpactOptional:"()",ecoImpactPlaceholder:": -12  CO, 5  ",preview:"",publishing:"...",publish:"",minChars:"    10 ",writeContent:" -",postPublished:" ! ",failedToPublish:"   ",selectImage:",  ",imageTooLarge:"     5 ",loginToCreate:"     ",contentRejected:" ",warningIssued:"  .",bannedUntil:"  "},editPost:{title:" ",messageText:" ",messagePlaceholder:"  -...",ecoImpact:"- ()",ecoImpactPlaceholder:": -12  CO",saving:"...",save:"",cancel:"",success:"",postUpdated:" ",enterText:"  ",error:"",failedToUpdate:"   "},deletePost:{title:" ?",description:"   .        .",cancel:"",deleting:"...",delete:""},reportPost:{title:"  ",description:"  .    .",offTopic:"   (   )",spam:"  ",offensive:" ",misinformation:" ",other:"",additionalInfo:"  ()",additionalPlaceholder:"   ...",cancel:"",sending:"...",sendReport:" ",contentRemoved:" ",reportSent:" ",error:"",failedToReport:"   "},arScanner:{title:"AR  ",description:"     ",uploadPhoto:"   ",photoHint:" ,   ",selectPhoto:" ",chooseAnother:"  ",validating:" ...",analyzing:" ...",photoValid:" ",analyzePhoto:" ",detecting:"...",analysis:"",aqiIndex:"  ",temperature:"",humidity:"",visibility:"",recommendation:"",scanAgain:" ",invalidPhoto:"    ",uploadHint:",   ,   .",connectionError:" .     .",validationFailed:"   .   .",scanComplete:" ! +10 XP",failedLocation:"   "},ecoLessons:{title:"-",description:"    XP",step:"",of:"",next:"",correct:"!",incorrect:".   !",backToList:"  ",lessonCompleted:" !",pm25Title:"   PM2.5?",pm25Desc:"        ",sourcesTitle:"  ",sourcesDesc:"      ",protectionTitle:"   ",protectionDesc:"      ",aqiTitle:"   AQI",aqiDesc:"      ",completed:""},treePlanting:{title:" ",description:"      ",spotsAvailable:" ",noSpots:" ",spotsRemaining:" ",alreadySignedUp:"    ",registering:"...",register:"",participants:"",tip:":          ,     XP   !",signedUpSuccess:"   ! +15 XP",afterEventXP:" ",loginToRegister:"    ",alreadyRegistered:"     ",failedToRegister:"    "},reportViolation:{title:"  ",description:"    ",violationType:" ",selectViolationType:"  ",industrial:"  ",smoking:"  ",burning:"  ",construction:"  ",other:" ",descriptionLabel:"",descriptionPlaceholder:"  :   ,   ...",location:"",locationDetected:" ",detectLocation:" ",photoEvidence:" ",addPhotoRecommended:"  ()",sending:"...",sendReport:" ",loginToReport:"     ",selectType:"  ",minDescription:"  ( 10 )",reportSent:" !",failedToSend:"   "},safeRoute:{title:" ",description:"      ",from:"",to:"",addressPlaceholder:"  ",destinationPlaceholder:" ",useCurrentLocation:"  ",locationSet:"  ",specifyStart:"  ",specifyEnd:"  ",calculating:" ...",buildRoute:" ",recommendedRoute:" ",cleanAir:" ",moderatePollution:" ",highPollution:" ",routeThrough:" ",disclaimer:"        .   ."},healthRecs:{title:"  ",safe:"",caution:"",warning:"",danger:"",loadingData:"    ...",children:"",elderly:"",asthma:"",athletes:"",safeForPlay:"     ",greatTimeForWalk:"      ",canDoOutdoor:"    ",idealConditions:"   ",canWalk:" ,    ",limitOutdoor:"    ",haveInhaler:"   ,   ",canTrainMorning:" ,    ",limitPlay:"      1 ",stayHomeVentilate:"  ,  ",wearN95:"  N95,    ",trainIndoorsMorning:"      ",avoidWalks:" ,  ",stayHomeClosed:" ,   ",doNotGoOut:"      ",trainIndoorsOnly:"   ",avoidOutdoor:"    ",dangerStayHome:"!     ",extremeDanger:" ,   ",cancelTraining:"  ,     ",setupNotifications:"    "}},sz={common:{loading:"...",error:"",save:"",cancel:"",delete:"",edit:"",create:"",search:"",filter:"",showMore:" ",hide:"",back:"",next:"",submit:"",confirm:"",close:"",yes:"",no:"",or:"",and:"",guest:"",user:"",administrator:"",moderator:""},app:{name:"SafeAir Pro",tagline:"  ",breatheFree:"  ",yourContribution:" ",prevented:" "},nav:{aqiMap:"AQI ",myProgress:" ",health:"",community:"",districtBattle:" ",quickActions:" ",navigation:""},header:{welcome:" ,",notifications:"",settings:""},auth:{login:"",register:"",logout:"",logoutAll:"  ",logoutAllConfirm:"    ?",logoutAllDescription:"      ,   .     .",profile:"",email:"Email",password:" ",forgotPassword:"   ?",noAccount:"  ?",hasAccount:"  ?",loginToTrack:"   ",loginPrompt:" ,         "},map:{title:"  ",updated:"",stations:"",loading:"   ...",noData:" ",yourLocation:"  ",aqiNow:" AQI"},health:{title:"  ",personalizedTips:"    ",personalizedFor:"  ",temperature:"",humidity:"",bestTimeForWalk:"   ",anyTime:"  ",morning:" (6-9)",earlyMorning:" ",notRecommended:"",todayConditions:" ",uvIndex:"UV ",uvLow:"",uvMedium:"",uvHigh:"",uvVeryHigh:" ",wind:"",airQuality:" ",protectionMethods:" ",maskN95:"N95/FFP2 ",maskDescription:"PM2.5  95% ",airPurifier:" ",airPurifierDescription:"  HEPA ",housePlants:" ",housePlantsDescription:", ",moderatePollution:"  ",moderateAdvice:"     ",unhealthyAir:"  ",unhealthyAdvice:"       "},community:{title:"",together:"   ",createPost:" ",activeMembers:" ",treesPlanted:" ",reportsThisWeek:"  ",co2Prevented:"CO  ",topContributors:"  ",you:"",activeChallenges:" ",days:"",participants:"",discussions:"",generalChat:" ",industrialEmissions:" ",vehicles:"",messages:"",weekWithoutCar:" ",plant5Trees:"5  "},progress:{title:" ",trackAchievements:"   ",daysInRow:" ",day:"",myAchievements:" ",recentActivity:" ",completeTasksForAchievements:"    !",startTasksToTrack:"     ",totalXP:" XP",totalCoins:" ",achievements:"",level:"",ecoDefender:"-",yourProgress:" "},districts:{title:" ",competeForTitle:" -   ",untilEnd:" ",days:"",season:"",winterCleanness:" ",mainPrize:" :    50,000 Eco-Coins",participates:"",districtsCount:"",yourDistrict:" ",position:"",totalScore:" ",yourContribution:" ",treesPlanted:" ",reportsSent:" ",submitActivity:" ",leaveBattle:" ",joinUs:"!",selectYourDistrict:" ,     ",selectDistrict:" ",loginToJoin:"  ",howToEarn:"   ",plantTree:" ",areaCleanup:" ",sendReport:" ",recycling:" ",carFreeDay:" ",takeEcoLesson:"- ",yourActivities:" ",previousWinners:" ",fall:"",summer:"",spring:"",points:""},actions:{title:" ",contributeToCleanAir:"    ",report:"",aboutViolation:" ",route:"",safePath:" ",education:"",ecoLessons:"-",plant:"",signUp:"",arScanner:"AR ",airAnalysis:" ",mapAction:"",allSources:" ",reportViolation:"  ",helpIdentifySources:"   ",violationTypes:" ",industrialEmissions:" ",smokingVehicle:"  ",burningTrash:" ",constructionDust:" ",createReport:" ",safeRoute:" ",findPathMinPollution:"    ",algorithmConsiders:"           .",buildRoute:" ",ecoEducation:"-",learnMoreAboutAir:"    ",whatIsPM25:"PM2.5  ?",pollutionSources:" ",howToProtect:"   ",startLearning:" ",plantTree:" ",signUpForAction:"  ",greenCityAction:"  ",participantsSignedUp:" ",signUpForEvent:" ",emergencyContacts:" ",ecologicalInspection:" ",emergencyServices:" ",mayorHotline:"  "},dialogs:{safeRouteTitle:" ",safeRouteDescription:"      ",from:"",to:"",addressOrCoords:"  ",destinationAddress:" ",currentLocationSet:"   ",specifyStartPoint:"  ",specifyEndPoint:"  ",calculatingRoute:" ...",buildRoute:" ",recommendedRoute:" ",cleanAir:" ",moderatePollution:" ",highPollution:" ",routeThrough:" ",routeDisclaimer:"      .   .",plantTreeTitle:" ",plantTreeDescription:"   ",spotsAvailable:" ",noSpotsLeft:" ",spotsRemaining:" ",signedUp:"   ",registering:"...",tipAfterEvent:":     XP          !",reportTitle:"  ",reportDescription:"   ",violationType:" ",selectType:" ",addPhoto:"  ( )",photoEvidence:" ",takePhoto:" ",description:"",describeViolation:"  ",location:" ",useCurrentLocation:"   ",detectingLocation:"  ...",locationDetected:"  ",sending:"...",sendReport:" ",arScannerTitle:"AR  ",arScannerDescription:"      ",analyzing:" ...",takePhotoToAnalyze:"  ",analysisComplete:" ",ecoLessonsTitle:"-",ecoLessonsDescription:"       ",completed:"",startLesson:" ",completeLesson:" ",lessonCompleted:" !"},gamification:{level:"",xp:"XP",coins:"",streak:"",badge:"",reward:"",challenge:"",achievement:"",leaderboard:"",ecoCoins:"-",totalXP:" XP",totalCoins:" ",nextLevel:" ",daysStreak:" "},tasks:{dailyTasks:" ",myTasksToday:" ",addTask:"",add:"",noTasks:"  ",noTasksYet:"   ",addFirstTask:"  ",taskCompleted:" !",completed:"",available:" ",yourTasks:" ",selectTasks:" ",addTasksToList:"   ",allTasksAdded:"    ",done:"",undoComplete:" ",allTasksCompleted:"  !",greatWork:" !     ",confirmCompletion:" ",taskRequiresConfirm:"    .    .",autoVerified:"   ",systemRecorded:"    ",confirm:"",cancel:"",autoCheck:"-",taskAdded:" !",taskAddedName:'"{name}"  !',failedToAdd:"   ",taskRemoved:"  ",failedToRemove:"   ",congratsLevel:" !  {level}  !",xpAndCoinsReceived:" ! +XP   ",failedToComplete:"   ",completionCancelled:"  ",failedToCancel:"   ",promptPublicTransport:"  ?",promptWalk:"   ?",promptEnergy:"  ?",promptPlant:"  /?",promptFriend:"  ?",promptPollution:"   ?",promptLearning:"  ? ()",promptVentilate:"  ?",promptMask:"   ?",promptExercise:"  ?",promptDefault:"   ",exampleDescription:":  2   ..."},taskCategories:{daily:"",eco:"-",social:"",learning:"",health:""},taskDifficulty:{easy:"",medium:"",hard:""},availableTasks:{check_aqi:"  ",check_aqi_desc:" ,   AQI- ",view_recommendations:" ",view_recommendations_desc:"  ,  ",share_data:" ",share_data_desc:"    ",use_public_transport:"  ",use_public_transport_desc:"     ",walk_instead_drive:" ",walk_instead_drive_desc:"    2   ",reduce_energy:"  ",reduce_energy_desc:"    2  ",plant_care:"  ",plant_care_desc:"     ",invite_friend:" ",invite_friend_desc:" SafeAir Pro-  ",report_pollution:"  ",report_pollution_desc:"     ",community_discussion:" ",community_discussion_desc:"  ",learn_pm25:"PM2.5  ",learn_pm25_desc:"PM2.5         ",learn_sources:"  ",learn_sources_desc:"      ",learn_protection:" ",learn_protection_desc:"    ",ventilate_home:" ",ventilate_home_desc:"AQI   (< 50)  ",wear_mask:" ",wear_mask_desc:"AQI     ",morning_exercise:" ",morning_exercise_desc:"    "},toast:{success:"",error:"",warning:"",info:"",saved:" ",deleted:" ",loginRequired:" ",reportSent:"  ",signedUpForEvent:"  !",errorSigningUp:"  ",signOutSuccess:"  ",signOutError:"  ",postCreated:" ",postDeleted:" ",postReported:"  "},aqi:{good:"",moderate:"",unhealthy:"   ",unhealthyAll:"  ",veryUnhealthy:" ",hazardous:""},time:{justNow:" ",minutesAgo:" ",hoursAgo:" ",daysAgo:" ",today:"",yesterday:""},feed:{newPost:" ",like:"",comment:"",share:"",report:"",delete:"",edit:"",verified:"",pinned:"",unpin:" ",pin:"",refresh:"",ecoCommunity:"-",noPosts:"  ",beFirst:"-   !",postDeleted:" ",postDeletedSuccess:"   ",postPinned:" ",postPinnedDesc:"   ",postUnpinned:"  ",postUnpinnedDesc:"  ",pinError:"   .     .",unpinError:"    "},districtBattle:{ranking:" ",points:"",members:"",rank:"",prize:"",yourDistrict:" ",showMore:" ",hide:""},location:{detectingLocation:"  ...",locationError:"  ",enableLocation:" "},units:{kg:"",km:"",m:"",ms:"/",percent:"%",degrees:"",fromYou:"",contribution:""},pollutionSources:{harmLevel:" ",low:"",medium:"",high:"",critical:"",categories:"",power:"",industrial:"",transport:"",construction:"",heating:"",oil_gas:"-",mining:"-",mainEmissions:" ",nearYou:"  "},mapLegend:{airQuality:"  (AQI)",good:"",moderate:"",sensitive:" ",unhealthy:"",veryUnhealthy:" ",hazardous:""},index:{goodMorning:" ",goodAfternoon:" ",goodEvening:" ",yourContribution:"    ",co2Prevented:" CO  ",districtBattle:" ",districtBattleDesc:"       !",goToBattle:"  ",platform:"   ",togetherForClean:"    "},createPost:{title:" ",description:"-  ",postType:" ",general:"",greening:"",transport:"",recycling:" ",reportType:"",content:"",contentPlaceholder:"-  ...",photo:"",photoOptional:"( )",clickToUpload:"    (. 5 )",ecoImpact:" ",ecoImpactOptional:"( )",ecoImpactPlaceholder:": -12  CO, 5  ",preview:"  ",publishing:"...",publish:"",minChars:"  10   ",writeContent:" ",postPublished:" ! ",failedToPublish:"   ",selectImage:" ",imageTooLarge:"  5 -  ",loginToCreate:"   ",contentRejected:" ",warningIssued:"  .",bannedUntil:" "},editPost:{title:" ",messageText:" ",messagePlaceholder:"- ...",ecoImpact:"- ( )",ecoImpactPlaceholder:": -12  CO",saving:"...",save:"",cancel:"",success:"",postUpdated:" ",enterText:"  ",error:"",failedToUpdate:"   "},deletePost:{title:"   ?",description:"    .      .",cancel:"",deleting:"...",delete:""},reportPost:{title:"  ",description:"  .    .",offTopic:"  (  )",spam:"  ",offensive:" ",misinformation:" ",other:"",additionalInfo:"  ( )",additionalPlaceholder:"   ...",cancel:"",sending:"...",sendReport:" ",contentRemoved:" ",reportSent:" ",error:"",failedToReport:"   "},arScanner:{title:"AR  ",description:"     ",uploadPhoto:"   ",photoHint:",    ",selectPhoto:" ",chooseAnother:"  ",validating:" ...",analyzing:" ...",photoValid:" ",analyzePhoto:" ",detecting:"...",analysis:"",aqiIndex:"  ",temperature:"",humidity:"",visibility:"",recommendation:"",scanAgain:" ",invalidPhoto:"  ",uploadHint:",     .",connectionError:" .  , .",validationFailed:"   . .",scanComplete:" ! +10 XP",failedLocation:"    "},ecoLessons:{title:"-",description:"    XP ",step:"",of:"",next:"",correct:"!",incorrect:" . !",backToList:" ",lessonCompleted:" !",pm25Title:" PM2.5  ?",pm25Desc:"       ",sourcesTitle:"  ",sourcesDesc:"     ",protectionTitle:"    ",protectionDesc:"    ",aqiTitle:" AQI  ",aqiDesc:"      ",completed:""},treePlanting:{title:" ",description:"   ",spotsAvailable:" ",noSpots:" ",spotsRemaining:" ",alreadySignedUp:"   ",registering:"...",register:"",participants:"",tip:":     XP          !",signedUpSuccess:"  ! +15 XP",afterEventXP:" ",loginToRegister:"   ",alreadyRegistered:"    ",failedToRegister:"   "},reportViolation:{title:"  ",description:"    ",violationType:" ",selectViolationType:"  ",industrial:"  ",smoking:"   ",burning:"  ",construction:"  ",other:" ",descriptionLabel:"",descriptionPlaceholder:" - :   ,   ...",location:" ",locationDetected:" ",detectLocation:"  ",photoEvidence:" ",addPhotoRecommended:"  ()",sending:"...",sendReport:" ",loginToReport:"   ",selectType:"  ",minDescription:"  ( 10 )",reportSent:" !",failedToSend:"   "},safeRoute:{title:" ",description:"      ",from:"",to:"",addressPlaceholder:"  ",destinationPlaceholder:" ",useCurrentLocation:"   ",locationSet:"   ",specifyStart:"  ",specifyEnd:"  ",calculating:" ...",buildRoute:" ",recommendedRoute:" ",cleanAir:" ",moderatePollution:" ",highPollution:" ",routeThrough:" ",disclaimer:"      .   ."},healthRecs:{title:" ",safe:"",caution:"",warning:" ",danger:"",loadingData:"   ...",children:"",elderly:"",asthma:"",athletes:"",safeForPlay:"    ",greatTimeForWalk:"     ",canDoOutdoor:"   ",idealConditions:"   ",canWalk:" ,   ",limitOutdoor:"   ",haveInhaler:"  ,    ",canTrainMorning:" ,  ",limitPlay:"   1  ",stayHomeVentilate:"  ,  ",wearN95:"N95  ,   ",trainIndoorsMorning:"    ",avoidWalks:"  ,  ",stayHomeClosed:" ,  ",doNotGoOut:"   ",trainIndoorsOnly:"  ",avoidOutdoor:"    ",dangerStayHome:"!    ",extremeDanger:" ,   ",cancelTraining:"  ,    ",setupNotifications:"    "}},iz={en:{name:"English",code:"EN"},ru:{name:"",code:"RU"},kz:{name:"",code:"KZ"}},oz={en:nz,ru:rz,kz:sz},pb="safeair-language",eP=p.createContext(void 0);function az({children:e}){const[t,n]=p.useState(()=>{if(typeof window<"u"){const i=localStorage.getItem(pb);if(i&&(i==="en"||i==="ru"||i==="kz"))return i}return"ru"});p.useEffect(()=>{localStorage.setItem(pb,t)},[t]);const r=i=>{n(i)},s=oz[t];return l.jsx(eP.Provider,{value:{language:t,setLanguage:r,t:s,languages:iz},children:e})}function zt(){const e=p.useContext(eP);if(e===void 0)throw new Error("useLanguage must be used within a LanguageProvider");return e}const Rp=768;function lz(){const[e,t]=p.useState(void 0);return p.useEffect(()=>{const n=window.matchMedia(`(max-width: ${Rp-1}px)`),r=()=>{t(window.innerWidth<Rp)};return n.addEventListener("change",r),t(window.innerWidth<Rp),()=>n.removeEventListener("change",r)},[]),!!e}const Xy=$o("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Te=p.forwardRef(({className:e,variant:t,size:n,asChild:r=!1,...s},i)=>{const a=r?Do:"button";return l.jsx(a,{className:ee(Xy({variant:t,size:n,className:e})),ref:i,...s})});Te.displayName="Button";const Gn=p.forwardRef(({className:e,type:t,...n},r)=>l.jsx("input",{type:t,className:ee("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:r,...n}));Gn.displayName="Input";var cz="Separator",gb="horizontal",uz=["horizontal","vertical"],tP=p.forwardRef((e,t)=>{const{decorative:n,orientation:r=gb,...s}=e,i=dz(r)?r:gb,c=n?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return l.jsx(be.div,{"data-orientation":i,...c,...s,ref:t})});tP.displayName=cz;function dz(e){return uz.includes(e)}var nP=tP;const Qy=p.forwardRef(({className:e,orientation:t="horizontal",decorative:n=!0,...r},s)=>l.jsx(nP,{ref:s,decorative:n,orientation:t,className:ee("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...r}));Qy.displayName=nP.displayName;var Ap="focusScope.autoFocusOnMount",Op="focusScope.autoFocusOnUnmount",vb={bubbles:!1,cancelable:!0},hz="FocusScope",Gf=p.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...a}=e,[c,d]=p.useState(null),h=kt(s),m=kt(i),g=p.useRef(null),y=Fe(t,x=>d(x)),v=p.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;p.useEffect(()=>{if(r){let x=function(k){if(v.paused||!c)return;const P=k.target;c.contains(P)?g.current=P:Js(g.current,{select:!0})},S=function(k){if(v.paused||!c)return;const P=k.relatedTarget;P!==null&&(c.contains(P)||Js(g.current,{select:!0}))},N=function(k){if(document.activeElement===document.body)for(const T of k)T.removedNodes.length>0&&Js(c)};document.addEventListener("focusin",x),document.addEventListener("focusout",S);const w=new MutationObserver(N);return c&&w.observe(c,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",x),document.removeEventListener("focusout",S),w.disconnect()}}},[r,c,v.paused]),p.useEffect(()=>{if(c){xb.add(v);const x=document.activeElement;if(!c.contains(x)){const N=new CustomEvent(Ap,vb);c.addEventListener(Ap,h),c.dispatchEvent(N),N.defaultPrevented||(fz(yz(rP(c)),{select:!0}),document.activeElement===x&&Js(c))}return()=>{c.removeEventListener(Ap,h),setTimeout(()=>{const N=new CustomEvent(Op,vb);c.addEventListener(Op,m),c.dispatchEvent(N),N.defaultPrevented||Js(x??document.body,{select:!0}),c.removeEventListener(Op,m),xb.remove(v)},0)}}},[c,h,m,v]);const b=p.useCallback(x=>{if(!n&&!r||v.paused)return;const S=x.key==="Tab"&&!x.altKey&&!x.ctrlKey&&!x.metaKey,N=document.activeElement;if(S&&N){const w=x.currentTarget,[k,P]=mz(w);k&&P?!x.shiftKey&&N===P?(x.preventDefault(),n&&Js(k,{select:!0})):x.shiftKey&&N===k&&(x.preventDefault(),n&&Js(P,{select:!0})):N===w&&x.preventDefault()}},[n,r,v.paused]);return l.jsx(be.div,{tabIndex:-1,...a,ref:y,onKeyDown:b})});Gf.displayName=hz;function fz(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(Js(r,{select:t}),document.activeElement!==n)return}function mz(e){const t=rP(e),n=yb(t,e),r=yb(t.reverse(),e);return[n,r]}function rP(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function yb(e,t){for(const n of e)if(!pz(n,{upTo:t}))return n}function pz(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function gz(e){return e instanceof HTMLInputElement&&"select"in e}function Js(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&gz(e)&&t&&e.select()}}var xb=vz();function vz(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=_b(e,t),e.unshift(t)},remove(t){var n;e=_b(e,t),(n=e[0])==null||n.resume()}}}function _b(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function yz(e){return e.filter(t=>t.tagName!=="A")}var Lp=0;function Jy(){p.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??wb()),document.body.insertAdjacentElement("beforeend",e[1]??wb()),Lp++,()=>{Lp===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),Lp--}},[])}function wb(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Xd="right-scroll-bar-position",Qd="width-before-scroll-bar",xz="with-scroll-bars-hidden",_z="--removed-body-scroll-bar-size";function Mp(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function wz(e,t){var n=p.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=t,n.facade}var bz=typeof window<"u"?p.useLayoutEffect:p.useEffect,bb=new WeakMap;function Sz(e,t){var n=wz(null,function(r){return e.forEach(function(s){return Mp(s,r)})});return bz(function(){var r=bb.get(n);if(r){var s=new Set(r),i=new Set(e),a=n.current;s.forEach(function(c){i.has(c)||Mp(c,null)}),i.forEach(function(c){s.has(c)||Mp(c,a)})}bb.set(n,e)},[e]),n}function kz(e){return e}function Nz(e,t){t===void 0&&(t=kz);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(i){var a=t(i,r);return n.push(a),function(){n=n.filter(function(c){return c!==a})}},assignSyncMedium:function(i){for(r=!0;n.length;){var a=n;n=[],a.forEach(i)}n={push:function(c){return i(c)},filter:function(){return n}}},assignMedium:function(i){r=!0;var a=[];if(n.length){var c=n;n=[],c.forEach(i),a=n}var d=function(){var m=a;a=[],m.forEach(i)},h=function(){return Promise.resolve().then(d)};h(),n={push:function(m){a.push(m),h()},filter:function(m){return a=a.filter(m),n}}}};return s}function Cz(e){e===void 0&&(e={});var t=Nz(null);return t.options=ss({async:!0,ssr:!1},e),t}var sP=function(e){var t=e.sideCar,n=Tl(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return p.createElement(r,ss({},n))};sP.isSideCarExport=!0;function Pz(e,t){return e.useMedium(t),sP}var iP=Cz(),Ip=function(){},Zf=p.forwardRef(function(e,t){var n=p.useRef(null),r=p.useState({onScrollCapture:Ip,onWheelCapture:Ip,onTouchMoveCapture:Ip}),s=r[0],i=r[1],a=e.forwardProps,c=e.children,d=e.className,h=e.removeScrollBar,m=e.enabled,g=e.shards,y=e.sideCar,v=e.noRelative,b=e.noIsolation,x=e.inert,S=e.allowPinchZoom,N=e.as,w=N===void 0?"div":N,k=e.gapMode,P=Tl(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),T=y,R=Sz([n,t]),E=ss(ss({},P),s);return p.createElement(p.Fragment,null,m&&p.createElement(T,{sideCar:iP,removeScrollBar:h,shards:g,noRelative:v,noIsolation:b,inert:x,setCallbacks:i,allowPinchZoom:!!S,lockRef:n,gapMode:k}),a?p.cloneElement(p.Children.only(c),ss(ss({},E),{ref:R})):p.createElement(w,ss({},E,{className:d,ref:R}),c))});Zf.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Zf.classNames={fullWidth:Qd,zeroRight:Xd};var jz=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function Tz(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=jz();return t&&e.setAttribute("nonce",t),e}function Ez(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function Rz(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var Az=function(){var e=0,t=null;return{add:function(n){e==0&&(t=Tz())&&(Ez(t,n),Rz(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},Oz=function(){var e=Az();return function(t,n){p.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},oP=function(){var e=Oz(),t=function(n){var r=n.styles,s=n.dynamic;return e(r,s),null};return t},Lz={left:0,top:0,right:0,gap:0},Dp=function(e){return parseInt(e||"",10)||0},Mz=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],s=t[e==="padding"?"paddingRight":"marginRight"];return[Dp(n),Dp(r),Dp(s)]},Iz=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return Lz;var t=Mz(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},Dz=oP(),Wa="data-scroll-locked",$z=function(e,t,n,r){var s=e.left,i=e.top,a=e.right,c=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(xz,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(c,"px ").concat(r,`;
  }
  body[`).concat(Wa,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(a,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(c,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(c,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Xd,` {
    right: `).concat(c,"px ").concat(r,`;
  }
  
  .`).concat(Qd,` {
    margin-right: `).concat(c,"px ").concat(r,`;
  }
  
  .`).concat(Xd," .").concat(Xd,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Qd," .").concat(Qd,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Wa,`] {
    `).concat(_z,": ").concat(c,`px;
  }
`)},Sb=function(){var e=parseInt(document.body.getAttribute(Wa)||"0",10);return isFinite(e)?e:0},Fz=function(){p.useEffect(function(){return document.body.setAttribute(Wa,(Sb()+1).toString()),function(){var e=Sb()-1;e<=0?document.body.removeAttribute(Wa):document.body.setAttribute(Wa,e.toString())}},[])},zz=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,s=r===void 0?"margin":r;Fz();var i=p.useMemo(function(){return Iz(s)},[s]);return p.createElement(Dz,{styles:$z(i,!t,s,n?"":"!important")})},dv=!1;if(typeof window<"u")try{var Rd=Object.defineProperty({},"passive",{get:function(){return dv=!0,!0}});window.addEventListener("test",Rd,Rd),window.removeEventListener("test",Rd,Rd)}catch{dv=!1}var ua=dv?{passive:!1}:!1,Bz=function(e){return e.tagName==="TEXTAREA"},aP=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!Bz(e)&&n[t]==="visible")},Uz=function(e){return aP(e,"overflowY")},Vz=function(e){return aP(e,"overflowX")},kb=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=lP(e,r);if(s){var i=cP(e,r),a=i[1],c=i[2];if(a>c)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},Wz=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},qz=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},lP=function(e,t){return e==="v"?Uz(t):Vz(t)},cP=function(e,t){return e==="v"?Wz(t):qz(t)},Hz=function(e,t){return e==="h"&&t==="rtl"?-1:1},Gz=function(e,t,n,r,s){var i=Hz(e,window.getComputedStyle(t).direction),a=i*r,c=n.target,d=t.contains(c),h=!1,m=a>0,g=0,y=0;do{if(!c)break;var v=cP(e,c),b=v[0],x=v[1],S=v[2],N=x-S-i*b;(b||N)&&lP(e,c)&&(g+=N,y+=b);var w=c.parentNode;c=w&&w.nodeType===Node.DOCUMENT_FRAGMENT_NODE?w.host:w}while(!d&&c!==document.body||d&&(t.contains(c)||t===c));return(m&&(Math.abs(g)<1||!s)||!m&&(Math.abs(y)<1||!s))&&(h=!0),h},Ad=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},Nb=function(e){return[e.deltaX,e.deltaY]},Cb=function(e){return e&&"current"in e?e.current:e},Zz=function(e,t){return e[0]===t[0]&&e[1]===t[1]},Kz=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},Yz=0,da=[];function Xz(e){var t=p.useRef([]),n=p.useRef([0,0]),r=p.useRef(),s=p.useState(Yz++)[0],i=p.useState(oP)[0],a=p.useRef(e);p.useEffect(function(){a.current=e},[e]),p.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var x=p3([e.lockRef.current],(e.shards||[]).map(Cb),!0).filter(Boolean);return x.forEach(function(S){return S.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),x.forEach(function(S){return S.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var c=p.useCallback(function(x,S){if("touches"in x&&x.touches.length===2||x.type==="wheel"&&x.ctrlKey)return!a.current.allowPinchZoom;var N=Ad(x),w=n.current,k="deltaX"in x?x.deltaX:w[0]-N[0],P="deltaY"in x?x.deltaY:w[1]-N[1],T,R=x.target,E=Math.abs(k)>Math.abs(P)?"h":"v";if("touches"in x&&E==="h"&&R.type==="range")return!1;var M=kb(E,R);if(!M)return!0;if(M?T=E:(T=E==="v"?"h":"v",M=kb(E,R)),!M)return!1;if(!r.current&&"changedTouches"in x&&(k||P)&&(r.current=T),!T)return!0;var $=r.current||T;return Gz($,S,x,$==="h"?k:P,!0)},[]),d=p.useCallback(function(x){var S=x;if(!(!da.length||da[da.length-1]!==i)){var N="deltaY"in S?Nb(S):Ad(S),w=t.current.filter(function(T){return T.name===S.type&&(T.target===S.target||S.target===T.shadowParent)&&Zz(T.delta,N)})[0];if(w&&w.should){S.cancelable&&S.preventDefault();return}if(!w){var k=(a.current.shards||[]).map(Cb).filter(Boolean).filter(function(T){return T.contains(S.target)}),P=k.length>0?c(S,k[0]):!a.current.noIsolation;P&&S.cancelable&&S.preventDefault()}}},[]),h=p.useCallback(function(x,S,N,w){var k={name:x,delta:S,target:N,should:w,shadowParent:Qz(N)};t.current.push(k),setTimeout(function(){t.current=t.current.filter(function(P){return P!==k})},1)},[]),m=p.useCallback(function(x){n.current=Ad(x),r.current=void 0},[]),g=p.useCallback(function(x){h(x.type,Nb(x),x.target,c(x,e.lockRef.current))},[]),y=p.useCallback(function(x){h(x.type,Ad(x),x.target,c(x,e.lockRef.current))},[]);p.useEffect(function(){return da.push(i),e.setCallbacks({onScrollCapture:g,onWheelCapture:g,onTouchMoveCapture:y}),document.addEventListener("wheel",d,ua),document.addEventListener("touchmove",d,ua),document.addEventListener("touchstart",m,ua),function(){da=da.filter(function(x){return x!==i}),document.removeEventListener("wheel",d,ua),document.removeEventListener("touchmove",d,ua),document.removeEventListener("touchstart",m,ua)}},[]);var v=e.removeScrollBar,b=e.inert;return p.createElement(p.Fragment,null,b?p.createElement(i,{styles:Kz(s)}):null,v?p.createElement(zz,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function Qz(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const Jz=Pz(iP,Xz);var Kf=p.forwardRef(function(e,t){return p.createElement(Zf,ss({},e,{ref:t,sideCar:Jz}))});Kf.classNames=Zf.classNames;var eB=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},ha=new WeakMap,Od=new WeakMap,Ld={},$p=0,uP=function(e){return e&&(e.host||uP(e.parentNode))},tB=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=uP(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},nB=function(e,t,n,r){var s=tB(t,Array.isArray(e)?e:[e]);Ld[n]||(Ld[n]=new WeakMap);var i=Ld[n],a=[],c=new Set,d=new Set(s),h=function(g){!g||c.has(g)||(c.add(g),h(g.parentNode))};s.forEach(h);var m=function(g){!g||d.has(g)||Array.prototype.forEach.call(g.children,function(y){if(c.has(y))m(y);else try{var v=y.getAttribute(r),b=v!==null&&v!=="false",x=(ha.get(y)||0)+1,S=(i.get(y)||0)+1;ha.set(y,x),i.set(y,S),a.push(y),x===1&&b&&Od.set(y,!0),S===1&&y.setAttribute(n,"true"),b||y.setAttribute(r,"true")}catch(N){console.error("aria-hidden: cannot operate on ",y,N)}})};return m(t),c.clear(),$p++,function(){a.forEach(function(g){var y=ha.get(g)-1,v=i.get(g)-1;ha.set(g,y),i.set(g,v),y||(Od.has(g)||g.removeAttribute(r),Od.delete(g)),v||g.removeAttribute(n)}),$p--,$p||(ha=new WeakMap,ha=new WeakMap,Od=new WeakMap,Ld={})}},ex=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),s=eB(e);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live]"))),nB(r,s,n,"aria-hidden")):function(){return null}},Yf="Dialog",[dP,hP]=ln(Yf),[rB,Ur]=dP(Yf),fP=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:s,onOpenChange:i,modal:a=!0}=e,c=p.useRef(null),d=p.useRef(null),[h,m]=$s({prop:r,defaultProp:s??!1,onChange:i,caller:Yf});return l.jsx(rB,{scope:t,triggerRef:c,contentRef:d,contentId:$r(),titleId:$r(),descriptionId:$r(),open:h,onOpenChange:m,onOpenToggle:p.useCallback(()=>m(g=>!g),[m]),modal:a,children:n})};fP.displayName=Yf;var mP="DialogTrigger",pP=p.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=Ur(mP,n),i=Fe(t,s.triggerRef);return l.jsx(be.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":rx(s.open),...r,ref:i,onClick:ae(e.onClick,s.onOpenToggle)})});pP.displayName=mP;var tx="DialogPortal",[sB,gP]=dP(tx,{forceMount:void 0}),vP=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:s}=e,i=Ur(tx,t);return l.jsx(sB,{scope:t,forceMount:n,children:p.Children.map(r,a=>l.jsx(cn,{present:n||i.open,children:l.jsx(wu,{asChild:!0,container:s,children:a})}))})};vP.displayName=tx;var Uh="DialogOverlay",yP=p.forwardRef((e,t)=>{const n=gP(Uh,e.__scopeDialog),{forceMount:r=n.forceMount,...s}=e,i=Ur(Uh,e.__scopeDialog);return i.modal?l.jsx(cn,{present:r||i.open,children:l.jsx(oB,{...s,ref:t})}):null});yP.displayName=Uh;var iB=Po("DialogOverlay.RemoveScroll"),oB=p.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=Ur(Uh,n);return l.jsx(Kf,{as:iB,allowPinchZoom:!0,shards:[s.contentRef],children:l.jsx(be.div,{"data-state":rx(s.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),Eo="DialogContent",xP=p.forwardRef((e,t)=>{const n=gP(Eo,e.__scopeDialog),{forceMount:r=n.forceMount,...s}=e,i=Ur(Eo,e.__scopeDialog);return l.jsx(cn,{present:r||i.open,children:i.modal?l.jsx(aB,{...s,ref:t}):l.jsx(lB,{...s,ref:t})})});xP.displayName=Eo;var aB=p.forwardRef((e,t)=>{const n=Ur(Eo,e.__scopeDialog),r=p.useRef(null),s=Fe(t,n.contentRef,r);return p.useEffect(()=>{const i=r.current;if(i)return ex(i)},[]),l.jsx(_P,{...e,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ae(e.onCloseAutoFocus,i=>{var a;i.preventDefault(),(a=n.triggerRef.current)==null||a.focus()}),onPointerDownOutside:ae(e.onPointerDownOutside,i=>{const a=i.detail.originalEvent,c=a.button===0&&a.ctrlKey===!0;(a.button===2||c)&&i.preventDefault()}),onFocusOutside:ae(e.onFocusOutside,i=>i.preventDefault())})}),lB=p.forwardRef((e,t)=>{const n=Ur(Eo,e.__scopeDialog),r=p.useRef(!1),s=p.useRef(!1);return l.jsx(_P,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var a,c;(a=e.onCloseAutoFocus)==null||a.call(e,i),i.defaultPrevented||(r.current||(c=n.triggerRef.current)==null||c.focus(),i.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:i=>{var d,h;(d=e.onInteractOutside)==null||d.call(e,i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const a=i.target;((h=n.triggerRef.current)==null?void 0:h.contains(a))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),_P=p.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:i,...a}=e,c=Ur(Eo,n),d=p.useRef(null),h=Fe(t,d);return Jy(),l.jsxs(l.Fragment,{children:[l.jsx(Gf,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:i,children:l.jsx(bl,{role:"dialog",id:c.contentId,"aria-describedby":c.descriptionId,"aria-labelledby":c.titleId,"data-state":rx(c.open),...a,ref:h,onDismiss:()=>c.onOpenChange(!1)})}),l.jsxs(l.Fragment,{children:[l.jsx(uB,{titleId:c.titleId}),l.jsx(hB,{contentRef:d,descriptionId:c.descriptionId})]})]})}),nx="DialogTitle",wP=p.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=Ur(nx,n);return l.jsx(be.h2,{id:s.titleId,...r,ref:t})});wP.displayName=nx;var bP="DialogDescription",SP=p.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=Ur(bP,n);return l.jsx(be.p,{id:s.descriptionId,...r,ref:t})});SP.displayName=bP;var kP="DialogClose",NP=p.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=Ur(kP,n);return l.jsx(be.button,{type:"button",...r,ref:t,onClick:ae(e.onClick,()=>s.onOpenChange(!1))})});NP.displayName=kP;function rx(e){return e?"open":"closed"}var CP="DialogTitleWarning",[cB,PP]=kL(CP,{contentName:Eo,titleName:nx,docsSlug:"dialog"}),uB=({titleId:e})=>{const t=PP(CP),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return p.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},dB="DialogDescriptionWarning",hB=({contentRef:e,descriptionId:t})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${PP(dB).contentName}}.`;return p.useEffect(()=>{var i;const s=(i=e.current)==null?void 0:i.getAttribute("aria-describedby");t&&s&&(document.getElementById(t)||console.warn(r))},[r,e,t]),null},sx=fP,jP=pP,ix=vP,Pu=yP,ju=xP,Tu=wP,Eu=SP,Xf=NP;const fB=sx,mB=ix,TP=p.forwardRef(({className:e,...t},n)=>l.jsx(Pu,{className:ee("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:n}));TP.displayName=Pu.displayName;const pB=$o("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),EP=p.forwardRef(({side:e="right",className:t,children:n,...r},s)=>l.jsxs(mB,{children:[l.jsx(TP,{}),l.jsxs(ju,{ref:s,className:ee(pB({side:e}),t),...r,children:[n,l.jsxs(Xf,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-secondary hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[l.jsx(Ws,{className:"h-4 w-4"}),l.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));EP.displayName=ju.displayName;const gB=p.forwardRef(({className:e,...t},n)=>l.jsx(Tu,{ref:n,className:ee("text-lg font-semibold text-foreground",e),...t}));gB.displayName=Tu.displayName;const vB=p.forwardRef(({className:e,...t},n)=>l.jsx(Eu,{ref:n,className:ee("text-sm text-muted-foreground",e),...t}));vB.displayName=Eu.displayName;function Pb({className:e,...t}){return l.jsx("div",{className:ee("animate-pulse rounded-md bg-muted",e),...t})}const yB="sidebar:state",xB=60*60*24*7,_B="16rem",wB="18rem",bB="3rem",SB="b",RP=p.createContext(null);function Ru(){const e=p.useContext(RP);if(!e)throw new Error("useSidebar must be used within a SidebarProvider.");return e}const AP=p.forwardRef(({defaultOpen:e=!0,open:t,onOpenChange:n,className:r,style:s,children:i,...a},c)=>{const d=lz(),[h,m]=p.useState(!1),[g,y]=p.useState(e),v=t??g,b=p.useCallback(w=>{const k=typeof w=="function"?w(v):w;n?n(k):y(k),document.cookie=`${yB}=${k}; path=/; max-age=${xB}`},[n,v]),x=p.useCallback(()=>d?m(w=>!w):b(w=>!w),[d,b,m]);p.useEffect(()=>{const w=k=>{k.key===SB&&(k.metaKey||k.ctrlKey)&&(k.preventDefault(),x())};return window.addEventListener("keydown",w),()=>window.removeEventListener("keydown",w)},[x]);const S=v?"expanded":"collapsed",N=p.useMemo(()=>({state:S,open:v,setOpen:b,isMobile:d,openMobile:h,setOpenMobile:m,toggleSidebar:x}),[S,v,b,d,h,m,x]);return l.jsx(RP.Provider,{value:N,children:l.jsx(vC,{delayDuration:0,children:l.jsx("div",{style:{"--sidebar-width":_B,"--sidebar-width-icon":bB,...s},className:ee("group/sidebar-wrapper flex min-h-svh w-full has-[[data-variant=inset]]:bg-sidebar",r),ref:c,...a,children:i})})})});AP.displayName="SidebarProvider";const OP=p.forwardRef(({side:e="left",variant:t="sidebar",collapsible:n="offcanvas",className:r,children:s,...i},a)=>{const{isMobile:c,state:d,openMobile:h,setOpenMobile:m}=Ru();return n==="none"?l.jsx("div",{className:ee("flex h-full w-[--sidebar-width] flex-col bg-sidebar text-sidebar-foreground",r),ref:a,...i,children:s}):c?l.jsx(fB,{open:h,onOpenChange:m,...i,children:l.jsx(EP,{"data-sidebar":"sidebar","data-mobile":"true",className:"w-[--sidebar-width] bg-sidebar p-0 text-sidebar-foreground [&>button]:hidden",style:{"--sidebar-width":wB},side:e,children:l.jsx("div",{className:"flex h-full w-full flex-col",children:s})})}):l.jsxs("div",{ref:a,className:"group peer hidden text-sidebar-foreground md:block","data-state":d,"data-collapsible":d==="collapsed"?n:"","data-variant":t,"data-side":e,children:[l.jsx("div",{className:ee("relative h-svh w-[--sidebar-width] bg-transparent transition-[width] duration-200 ease-linear","group-data-[collapsible=offcanvas]:w-0","group-data-[side=right]:rotate-180",t==="floating"||t==="inset"?"group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4))]":"group-data-[collapsible=icon]:w-[--sidebar-width-icon]")}),l.jsx("div",{className:ee("fixed inset-y-0 z-10 hidden h-svh w-[--sidebar-width] transition-[left,right,width] duration-200 ease-linear md:flex",e==="left"?"left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)]":"right-0 group-data-[collapsible=offcanvas]:right-[calc(var(--sidebar-width)*-1)]",t==="floating"||t==="inset"?"p-2 group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4)_+2px)]":"group-data-[collapsible=icon]:w-[--sidebar-width-icon] group-data-[side=left]:border-r group-data-[side=right]:border-l",r),...i,children:l.jsx("div",{"data-sidebar":"sidebar",className:"flex h-full w-full flex-col bg-sidebar group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:border-sidebar-border group-data-[variant=floating]:shadow",children:s})})]})});OP.displayName="Sidebar";const LP=p.forwardRef(({className:e,onClick:t,...n},r)=>{const{toggleSidebar:s}=Ru();return l.jsxs(Te,{ref:r,"data-sidebar":"trigger",variant:"ghost",size:"icon",className:ee("h-7 w-7",e),onClick:i=>{t==null||t(i),s()},...n,children:[l.jsx(jM,{}),l.jsx("span",{className:"sr-only",children:"Toggle Sidebar"})]})});LP.displayName="SidebarTrigger";const kB=p.forwardRef(({className:e,...t},n)=>{const{toggleSidebar:r}=Ru();return l.jsx("button",{ref:n,"data-sidebar":"rail","aria-label":"Toggle Sidebar",tabIndex:-1,onClick:r,title:"Toggle Sidebar",className:ee("absolute inset-y-0 z-20 hidden w-4 -translate-x-1/2 transition-all ease-linear after:absolute after:inset-y-0 after:left-1/2 after:w-[2px] group-data-[side=left]:-right-4 group-data-[side=right]:left-0 hover:after:bg-sidebar-border sm:flex","[[data-side=left]_&]:cursor-w-resize [[data-side=right]_&]:cursor-e-resize","[[data-side=left][data-state=collapsed]_&]:cursor-e-resize [[data-side=right][data-state=collapsed]_&]:cursor-w-resize","group-data-[collapsible=offcanvas]:translate-x-0 group-data-[collapsible=offcanvas]:after:left-full group-data-[collapsible=offcanvas]:hover:bg-sidebar","[[data-side=left][data-collapsible=offcanvas]_&]:-right-2","[[data-side=right][data-collapsible=offcanvas]_&]:-left-2",e),...t})});kB.displayName="SidebarRail";const MP=p.forwardRef(({className:e,...t},n)=>l.jsx("main",{ref:n,className:ee("relative flex min-h-svh flex-1 flex-col bg-background","peer-data-[variant=inset]:min-h-[calc(100svh-theme(spacing.4))] md:peer-data-[variant=inset]:m-2 md:peer-data-[state=collapsed]:peer-data-[variant=inset]:ml-2 md:peer-data-[variant=inset]:ml-0 md:peer-data-[variant=inset]:rounded-xl md:peer-data-[variant=inset]:shadow",e),...t}));MP.displayName="SidebarInset";const NB=p.forwardRef(({className:e,...t},n)=>l.jsx(Gn,{ref:n,"data-sidebar":"input",className:ee("h-8 w-full bg-background shadow-none focus-visible:ring-2 focus-visible:ring-sidebar-ring",e),...t}));NB.displayName="SidebarInput";const IP=p.forwardRef(({className:e,...t},n)=>l.jsx("div",{ref:n,"data-sidebar":"header",className:ee("flex flex-col gap-2 p-2",e),...t}));IP.displayName="SidebarHeader";const DP=p.forwardRef(({className:e,...t},n)=>l.jsx("div",{ref:n,"data-sidebar":"footer",className:ee("flex flex-col gap-2 p-2",e),...t}));DP.displayName="SidebarFooter";const CB=p.forwardRef(({className:e,...t},n)=>l.jsx(Qy,{ref:n,"data-sidebar":"separator",className:ee("mx-2 w-auto bg-sidebar-border",e),...t}));CB.displayName="SidebarSeparator";const $P=p.forwardRef(({className:e,...t},n)=>l.jsx("div",{ref:n,"data-sidebar":"content",className:ee("flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden",e),...t}));$P.displayName="SidebarContent";const FP=p.forwardRef(({className:e,...t},n)=>l.jsx("div",{ref:n,"data-sidebar":"group",className:ee("relative flex w-full min-w-0 flex-col p-2",e),...t}));FP.displayName="SidebarGroup";const zP=p.forwardRef(({className:e,asChild:t=!1,...n},r)=>{const s=t?Do:"div";return l.jsx(s,{ref:r,"data-sidebar":"group-label",className:ee("flex h-8 shrink-0 items-center rounded-md px-2 text-xs font-medium text-sidebar-foreground/70 outline-none ring-sidebar-ring transition-[margin,opa] duration-200 ease-linear focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0",e),...n})});zP.displayName="SidebarGroupLabel";const PB=p.forwardRef(({className:e,asChild:t=!1,...n},r)=>{const s=t?Do:"button";return l.jsx(s,{ref:r,"data-sidebar":"group-action",className:ee("absolute right-3 top-3.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","after:absolute after:-inset-2 after:md:hidden","group-data-[collapsible=icon]:hidden",e),...n})});PB.displayName="SidebarGroupAction";const BP=p.forwardRef(({className:e,...t},n)=>l.jsx("div",{ref:n,"data-sidebar":"group-content",className:ee("w-full text-sm",e),...t}));BP.displayName="SidebarGroupContent";const UP=p.forwardRef(({className:e,...t},n)=>l.jsx("ul",{ref:n,"data-sidebar":"menu",className:ee("flex w-full min-w-0 flex-col gap-1",e),...t}));UP.displayName="SidebarMenu";const VP=p.forwardRef(({className:e,...t},n)=>l.jsx("li",{ref:n,"data-sidebar":"menu-item",className:ee("group/menu-item relative",e),...t}));VP.displayName="SidebarMenuItem";const jB=$o("peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left text-sm outline-none ring-sidebar-ring transition-[width,height,padding] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-[[data-sidebar=menu-action]]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:!size-8 group-data-[collapsible=icon]:!p-2 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0",{variants:{variant:{default:"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground",outline:"bg-background shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:shadow-[0_0_0_1px_hsl(var(--sidebar-accent))]"},size:{default:"h-8 text-sm",sm:"h-7 text-xs",lg:"h-12 text-sm group-data-[collapsible=icon]:!p-0"}},defaultVariants:{variant:"default",size:"default"}}),WP=p.forwardRef(({asChild:e=!1,isActive:t=!1,variant:n="default",size:r="default",tooltip:s,className:i,...a},c)=>{const d=e?Do:"button",{isMobile:h,state:m}=Ru(),g=l.jsx(d,{ref:c,"data-sidebar":"menu-button","data-size":r,"data-active":t,className:ee(jB({variant:n,size:r}),i),...a});return s?(typeof s=="string"&&(s={children:s}),l.jsxs(Ji,{children:[l.jsx(eo,{asChild:!0,children:g}),l.jsx(ni,{side:"right",align:"center",hidden:m!=="collapsed"||h,...s})]})):g});WP.displayName="SidebarMenuButton";const TB=p.forwardRef(({className:e,asChild:t=!1,showOnHover:n=!1,...r},s)=>{const i=t?Do:"button";return l.jsx(i,{ref:s,"data-sidebar":"menu-action",className:ee("absolute right-1 top-1.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform peer-hover/menu-button:text-sidebar-accent-foreground hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","after:absolute after:-inset-2 after:md:hidden","peer-data-[size=sm]/menu-button:top-1","peer-data-[size=default]/menu-button:top-1.5","peer-data-[size=lg]/menu-button:top-2.5","group-data-[collapsible=icon]:hidden",n&&"group-focus-within/menu-item:opacity-100 group-hover/menu-item:opacity-100 data-[state=open]:opacity-100 peer-data-[active=true]/menu-button:text-sidebar-accent-foreground md:opacity-0",e),...r})});TB.displayName="SidebarMenuAction";const EB=p.forwardRef(({className:e,...t},n)=>l.jsx("div",{ref:n,"data-sidebar":"menu-badge",className:ee("pointer-events-none absolute right-1 flex h-5 min-w-5 select-none items-center justify-center rounded-md px-1 text-xs font-medium tabular-nums text-sidebar-foreground","peer-hover/menu-button:text-sidebar-accent-foreground peer-data-[active=true]/menu-button:text-sidebar-accent-foreground","peer-data-[size=sm]/menu-button:top-1","peer-data-[size=default]/menu-button:top-1.5","peer-data-[size=lg]/menu-button:top-2.5","group-data-[collapsible=icon]:hidden",e),...t}));EB.displayName="SidebarMenuBadge";const RB=p.forwardRef(({className:e,showIcon:t=!1,...n},r)=>{const s=p.useMemo(()=>`${Math.floor(Math.random()*40)+50}%`,[]);return l.jsxs("div",{ref:r,"data-sidebar":"menu-skeleton",className:ee("flex h-8 items-center gap-2 rounded-md px-2",e),...n,children:[t&&l.jsx(Pb,{className:"size-4 rounded-md","data-sidebar":"menu-skeleton-icon"}),l.jsx(Pb,{className:"h-4 max-w-[--skeleton-width] flex-1","data-sidebar":"menu-skeleton-text",style:{"--skeleton-width":s}})]})});RB.displayName="SidebarMenuSkeleton";const AB=p.forwardRef(({className:e,...t},n)=>l.jsx("ul",{ref:n,"data-sidebar":"menu-sub",className:ee("mx-3.5 flex min-w-0 translate-x-px flex-col gap-1 border-l border-sidebar-border px-2.5 py-0.5","group-data-[collapsible=icon]:hidden",e),...t}));AB.displayName="SidebarMenuSub";const OB=p.forwardRef(({...e},t)=>l.jsx("li",{ref:t,...e}));OB.displayName="SidebarMenuSubItem";const LB=p.forwardRef(({asChild:e=!1,size:t="md",isActive:n,className:r,...s},i)=>{const a=e?Do:"a";return l.jsx(a,{ref:i,"data-sidebar":"menu-sub-button","data-size":t,"data-active":n,className:ee("flex h-7 min-w-0 -translate-x-px items-center gap-2 overflow-hidden rounded-md px-2 text-sidebar-foreground outline-none ring-sidebar-ring aria-disabled:pointer-events-none aria-disabled:opacity-50 hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0 [&>svg]:text-sidebar-accent-foreground","data-[active=true]:bg-sidebar-accent data-[active=true]:text-sidebar-accent-foreground",t==="sm"&&"text-xs",t==="md"&&"text-sm","group-data-[collapsible=icon]:hidden",r),...s})});LB.displayName="SidebarMenuSubButton";const qP=p.forwardRef(({className:e,activeClassName:t,pendingClassName:n,to:r,...s},i)=>l.jsx(u3,{ref:i,to:r,className:({isActive:a,isPending:c})=>ee(e,a&&t,c&&n),...s}));qP.displayName="NavLink";function MB(){const{state:e}=Ru(),t=e==="collapsed",n=zi(),{t:r}=zt(),s=[{title:r.nav.aqiMap,url:"/",icon:Ph,emoji:""},{title:r.nav.myProgress,url:"/progress",icon:Fs,emoji:""},{title:r.nav.health,url:"/health",icon:ai,emoji:""},{title:r.nav.community,url:"/community",icon:ll,emoji:""},{title:r.nav.districtBattle,url:"/districts",icon:PN,emoji:""},{title:r.nav.quickActions,url:"/actions",icon:EN,emoji:""}];return l.jsxs(OP,{collapsible:"icon",className:"border-r border-border/50",children:[l.jsx(IP,{className:"p-4",children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-primary to-secondary flex items-center justify-center text-xl",children:""}),!t&&l.jsxs("div",{children:[l.jsx("h1",{className:"font-display font-bold text-lg",children:r.app.name}),l.jsx("p",{className:"text-xs text-muted-foreground",children:r.app.tagline})]})]})}),l.jsx($P,{children:l.jsxs(FP,{children:[l.jsx(zP,{children:r.nav.navigation}),l.jsx(BP,{children:l.jsx(UP,{children:s.map(i=>l.jsx(VP,{children:l.jsx(WP,{asChild:!0,isActive:n.pathname===i.url,tooltip:i.title,children:l.jsxs(qP,{to:i.url,className:"flex items-center gap-3 px-3 py-2 rounded-lg transition-colors hover:bg-muted/50",activeClassName:"bg-primary/10 text-primary font-medium",children:[l.jsx("span",{className:"text-lg",children:i.emoji}),!t&&l.jsx("span",{children:i.title})]})})},i.url))})})]})}),l.jsx(DP,{className:"p-4",children:!t&&l.jsxs("div",{className:"glass-card rounded-xl p-3 text-center",children:[l.jsx("p",{className:"text-xs text-muted-foreground",children:r.app.yourContribution}),l.jsx("p",{className:"font-display font-bold text-primary",children:"127  CO"}),l.jsx("p",{className:"text-xs text-muted-foreground",children:r.app.prevented})]})})]})}var HP={exports:{}},GP={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hl=p;function IB(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var DB=typeof Object.is=="function"?Object.is:IB,$B=hl.useState,FB=hl.useEffect,zB=hl.useLayoutEffect,BB=hl.useDebugValue;function UB(e,t){var n=t(),r=$B({inst:{value:n,getSnapshot:t}}),s=r[0].inst,i=r[1];return zB(function(){s.value=n,s.getSnapshot=t,Fp(s)&&i({inst:s})},[e,n,t]),FB(function(){return Fp(s)&&i({inst:s}),e(function(){Fp(s)&&i({inst:s})})},[e]),BB(n),n}function Fp(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!DB(e,n)}catch{return!0}}function VB(e,t){return t()}var WB=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?VB:UB;GP.useSyncExternalStore=hl.useSyncExternalStore!==void 0?hl.useSyncExternalStore:WB;HP.exports=GP;var qB=HP.exports;function HB(){return qB.useSyncExternalStore(GB,()=>!0,()=>!1)}function GB(){return()=>{}}var ox="Avatar",[ZB,nq]=ln(ox),[KB,ZP]=ZB(ox),KP=p.forwardRef((e,t)=>{const{__scopeAvatar:n,...r}=e,[s,i]=p.useState("idle");return l.jsx(KB,{scope:n,imageLoadingStatus:s,onImageLoadingStatusChange:i,children:l.jsx(be.span,{...r,ref:t})})});KP.displayName=ox;var YP="AvatarImage",XP=p.forwardRef((e,t)=>{const{__scopeAvatar:n,src:r,onLoadingStatusChange:s=()=>{},...i}=e,a=ZP(YP,n),c=YB(r,i),d=kt(h=>{s(h),a.onImageLoadingStatusChange(h)});return Et(()=>{c!=="idle"&&d(c)},[c,d]),c==="loaded"?l.jsx(be.img,{...i,ref:t,src:r}):null});XP.displayName=YP;var QP="AvatarFallback",JP=p.forwardRef((e,t)=>{const{__scopeAvatar:n,delayMs:r,...s}=e,i=ZP(QP,n),[a,c]=p.useState(r===void 0);return p.useEffect(()=>{if(r!==void 0){const d=window.setTimeout(()=>c(!0),r);return()=>window.clearTimeout(d)}},[r]),a&&i.imageLoadingStatus!=="loaded"?l.jsx(be.span,{...s,ref:t}):null});JP.displayName=QP;function jb(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function YB(e,{referrerPolicy:t,crossOrigin:n}){const r=HB(),s=p.useRef(null),i=r?(s.current||(s.current=new window.Image),s.current):null,[a,c]=p.useState(()=>jb(i,e));return Et(()=>{c(jb(i,e))},[i,e]),Et(()=>{const d=g=>()=>{c(g)};if(!i)return;const h=d("loaded"),m=d("error");return i.addEventListener("load",h),i.addEventListener("error",m),t&&(i.referrerPolicy=t),typeof n=="string"&&(i.crossOrigin=n),()=>{i.removeEventListener("load",h),i.removeEventListener("error",m)}},[i,n,t]),a}var ej=KP,tj=XP,nj=JP;const ax=p.forwardRef(({className:e,...t},n)=>l.jsx(ej,{ref:n,className:ee("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));ax.displayName=ej.displayName;const lx=p.forwardRef(({className:e,...t},n)=>l.jsx(tj,{ref:n,className:ee("aspect-square h-full w-full",e),...t}));lx.displayName=tj.displayName;const cx=p.forwardRef(({className:e,...t},n)=>l.jsx(nj,{ref:n,className:ee("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));cx.displayName=nj.displayName;var XB=p.createContext(void 0);function Rl(e){const t=p.useContext(XB);return e||t||"ltr"}var zp="rovingFocusGroup.onEntryFocus",QB={bubbles:!1,cancelable:!0},Au="RovingFocusGroup",[hv,rj,JB]=Cf(Au),[e8,Al]=ln(Au,[JB]),[t8,n8]=e8(Au),sj=p.forwardRef((e,t)=>l.jsx(hv.Provider,{scope:e.__scopeRovingFocusGroup,children:l.jsx(hv.Slot,{scope:e.__scopeRovingFocusGroup,children:l.jsx(r8,{...e,ref:t})})}));sj.displayName=Au;var r8=p.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:i,currentTabStopId:a,defaultCurrentTabStopId:c,onCurrentTabStopIdChange:d,onEntryFocus:h,preventScrollOnEntryFocus:m=!1,...g}=e,y=p.useRef(null),v=Fe(t,y),b=Rl(i),[x,S]=$s({prop:a,defaultProp:c??null,onChange:d,caller:Au}),[N,w]=p.useState(!1),k=kt(h),P=rj(n),T=p.useRef(!1),[R,E]=p.useState(0);return p.useEffect(()=>{const M=y.current;if(M)return M.addEventListener(zp,k),()=>M.removeEventListener(zp,k)},[k]),l.jsx(t8,{scope:n,orientation:r,dir:b,loop:s,currentTabStopId:x,onItemFocus:p.useCallback(M=>S(M),[S]),onItemShiftTab:p.useCallback(()=>w(!0),[]),onFocusableItemAdd:p.useCallback(()=>E(M=>M+1),[]),onFocusableItemRemove:p.useCallback(()=>E(M=>M-1),[]),children:l.jsx(be.div,{tabIndex:N||R===0?-1:0,"data-orientation":r,...g,ref:v,style:{outline:"none",...e.style},onMouseDown:ae(e.onMouseDown,()=>{T.current=!0}),onFocus:ae(e.onFocus,M=>{const $=!T.current;if(M.target===M.currentTarget&&$&&!N){const V=new CustomEvent(zp,QB);if(M.currentTarget.dispatchEvent(V),!V.defaultPrevented){const Q=P().filter(G=>G.focusable),W=Q.find(G=>G.active),Z=Q.find(G=>G.id===x),H=[W,Z,...Q].filter(Boolean).map(G=>G.ref.current);aj(H,m)}}T.current=!1}),onBlur:ae(e.onBlur,()=>w(!1))})})}),ij="RovingFocusGroupItem",oj=p.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:i,children:a,...c}=e,d=$r(),h=i||d,m=n8(ij,n),g=m.currentTabStopId===h,y=rj(n),{onFocusableItemAdd:v,onFocusableItemRemove:b,currentTabStopId:x}=m;return p.useEffect(()=>{if(r)return v(),()=>b()},[r,v,b]),l.jsx(hv.ItemSlot,{scope:n,id:h,focusable:r,active:s,children:l.jsx(be.span,{tabIndex:g?0:-1,"data-orientation":m.orientation,...c,ref:t,onMouseDown:ae(e.onMouseDown,S=>{r?m.onItemFocus(h):S.preventDefault()}),onFocus:ae(e.onFocus,()=>m.onItemFocus(h)),onKeyDown:ae(e.onKeyDown,S=>{if(S.key==="Tab"&&S.shiftKey){m.onItemShiftTab();return}if(S.target!==S.currentTarget)return;const N=o8(S,m.orientation,m.dir);if(N!==void 0){if(S.metaKey||S.ctrlKey||S.altKey||S.shiftKey)return;S.preventDefault();let k=y().filter(P=>P.focusable).map(P=>P.ref.current);if(N==="last")k.reverse();else if(N==="prev"||N==="next"){N==="prev"&&k.reverse();const P=k.indexOf(S.currentTarget);k=m.loop?a8(k,P+1):k.slice(P+1)}setTimeout(()=>aj(k))}}),children:typeof a=="function"?a({isCurrentTabStop:g,hasTabStop:x!=null}):a})})});oj.displayName=ij;var s8={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function i8(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function o8(e,t,n){const r=i8(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return s8[r]}function aj(e,t=!1){const n=document.activeElement;for(const r of e)if(r===n||(r.focus({preventScroll:t}),document.activeElement!==n))return}function a8(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var ux=sj,dx=oj,fv=["Enter"," "],l8=["ArrowDown","PageUp","Home"],lj=["ArrowUp","PageDown","End"],c8=[...l8,...lj],u8={ltr:[...fv,"ArrowRight"],rtl:[...fv,"ArrowLeft"]},d8={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Ou="Menu",[cu,h8,f8]=Cf(Ou),[zo,cj]=ln(Ou,[f8,Cl,Al]),Qf=Cl(),uj=Al(),[m8,Bo]=zo(Ou),[p8,Lu]=zo(Ou),dj=e=>{const{__scopeMenu:t,open:n=!1,children:r,dir:s,onOpenChange:i,modal:a=!0}=e,c=Qf(t),[d,h]=p.useState(null),m=p.useRef(!1),g=kt(i),y=Rl(s);return p.useEffect(()=>{const v=()=>{m.current=!0,document.addEventListener("pointerdown",b,{capture:!0,once:!0}),document.addEventListener("pointermove",b,{capture:!0,once:!0})},b=()=>m.current=!1;return document.addEventListener("keydown",v,{capture:!0}),()=>{document.removeEventListener("keydown",v,{capture:!0}),document.removeEventListener("pointerdown",b,{capture:!0}),document.removeEventListener("pointermove",b,{capture:!0})}},[]),l.jsx(Uy,{...c,children:l.jsx(m8,{scope:t,open:n,onOpenChange:g,content:d,onContentChange:h,children:l.jsx(p8,{scope:t,onClose:p.useCallback(()=>g(!1),[g]),isUsingKeyboardRef:m,dir:y,modal:a,children:r})})})};dj.displayName=Ou;var g8="MenuAnchor",hx=p.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,s=Qf(n);return l.jsx(Vy,{...s,...r,ref:t})});hx.displayName=g8;var fx="MenuPortal",[v8,hj]=zo(fx,{forceMount:void 0}),fj=e=>{const{__scopeMenu:t,forceMount:n,children:r,container:s}=e,i=Bo(fx,t);return l.jsx(v8,{scope:t,forceMount:n,children:l.jsx(cn,{present:n||i.open,children:l.jsx(wu,{asChild:!0,container:s,children:r})})})};fj.displayName=fx;var dr="MenuContent",[y8,mx]=zo(dr),mj=p.forwardRef((e,t)=>{const n=hj(dr,e.__scopeMenu),{forceMount:r=n.forceMount,...s}=e,i=Bo(dr,e.__scopeMenu),a=Lu(dr,e.__scopeMenu);return l.jsx(cu.Provider,{scope:e.__scopeMenu,children:l.jsx(cn,{present:r||i.open,children:l.jsx(cu.Slot,{scope:e.__scopeMenu,children:a.modal?l.jsx(x8,{...s,ref:t}):l.jsx(_8,{...s,ref:t})})})})}),x8=p.forwardRef((e,t)=>{const n=Bo(dr,e.__scopeMenu),r=p.useRef(null),s=Fe(t,r);return p.useEffect(()=>{const i=r.current;if(i)return ex(i)},[]),l.jsx(px,{...e,ref:s,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:ae(e.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),_8=p.forwardRef((e,t)=>{const n=Bo(dr,e.__scopeMenu);return l.jsx(px,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),w8=Po("MenuContent.ScrollLock"),px=p.forwardRef((e,t)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:s,onOpenAutoFocus:i,onCloseAutoFocus:a,disableOutsidePointerEvents:c,onEntryFocus:d,onEscapeKeyDown:h,onPointerDownOutside:m,onFocusOutside:g,onInteractOutside:y,onDismiss:v,disableOutsideScroll:b,...x}=e,S=Bo(dr,n),N=Lu(dr,n),w=Qf(n),k=uj(n),P=h8(n),[T,R]=p.useState(null),E=p.useRef(null),M=Fe(t,E,S.onContentChange),$=p.useRef(0),V=p.useRef(""),Q=p.useRef(0),W=p.useRef(null),Z=p.useRef("right"),B=p.useRef(0),H=b?Kf:p.Fragment,G=b?{as:w8,allowPinchZoom:!0}:void 0,se=D=>{var te,Oe;const U=V.current+D,re=P().filter(We=>!We.disabled),le=document.activeElement,_e=(te=re.find(We=>We.ref.current===le))==null?void 0:te.textValue,me=re.map(We=>We.textValue),Se=O8(me,U,_e),xe=(Oe=re.find(We=>We.textValue===Se))==null?void 0:Oe.ref.current;(function We(De){V.current=De,window.clearTimeout($.current),De!==""&&($.current=window.setTimeout(()=>We(""),1e3))})(U),xe&&setTimeout(()=>xe.focus())};p.useEffect(()=>()=>window.clearTimeout($.current),[]),Jy();const A=p.useCallback(D=>{var re,le;return Z.current===((re=W.current)==null?void 0:re.side)&&M8(D,(le=W.current)==null?void 0:le.area)},[]);return l.jsx(y8,{scope:n,searchRef:V,onItemEnter:p.useCallback(D=>{A(D)&&D.preventDefault()},[A]),onItemLeave:p.useCallback(D=>{var U;A(D)||((U=E.current)==null||U.focus(),R(null))},[A]),onTriggerLeave:p.useCallback(D=>{A(D)&&D.preventDefault()},[A]),pointerGraceTimerRef:Q,onPointerGraceIntentChange:p.useCallback(D=>{W.current=D},[]),children:l.jsx(H,{...G,children:l.jsx(Gf,{asChild:!0,trapped:s,onMountAutoFocus:ae(i,D=>{var U;D.preventDefault(),(U=E.current)==null||U.focus({preventScroll:!0})}),onUnmountAutoFocus:a,children:l.jsx(bl,{asChild:!0,disableOutsidePointerEvents:c,onEscapeKeyDown:h,onPointerDownOutside:m,onFocusOutside:g,onInteractOutside:y,onDismiss:v,children:l.jsx(ux,{asChild:!0,...k,dir:N.dir,orientation:"vertical",loop:r,currentTabStopId:T,onCurrentTabStopIdChange:R,onEntryFocus:ae(d,D=>{N.isUsingKeyboardRef.current||D.preventDefault()}),preventScrollOnEntryFocus:!0,children:l.jsx(Wy,{role:"menu","aria-orientation":"vertical","data-state":Ej(S.open),"data-radix-menu-content":"",dir:N.dir,...w,...x,ref:M,style:{outline:"none",...x.style},onKeyDown:ae(x.onKeyDown,D=>{const re=D.target.closest("[data-radix-menu-content]")===D.currentTarget,le=D.ctrlKey||D.altKey||D.metaKey,_e=D.key.length===1;re&&(D.key==="Tab"&&D.preventDefault(),!le&&_e&&se(D.key));const me=E.current;if(D.target!==me||!c8.includes(D.key))return;D.preventDefault();const xe=P().filter(te=>!te.disabled).map(te=>te.ref.current);lj.includes(D.key)&&xe.reverse(),R8(xe)}),onBlur:ae(e.onBlur,D=>{D.currentTarget.contains(D.target)||(window.clearTimeout($.current),V.current="")}),onPointerMove:ae(e.onPointerMove,uu(D=>{const U=D.target,re=B.current!==D.clientX;if(D.currentTarget.contains(U)&&re){const le=D.clientX>B.current?"right":"left";Z.current=le,B.current=D.clientX}}))})})})})})})});mj.displayName=dr;var b8="MenuGroup",gx=p.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return l.jsx(be.div,{role:"group",...r,ref:t})});gx.displayName=b8;var S8="MenuLabel",pj=p.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return l.jsx(be.div,{...r,ref:t})});pj.displayName=S8;var Vh="MenuItem",Tb="menu.itemSelect",Jf=p.forwardRef((e,t)=>{const{disabled:n=!1,onSelect:r,...s}=e,i=p.useRef(null),a=Lu(Vh,e.__scopeMenu),c=mx(Vh,e.__scopeMenu),d=Fe(t,i),h=p.useRef(!1),m=()=>{const g=i.current;if(!n&&g){const y=new CustomEvent(Tb,{bubbles:!0,cancelable:!0});g.addEventListener(Tb,v=>r==null?void 0:r(v),{once:!0}),Sy(g,y),y.defaultPrevented?h.current=!1:a.onClose()}};return l.jsx(gj,{...s,ref:d,disabled:n,onClick:ae(e.onClick,m),onPointerDown:g=>{var y;(y=e.onPointerDown)==null||y.call(e,g),h.current=!0},onPointerUp:ae(e.onPointerUp,g=>{var y;h.current||(y=g.currentTarget)==null||y.click()}),onKeyDown:ae(e.onKeyDown,g=>{const y=c.searchRef.current!=="";n||y&&g.key===" "||fv.includes(g.key)&&(g.currentTarget.click(),g.preventDefault())})})});Jf.displayName=Vh;var gj=p.forwardRef((e,t)=>{const{__scopeMenu:n,disabled:r=!1,textValue:s,...i}=e,a=mx(Vh,n),c=uj(n),d=p.useRef(null),h=Fe(t,d),[m,g]=p.useState(!1),[y,v]=p.useState("");return p.useEffect(()=>{const b=d.current;b&&v((b.textContent??"").trim())},[i.children]),l.jsx(cu.ItemSlot,{scope:n,disabled:r,textValue:s??y,children:l.jsx(dx,{asChild:!0,...c,focusable:!r,children:l.jsx(be.div,{role:"menuitem","data-highlighted":m?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...i,ref:h,onPointerMove:ae(e.onPointerMove,uu(b=>{r?a.onItemLeave(b):(a.onItemEnter(b),b.defaultPrevented||b.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:ae(e.onPointerLeave,uu(b=>a.onItemLeave(b))),onFocus:ae(e.onFocus,()=>g(!0)),onBlur:ae(e.onBlur,()=>g(!1))})})})}),k8="MenuCheckboxItem",vj=p.forwardRef((e,t)=>{const{checked:n=!1,onCheckedChange:r,...s}=e;return l.jsx(bj,{scope:e.__scopeMenu,checked:n,children:l.jsx(Jf,{role:"menuitemcheckbox","aria-checked":Wh(n)?"mixed":n,...s,ref:t,"data-state":yx(n),onSelect:ae(s.onSelect,()=>r==null?void 0:r(Wh(n)?!0:!n),{checkForDefaultPrevented:!1})})})});vj.displayName=k8;var yj="MenuRadioGroup",[N8,C8]=zo(yj,{value:void 0,onValueChange:()=>{}}),xj=p.forwardRef((e,t)=>{const{value:n,onValueChange:r,...s}=e,i=kt(r);return l.jsx(N8,{scope:e.__scopeMenu,value:n,onValueChange:i,children:l.jsx(gx,{...s,ref:t})})});xj.displayName=yj;var _j="MenuRadioItem",wj=p.forwardRef((e,t)=>{const{value:n,...r}=e,s=C8(_j,e.__scopeMenu),i=n===s.value;return l.jsx(bj,{scope:e.__scopeMenu,checked:i,children:l.jsx(Jf,{role:"menuitemradio","aria-checked":i,...r,ref:t,"data-state":yx(i),onSelect:ae(r.onSelect,()=>{var a;return(a=s.onValueChange)==null?void 0:a.call(s,n)},{checkForDefaultPrevented:!1})})})});wj.displayName=_j;var vx="MenuItemIndicator",[bj,P8]=zo(vx,{checked:!1}),Sj=p.forwardRef((e,t)=>{const{__scopeMenu:n,forceMount:r,...s}=e,i=P8(vx,n);return l.jsx(cn,{present:r||Wh(i.checked)||i.checked===!0,children:l.jsx(be.span,{...s,ref:t,"data-state":yx(i.checked)})})});Sj.displayName=vx;var j8="MenuSeparator",kj=p.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return l.jsx(be.div,{role:"separator","aria-orientation":"horizontal",...r,ref:t})});kj.displayName=j8;var T8="MenuArrow",Nj=p.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,s=Qf(n);return l.jsx(qy,{...s,...r,ref:t})});Nj.displayName=T8;var E8="MenuSub",[rq,Cj]=zo(E8),fc="MenuSubTrigger",Pj=p.forwardRef((e,t)=>{const n=Bo(fc,e.__scopeMenu),r=Lu(fc,e.__scopeMenu),s=Cj(fc,e.__scopeMenu),i=mx(fc,e.__scopeMenu),a=p.useRef(null),{pointerGraceTimerRef:c,onPointerGraceIntentChange:d}=i,h={__scopeMenu:e.__scopeMenu},m=p.useCallback(()=>{a.current&&window.clearTimeout(a.current),a.current=null},[]);return p.useEffect(()=>m,[m]),p.useEffect(()=>{const g=c.current;return()=>{window.clearTimeout(g),d(null)}},[c,d]),l.jsx(hx,{asChild:!0,...h,children:l.jsx(gj,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":s.contentId,"data-state":Ej(n.open),...e,ref:Nf(t,s.onTriggerChange),onClick:g=>{var y;(y=e.onClick)==null||y.call(e,g),!(e.disabled||g.defaultPrevented)&&(g.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:ae(e.onPointerMove,uu(g=>{i.onItemEnter(g),!g.defaultPrevented&&!e.disabled&&!n.open&&!a.current&&(i.onPointerGraceIntentChange(null),a.current=window.setTimeout(()=>{n.onOpenChange(!0),m()},100))})),onPointerLeave:ae(e.onPointerLeave,uu(g=>{var v,b;m();const y=(v=n.content)==null?void 0:v.getBoundingClientRect();if(y){const x=(b=n.content)==null?void 0:b.dataset.side,S=x==="right",N=S?-5:5,w=y[S?"left":"right"],k=y[S?"right":"left"];i.onPointerGraceIntentChange({area:[{x:g.clientX+N,y:g.clientY},{x:w,y:y.top},{x:k,y:y.top},{x:k,y:y.bottom},{x:w,y:y.bottom}],side:x}),window.clearTimeout(c.current),c.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(g),g.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:ae(e.onKeyDown,g=>{var v;const y=i.searchRef.current!=="";e.disabled||y&&g.key===" "||u8[r.dir].includes(g.key)&&(n.onOpenChange(!0),(v=n.content)==null||v.focus(),g.preventDefault())})})})});Pj.displayName=fc;var jj="MenuSubContent",Tj=p.forwardRef((e,t)=>{const n=hj(dr,e.__scopeMenu),{forceMount:r=n.forceMount,...s}=e,i=Bo(dr,e.__scopeMenu),a=Lu(dr,e.__scopeMenu),c=Cj(jj,e.__scopeMenu),d=p.useRef(null),h=Fe(t,d);return l.jsx(cu.Provider,{scope:e.__scopeMenu,children:l.jsx(cn,{present:r||i.open,children:l.jsx(cu.Slot,{scope:e.__scopeMenu,children:l.jsx(px,{id:c.contentId,"aria-labelledby":c.triggerId,...s,ref:h,align:"start",side:a.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:m=>{var g;a.isUsingKeyboardRef.current&&((g=d.current)==null||g.focus()),m.preventDefault()},onCloseAutoFocus:m=>m.preventDefault(),onFocusOutside:ae(e.onFocusOutside,m=>{m.target!==c.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:ae(e.onEscapeKeyDown,m=>{a.onClose(),m.preventDefault()}),onKeyDown:ae(e.onKeyDown,m=>{var v;const g=m.currentTarget.contains(m.target),y=d8[a.dir].includes(m.key);g&&y&&(i.onOpenChange(!1),(v=c.trigger)==null||v.focus(),m.preventDefault())})})})})})});Tj.displayName=jj;function Ej(e){return e?"open":"closed"}function Wh(e){return e==="indeterminate"}function yx(e){return Wh(e)?"indeterminate":e?"checked":"unchecked"}function R8(e){const t=document.activeElement;for(const n of e)if(n===t||(n.focus(),document.activeElement!==t))return}function A8(e,t){return e.map((n,r)=>e[(t+r)%e.length])}function O8(e,t,n){const s=t.length>1&&Array.from(t).every(h=>h===t[0])?t[0]:t,i=n?e.indexOf(n):-1;let a=A8(e,Math.max(i,0));s.length===1&&(a=a.filter(h=>h!==n));const d=a.find(h=>h.toLowerCase().startsWith(s.toLowerCase()));return d!==n?d:void 0}function L8(e,t){const{x:n,y:r}=e;let s=!1;for(let i=0,a=t.length-1;i<t.length;a=i++){const c=t[i],d=t[a],h=c.x,m=c.y,g=d.x,y=d.y;m>r!=y>r&&n<(g-h)*(r-m)/(y-m)+h&&(s=!s)}return s}function M8(e,t){if(!t)return!1;const n={x:e.clientX,y:e.clientY};return L8(n,t)}function uu(e){return t=>t.pointerType==="mouse"?e(t):void 0}var I8=dj,D8=hx,$8=fj,F8=mj,z8=gx,B8=pj,U8=Jf,V8=vj,W8=xj,q8=wj,H8=Sj,G8=kj,Z8=Nj,K8=Pj,Y8=Tj,em="DropdownMenu",[X8,sq]=ln(em,[cj]),Nn=cj(),[Q8,Rj]=X8(em),Aj=e=>{const{__scopeDropdownMenu:t,children:n,dir:r,open:s,defaultOpen:i,onOpenChange:a,modal:c=!0}=e,d=Nn(t),h=p.useRef(null),[m,g]=$s({prop:s,defaultProp:i??!1,onChange:a,caller:em});return l.jsx(Q8,{scope:t,triggerId:$r(),triggerRef:h,contentId:$r(),open:m,onOpenChange:g,onOpenToggle:p.useCallback(()=>g(y=>!y),[g]),modal:c,children:l.jsx(I8,{...d,open:m,onOpenChange:g,dir:r,modal:c,children:n})})};Aj.displayName=em;var Oj="DropdownMenuTrigger",Lj=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...s}=e,i=Rj(Oj,n),a=Nn(n);return l.jsx(D8,{asChild:!0,...a,children:l.jsx(be.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...s,ref:Nf(t,i.triggerRef),onPointerDown:ae(e.onPointerDown,c=>{!r&&c.button===0&&c.ctrlKey===!1&&(i.onOpenToggle(),i.open||c.preventDefault())}),onKeyDown:ae(e.onKeyDown,c=>{r||(["Enter"," "].includes(c.key)&&i.onOpenToggle(),c.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(c.key)&&c.preventDefault())})})})});Lj.displayName=Oj;var J8="DropdownMenuPortal",Mj=e=>{const{__scopeDropdownMenu:t,...n}=e,r=Nn(t);return l.jsx($8,{...r,...n})};Mj.displayName=J8;var Ij="DropdownMenuContent",Dj=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=Rj(Ij,n),i=Nn(n),a=p.useRef(!1);return l.jsx(F8,{id:s.contentId,"aria-labelledby":s.triggerId,...i,...r,ref:t,onCloseAutoFocus:ae(e.onCloseAutoFocus,c=>{var d;a.current||(d=s.triggerRef.current)==null||d.focus(),a.current=!1,c.preventDefault()}),onInteractOutside:ae(e.onInteractOutside,c=>{const d=c.detail.originalEvent,h=d.button===0&&d.ctrlKey===!0,m=d.button===2||h;(!s.modal||m)&&(a.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});Dj.displayName=Ij;var eU="DropdownMenuGroup",tU=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=Nn(n);return l.jsx(z8,{...s,...r,ref:t})});tU.displayName=eU;var nU="DropdownMenuLabel",$j=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=Nn(n);return l.jsx(B8,{...s,...r,ref:t})});$j.displayName=nU;var rU="DropdownMenuItem",Fj=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=Nn(n);return l.jsx(U8,{...s,...r,ref:t})});Fj.displayName=rU;var sU="DropdownMenuCheckboxItem",zj=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=Nn(n);return l.jsx(V8,{...s,...r,ref:t})});zj.displayName=sU;var iU="DropdownMenuRadioGroup",oU=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=Nn(n);return l.jsx(W8,{...s,...r,ref:t})});oU.displayName=iU;var aU="DropdownMenuRadioItem",Bj=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=Nn(n);return l.jsx(q8,{...s,...r,ref:t})});Bj.displayName=aU;var lU="DropdownMenuItemIndicator",Uj=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=Nn(n);return l.jsx(H8,{...s,...r,ref:t})});Uj.displayName=lU;var cU="DropdownMenuSeparator",Vj=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=Nn(n);return l.jsx(G8,{...s,...r,ref:t})});Vj.displayName=cU;var uU="DropdownMenuArrow",dU=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=Nn(n);return l.jsx(Z8,{...s,...r,ref:t})});dU.displayName=uU;var hU="DropdownMenuSubTrigger",Wj=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=Nn(n);return l.jsx(K8,{...s,...r,ref:t})});Wj.displayName=hU;var fU="DropdownMenuSubContent",qj=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=Nn(n);return l.jsx(Y8,{...s,...r,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});qj.displayName=fU;var mU=Aj,pU=Lj,gU=Mj,Hj=Dj,Gj=$j,Zj=Fj,Kj=zj,Yj=Bj,Xj=Uj,Qj=Vj,Jj=Wj,eT=qj;const xx=mU,_x=pU,vU=p.forwardRef(({className:e,inset:t,children:n,...r},s)=>l.jsxs(Jj,{ref:s,className:ee("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[state=open]:bg-accent focus:bg-accent",t&&"pl-8",e),...r,children:[n,l.jsx(_N,{className:"ml-auto h-4 w-4"})]}));vU.displayName=Jj.displayName;const yU=p.forwardRef(({className:e,...t},n)=>l.jsx(eT,{ref:n,className:ee("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));yU.displayName=eT.displayName;const tm=p.forwardRef(({className:e,sideOffset:t=4,...n},r)=>l.jsx(gU,{children:l.jsx(Hj,{ref:r,sideOffset:t,className:ee("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n})}));tm.displayName=Hj.displayName;const Ar=p.forwardRef(({className:e,inset:t,...n},r)=>l.jsx(Zj,{ref:r,className:ee("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",t&&"pl-8",e),...n}));Ar.displayName=Zj.displayName;const xU=p.forwardRef(({className:e,children:t,checked:n,...r},s)=>l.jsxs(Kj,{ref:s,className:ee("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e),checked:n,...r,children:[l.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:l.jsx(Xj,{children:l.jsx(Nh,{className:"h-4 w-4"})})}),t]}));xU.displayName=Kj.displayName;const _U=p.forwardRef(({className:e,children:t,...n},r)=>l.jsxs(Yj,{ref:r,className:ee("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e),...n,children:[l.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:l.jsx(Xj,{children:l.jsx(bN,{className:"h-2 w-2 fill-current"})})}),t]}));_U.displayName=Yj.displayName;const tT=p.forwardRef(({className:e,inset:t,...n},r)=>l.jsx(Gj,{ref:r,className:ee("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...n}));tT.displayName=Gj.displayName;const qh=p.forwardRef(({className:e,...t},n)=>l.jsx(Qj,{ref:n,className:ee("-mx-1 my-1 h-px bg-muted",e),...t}));qh.displayName=Qj.displayName;var nT="AlertDialog",[wU,iq]=ln(nT,[hP]),Hs=hP(),rT=e=>{const{__scopeAlertDialog:t,...n}=e,r=Hs(t);return l.jsx(sx,{...r,...n,modal:!0})};rT.displayName=nT;var bU="AlertDialogTrigger",SU=p.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,s=Hs(n);return l.jsx(jP,{...s,...r,ref:t})});SU.displayName=bU;var kU="AlertDialogPortal",sT=e=>{const{__scopeAlertDialog:t,...n}=e,r=Hs(t);return l.jsx(ix,{...r,...n})};sT.displayName=kU;var NU="AlertDialogOverlay",iT=p.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,s=Hs(n);return l.jsx(Pu,{...s,...r,ref:t})});iT.displayName=NU;var qa="AlertDialogContent",[CU,PU]=wU(qa),jU=qk("AlertDialogContent"),oT=p.forwardRef((e,t)=>{const{__scopeAlertDialog:n,children:r,...s}=e,i=Hs(n),a=p.useRef(null),c=Fe(t,a),d=p.useRef(null);return l.jsx(cB,{contentName:qa,titleName:aT,docsSlug:"alert-dialog",children:l.jsx(CU,{scope:n,cancelRef:d,children:l.jsxs(ju,{role:"alertdialog",...i,...s,ref:c,onOpenAutoFocus:ae(s.onOpenAutoFocus,h=>{var m;h.preventDefault(),(m=d.current)==null||m.focus({preventScroll:!0})}),onPointerDownOutside:h=>h.preventDefault(),onInteractOutside:h=>h.preventDefault(),children:[l.jsx(jU,{children:r}),l.jsx(EU,{contentRef:a})]})})})});oT.displayName=qa;var aT="AlertDialogTitle",lT=p.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,s=Hs(n);return l.jsx(Tu,{...s,...r,ref:t})});lT.displayName=aT;var cT="AlertDialogDescription",uT=p.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,s=Hs(n);return l.jsx(Eu,{...s,...r,ref:t})});uT.displayName=cT;var TU="AlertDialogAction",dT=p.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,s=Hs(n);return l.jsx(Xf,{...s,...r,ref:t})});dT.displayName=TU;var hT="AlertDialogCancel",fT=p.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,{cancelRef:s}=PU(hT,n),i=Hs(n),a=Fe(t,s);return l.jsx(Xf,{...i,...r,ref:a})});fT.displayName=hT;var EU=({contentRef:e})=>{const t=`\`${qa}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${qa}\` by passing a \`${cT}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${qa}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return p.useEffect(()=>{var r;document.getElementById((r=e.current)==null?void 0:r.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},RU=rT,AU=sT,mT=iT,pT=oT,gT=dT,vT=fT,yT=lT,xT=uT;const _T=RU,OU=AU,wT=p.forwardRef(({className:e,...t},n)=>l.jsx(mT,{className:ee("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:n}));wT.displayName=mT.displayName;const wx=p.forwardRef(({className:e,...t},n)=>l.jsxs(OU,{children:[l.jsx(wT,{}),l.jsx(pT,{ref:n,className:ee("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));wx.displayName=pT.displayName;const bx=({className:e,...t})=>l.jsx("div",{className:ee("flex flex-col space-y-2 text-center sm:text-left",e),...t});bx.displayName="AlertDialogHeader";const Sx=({className:e,...t})=>l.jsx("div",{className:ee("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});Sx.displayName="AlertDialogFooter";const kx=p.forwardRef(({className:e,...t},n)=>l.jsx(yT,{ref:n,className:ee("text-lg font-semibold",e),...t}));kx.displayName=yT.displayName;const Nx=p.forwardRef(({className:e,...t},n)=>l.jsx(xT,{ref:n,className:ee("text-sm text-muted-foreground",e),...t}));Nx.displayName=xT.displayName;const Cx=p.forwardRef(({className:e,...t},n)=>l.jsx(gT,{ref:n,className:ee(Xy(),e),...t}));Cx.displayName=gT.displayName;const Px=p.forwardRef(({className:e,...t},n)=>l.jsx(vT,{ref:n,className:ee(Xy({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));Px.displayName=vT.displayName;function LU(){var N;const e=jl(),{user:t,profile:n,roles:r,signOut:s,signOutAllDevices:i,isAuthenticated:a,isLoading:c}=qt(),{t:d}=zt(),[h,m]=p.useState(!1),[g,y]=p.useState(!1);if(c)return l.jsx(Te,{variant:"ghost",size:"icon",disabled:!0,children:l.jsx(ct,{className:"w-5 h-5 animate-spin"})});if(!a)return l.jsx(Te,{variant:"outline",onClick:()=>e("/auth"),children:d.auth.login});const v=()=>n!=null&&n.full_name?n.full_name.split(" ").map(w=>w[0]).join("").toUpperCase().slice(0,2):t!=null&&t.email?t.email[0].toUpperCase():"U",b=()=>r.some(w=>w.role==="admin")?d.common.administrator:r.some(w=>w.role==="moderator")?d.common.moderator:d.common.user,x=async()=>{y(!0),(await s()).error?Pe.error(d.toast.signOutError):(Pe.success(d.toast.signOutSuccess),e("/auth")),y(!1)},S=async()=>{y(!0),(await i()).error?Pe.error(d.toast.signOutError):(Pe.success(d.toast.signOutSuccess),e("/auth")),y(!1),m(!1)};return l.jsxs(l.Fragment,{children:[l.jsxs(xx,{children:[l.jsx(_x,{asChild:!0,children:l.jsxs("button",{className:"flex items-center gap-2 p-1.5 pr-3 rounded-full bg-muted/50 hover:bg-muted transition-colors",children:[l.jsxs(ax,{className:"w-8 h-8",children:[l.jsx(lx,{src:(n==null?void 0:n.avatar_url)||""}),l.jsx(cx,{className:"bg-primary text-primary-foreground text-sm font-semibold",children:v()})]}),l.jsxs("div",{className:"hidden sm:block text-left",children:[l.jsx("p",{className:"text-sm font-medium leading-none",children:(n==null?void 0:n.full_name)||((N=t==null?void 0:t.email)==null?void 0:N.split("@")[0])}),l.jsx("p",{className:"text-xs text-muted-foreground",children:b()})]})]})}),l.jsxs(tm,{align:"end",className:"w-56",children:[l.jsx(tT,{className:"font-normal",children:l.jsxs("div",{className:"flex flex-col space-y-1",children:[l.jsx("p",{className:"text-sm font-medium",children:(n==null?void 0:n.full_name)||d.common.user}),l.jsx("p",{className:"text-xs text-muted-foreground",children:t==null?void 0:t.email})]})}),l.jsx(qh,{}),l.jsxs(Ar,{onClick:()=>e("/profile"),children:[l.jsx(TN,{className:"w-4 h-4 mr-2"}),d.auth.profile]}),l.jsxs(Ar,{onClick:()=>e("/settings"),children:[l.jsx(LM,{className:"w-4 h-4 mr-2"}),d.header.settings]}),r.some(w=>w.role==="admin")&&l.jsxs(Ar,{onClick:()=>e("/admin"),children:[l.jsx(CN,{className:"w-4 h-4 mr-2"}),"-"]}),l.jsx(qh,{}),l.jsxs(Ar,{onClick:()=>m(!0),className:"text-amber-600",children:[l.jsx(PM,{className:"w-4 h-4 mr-2"}),d.auth.logoutAll]}),l.jsxs(Ar,{onClick:x,disabled:g,className:"text-destructive",children:[g?l.jsx(ct,{className:"w-4 h-4 mr-2 animate-spin"}):l.jsx(kN,{className:"w-4 h-4 mr-2"}),d.auth.logout]})]})]}),l.jsx(_T,{open:h,onOpenChange:m,children:l.jsxs(wx,{children:[l.jsxs(bx,{children:[l.jsx(kx,{children:d.auth.logoutAllConfirm}),l.jsx(Nx,{children:d.auth.logoutAllDescription})]}),l.jsxs(Sx,{children:[l.jsx(Px,{disabled:g,children:d.common.cancel}),l.jsx(Cx,{onClick:S,disabled:g,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:g?l.jsxs(l.Fragment,{children:[l.jsx(ct,{className:"w-4 h-4 mr-2 animate-spin"}),d.common.loading]}):d.auth.logoutAll})]})]})})]})}const MU=$o("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function mc({className:e,variant:t,...n}){return l.jsx("div",{className:ee(MU({variant:t}),e),...n})}function Eb(){const{effectiveLocation:e,environmentData:t,isLoading:n,isLocating:r,error:s,permissionStatus:i,requestLocation:a}=Fo(),c=d=>d?d<=50?"bg-aqi-good text-white":d<=100?"bg-aqi-moderate text-white":d<=150?"bg-aqi-unhealthy-sensitive text-white":d<=200?"bg-aqi-unhealthy text-white":d<=300?"bg-aqi-very-unhealthy text-white":"bg-aqi-hazardous text-white":"bg-muted text-muted-foreground";return n||r?l.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 bg-muted/50 rounded-lg",children:[l.jsx(ct,{className:"w-4 h-4 animate-spin"}),l.jsx("span",{className:"text-sm text-muted-foreground",children:r?" ...":" ..."})]}):i==="denied"||s?l.jsxs(Ji,{children:[l.jsx(eo,{asChild:!0,children:l.jsxs(Te,{variant:"ghost",size:"sm",onClick:a,className:"gap-2",children:[l.jsx(Dr,{className:"w-4 h-4 text-muted-foreground"}),l.jsx("span",{className:"text-sm",children:e.cityName||""})]})}),l.jsx(ni,{children:l.jsx("p",{children:",   "})})]}):l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsxs(Ji,{children:[l.jsx(eo,{asChild:!0,children:l.jsxs("button",{onClick:a,className:"flex items-center gap-1.5 px-2 py-1 rounded-lg hover:bg-muted transition-colors",children:[l.jsx(Dr,{className:"w-4 h-4 text-primary"}),l.jsx("span",{className:"text-sm font-medium",children:e.cityName||" "})]})}),l.jsx(ni,{children:l.jsx("p",{children:"   "})})]}),(t==null?void 0:t.current_aqi)!==null&&(t==null?void 0:t.current_aqi)!==void 0&&l.jsxs(Ji,{children:[l.jsx(eo,{children:l.jsxs(mc,{className:`${c(t.current_aqi)} font-bold`,children:["AQI ",t.current_aqi]})}),l.jsx(ni,{children:l.jsx("p",{children:t.aqi_category||" "})})]}),(t==null?void 0:t.temperature)!==null&&(t==null?void 0:t.temperature)!==void 0&&l.jsxs("div",{className:"hidden sm:flex items-center gap-3 text-sm text-muted-foreground",children:[l.jsxs(Ji,{children:[l.jsxs(eo,{className:"flex items-center gap-1",children:[l.jsx("span",{className:"text-lg",children:t.weather_icon}),l.jsx(Af,{className:"w-3.5 h-3.5"}),l.jsxs("span",{children:[Math.round(t.temperature),"C"]})]}),l.jsx(ni,{children:l.jsx("p",{children:t.weather_description})})]}),t.humidity!==null&&l.jsxs(Ji,{children:[l.jsxs(eo,{className:"flex items-center gap-1",children:[l.jsx(Py,{className:"w-3.5 h-3.5"}),l.jsxs("span",{children:[t.humidity,"%"]})]}),l.jsx(ni,{children:l.jsx("p",{children:""})})]}),t.wind_speed!==null&&l.jsxs(Ji,{children:[l.jsxs(eo,{className:"flex items-center gap-0.5",children:[l.jsx(jo,{className:"w-3 h-3"}),l.jsx("span",{className:"tabular-nums",children:Math.round(t.wind_speed)}),l.jsx("span",{className:"text-xs",children:"/"})]}),l.jsx(ni,{children:l.jsx("p",{children:" "})})]})]})]})}function IU(){const{language:e,setLanguage:t,languages:n}=zt();return l.jsxs(xx,{children:[l.jsx(_x,{asChild:!0,children:l.jsxs(Te,{variant:"ghost",size:"sm",className:"gap-1 px-2",children:[l.jsx("span",{className:"font-medium",children:n[e].code}),l.jsx(Tf,{className:"w-3 h-3"})]})}),l.jsx(tm,{align:"end",children:Object.keys(n).map(r=>l.jsxs(Ar,{onClick:()=>t(r),className:e===r?"bg-muted":"",children:[l.jsx("span",{className:"font-medium mr-2",children:n[r].code}),l.jsx("span",{className:"text-muted-foreground",children:n[r].name})]},r))})]})}function DU(){const{profile:e,isAuthenticated:t}=qt(),{t:n}=zt(),r=()=>e!=null&&e.full_name?e.full_name:n.common.guest;return l.jsx(AP,{children:l.jsxs("div",{className:"min-h-screen flex w-full bg-gradient-to-b from-muted via-background to-background",children:[l.jsx(MB,{}),l.jsxs(MP,{className:"flex-1",children:[l.jsxs("header",{className:"h-14 border-b border-border/50 flex items-center justify-between px-4 bg-background/80 backdrop-blur-sm sticky top-0 z-10",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx(LP,{className:"hover:bg-muted rounded-lg p-2"}),l.jsxs("div",{className:"hidden md:block",children:[l.jsx("p",{className:"text-sm text-muted-foreground",children:n.header.welcome}),l.jsxs("p",{className:"font-semibold",children:[r()," ",t?"":""]})]}),l.jsx("div",{className:"hidden lg:block",children:l.jsx(Eb,{})})]}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"lg:hidden",children:l.jsx(Eb,{})}),l.jsx(IU,{}),l.jsxs("button",{className:"p-2 hover:bg-muted rounded-lg relative",children:[l.jsx(vM,{className:"w-5 h-5"}),l.jsx("span",{className:"absolute top-1 right-1 w-2 h-2 bg-destructive rounded-full"})]}),l.jsx(LU,{})]})]}),l.jsx("main",{className:"flex-1",children:l.jsx(Y4,{})})]})]})})}var mv={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */(function(e,t){(function(n,r){r(t)})(GR,function(n){var r="1.9.4";function s(o){var u,f,_,C;for(f=1,_=arguments.length;f<_;f++){C=arguments[f];for(u in C)o[u]=C[u]}return o}var i=Object.create||function(){function o(){}return function(u){return o.prototype=u,new o}}();function a(o,u){var f=Array.prototype.slice;if(o.bind)return o.bind.apply(o,f.call(arguments,1));var _=f.call(arguments,2);return function(){return o.apply(u,_.length?_.concat(f.call(arguments)):arguments)}}var c=0;function d(o){return"_leaflet_id"in o||(o._leaflet_id=++c),o._leaflet_id}function h(o,u,f){var _,C,j,O;return O=function(){_=!1,C&&(j.apply(f,C),C=!1)},j=function(){_?C=arguments:(o.apply(f,arguments),setTimeout(O,u),_=!0)},j}function m(o,u,f){var _=u[1],C=u[0],j=_-C;return o===_&&f?o:((o-C)%j+j)%j+C}function g(){return!1}function y(o,u){if(u===!1)return o;var f=Math.pow(10,u===void 0?6:u);return Math.round(o*f)/f}function v(o){return o.trim?o.trim():o.replace(/^\s+|\s+$/g,"")}function b(o){return v(o).split(/\s+/)}function x(o,u){Object.prototype.hasOwnProperty.call(o,"options")||(o.options=o.options?i(o.options):{});for(var f in u)o.options[f]=u[f];return o.options}function S(o,u,f){var _=[];for(var C in o)_.push(encodeURIComponent(f?C.toUpperCase():C)+"="+encodeURIComponent(o[C]));return(!u||u.indexOf("?")===-1?"?":"&")+_.join("&")}var N=/\{ *([\w_ -]+) *\}/g;function w(o,u){return o.replace(N,function(f,_){var C=u[_];if(C===void 0)throw new Error("No value provided for variable "+f);return typeof C=="function"&&(C=C(u)),C})}var k=Array.isArray||function(o){return Object.prototype.toString.call(o)==="[object Array]"};function P(o,u){for(var f=0;f<o.length;f++)if(o[f]===u)return f;return-1}var T="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function R(o){return window["webkit"+o]||window["moz"+o]||window["ms"+o]}var E=0;function M(o){var u=+new Date,f=Math.max(0,16-(u-E));return E=u+f,window.setTimeout(o,f)}var $=window.requestAnimationFrame||R("RequestAnimationFrame")||M,V=window.cancelAnimationFrame||R("CancelAnimationFrame")||R("CancelRequestAnimationFrame")||function(o){window.clearTimeout(o)};function Q(o,u,f){if(f&&$===M)o.call(u);else return $.call(window,a(o,u))}function W(o){o&&V.call(window,o)}var Z={__proto__:null,extend:s,create:i,bind:a,get lastId(){return c},stamp:d,throttle:h,wrapNum:m,falseFn:g,formatNum:y,trim:v,splitWords:b,setOptions:x,getParamString:S,template:w,isArray:k,indexOf:P,emptyImageUrl:T,requestFn:$,cancelFn:V,requestAnimFrame:Q,cancelAnimFrame:W};function B(){}B.extend=function(o){var u=function(){x(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},f=u.__super__=this.prototype,_=i(f);_.constructor=u,u.prototype=_;for(var C in this)Object.prototype.hasOwnProperty.call(this,C)&&C!=="prototype"&&C!=="__super__"&&(u[C]=this[C]);return o.statics&&s(u,o.statics),o.includes&&(H(o.includes),s.apply(null,[_].concat(o.includes))),s(_,o),delete _.statics,delete _.includes,_.options&&(_.options=f.options?i(f.options):{},s(_.options,o.options)),_._initHooks=[],_.callInitHooks=function(){if(!this._initHooksCalled){f.callInitHooks&&f.callInitHooks.call(this),this._initHooksCalled=!0;for(var j=0,O=_._initHooks.length;j<O;j++)_._initHooks[j].call(this)}},u},B.include=function(o){var u=this.prototype.options;return s(this.prototype,o),o.options&&(this.prototype.options=u,this.mergeOptions(o.options)),this},B.mergeOptions=function(o){return s(this.prototype.options,o),this},B.addInitHook=function(o){var u=Array.prototype.slice.call(arguments,1),f=typeof o=="function"?o:function(){this[o].apply(this,u)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(f),this};function H(o){if(!(typeof L>"u"||!L||!L.Mixin)){o=k(o)?o:[o];for(var u=0;u<o.length;u++)o[u]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var G={on:function(o,u,f){if(typeof o=="object")for(var _ in o)this._on(_,o[_],u);else{o=b(o);for(var C=0,j=o.length;C<j;C++)this._on(o[C],u,f)}return this},off:function(o,u,f){if(!arguments.length)delete this._events;else if(typeof o=="object")for(var _ in o)this._off(_,o[_],u);else{o=b(o);for(var C=arguments.length===1,j=0,O=o.length;j<O;j++)C?this._off(o[j]):this._off(o[j],u,f)}return this},_on:function(o,u,f,_){if(typeof u!="function"){console.warn("wrong listener type: "+typeof u);return}if(this._listens(o,u,f)===!1){f===this&&(f=void 0);var C={fn:u,ctx:f};_&&(C.once=!0),this._events=this._events||{},this._events[o]=this._events[o]||[],this._events[o].push(C)}},_off:function(o,u,f){var _,C,j;if(this._events&&(_=this._events[o],!!_)){if(arguments.length===1){if(this._firingCount)for(C=0,j=_.length;C<j;C++)_[C].fn=g;delete this._events[o];return}if(typeof u!="function"){console.warn("wrong listener type: "+typeof u);return}var O=this._listens(o,u,f);if(O!==!1){var F=_[O];this._firingCount&&(F.fn=g,this._events[o]=_=_.slice()),_.splice(O,1)}}},fire:function(o,u,f){if(!this.listens(o,f))return this;var _=s({},u,{type:o,target:this,sourceTarget:u&&u.sourceTarget||this});if(this._events){var C=this._events[o];if(C){this._firingCount=this._firingCount+1||1;for(var j=0,O=C.length;j<O;j++){var F=C[j],q=F.fn;F.once&&this.off(o,q,F.ctx),q.call(F.ctx||this,_)}this._firingCount--}}return f&&this._propagateEvent(_),this},listens:function(o,u,f,_){typeof o!="string"&&console.warn('"string" type argument expected');var C=u;typeof u!="function"&&(_=!!u,C=void 0,f=void 0);var j=this._events&&this._events[o];if(j&&j.length&&this._listens(o,C,f)!==!1)return!0;if(_){for(var O in this._eventParents)if(this._eventParents[O].listens(o,u,f,_))return!0}return!1},_listens:function(o,u,f){if(!this._events)return!1;var _=this._events[o]||[];if(!u)return!!_.length;f===this&&(f=void 0);for(var C=0,j=_.length;C<j;C++)if(_[C].fn===u&&_[C].ctx===f)return C;return!1},once:function(o,u,f){if(typeof o=="object")for(var _ in o)this._on(_,o[_],u,!0);else{o=b(o);for(var C=0,j=o.length;C<j;C++)this._on(o[C],u,f,!0)}return this},addEventParent:function(o){return this._eventParents=this._eventParents||{},this._eventParents[d(o)]=o,this},removeEventParent:function(o){return this._eventParents&&delete this._eventParents[d(o)],this},_propagateEvent:function(o){for(var u in this._eventParents)this._eventParents[u].fire(o.type,s({layer:o.target,propagatedFrom:o.target},o),!0)}};G.addEventListener=G.on,G.removeEventListener=G.clearAllEventListeners=G.off,G.addOneTimeEventListener=G.once,G.fireEvent=G.fire,G.hasEventListeners=G.listens;var se=B.extend(G);function A(o,u,f){this.x=f?Math.round(o):o,this.y=f?Math.round(u):u}var D=Math.trunc||function(o){return o>0?Math.floor(o):Math.ceil(o)};A.prototype={clone:function(){return new A(this.x,this.y)},add:function(o){return this.clone()._add(U(o))},_add:function(o){return this.x+=o.x,this.y+=o.y,this},subtract:function(o){return this.clone()._subtract(U(o))},_subtract:function(o){return this.x-=o.x,this.y-=o.y,this},divideBy:function(o){return this.clone()._divideBy(o)},_divideBy:function(o){return this.x/=o,this.y/=o,this},multiplyBy:function(o){return this.clone()._multiplyBy(o)},_multiplyBy:function(o){return this.x*=o,this.y*=o,this},scaleBy:function(o){return new A(this.x*o.x,this.y*o.y)},unscaleBy:function(o){return new A(this.x/o.x,this.y/o.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=D(this.x),this.y=D(this.y),this},distanceTo:function(o){o=U(o);var u=o.x-this.x,f=o.y-this.y;return Math.sqrt(u*u+f*f)},equals:function(o){return o=U(o),o.x===this.x&&o.y===this.y},contains:function(o){return o=U(o),Math.abs(o.x)<=Math.abs(this.x)&&Math.abs(o.y)<=Math.abs(this.y)},toString:function(){return"Point("+y(this.x)+", "+y(this.y)+")"}};function U(o,u,f){return o instanceof A?o:k(o)?new A(o[0],o[1]):o==null?o:typeof o=="object"&&"x"in o&&"y"in o?new A(o.x,o.y):new A(o,u,f)}function re(o,u){if(o)for(var f=u?[o,u]:o,_=0,C=f.length;_<C;_++)this.extend(f[_])}re.prototype={extend:function(o){var u,f;if(!o)return this;if(o instanceof A||typeof o[0]=="number"||"x"in o)u=f=U(o);else if(o=le(o),u=o.min,f=o.max,!u||!f)return this;return!this.min&&!this.max?(this.min=u.clone(),this.max=f.clone()):(this.min.x=Math.min(u.x,this.min.x),this.max.x=Math.max(f.x,this.max.x),this.min.y=Math.min(u.y,this.min.y),this.max.y=Math.max(f.y,this.max.y)),this},getCenter:function(o){return U((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,o)},getBottomLeft:function(){return U(this.min.x,this.max.y)},getTopRight:function(){return U(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(o){var u,f;return typeof o[0]=="number"||o instanceof A?o=U(o):o=le(o),o instanceof re?(u=o.min,f=o.max):u=f=o,u.x>=this.min.x&&f.x<=this.max.x&&u.y>=this.min.y&&f.y<=this.max.y},intersects:function(o){o=le(o);var u=this.min,f=this.max,_=o.min,C=o.max,j=C.x>=u.x&&_.x<=f.x,O=C.y>=u.y&&_.y<=f.y;return j&&O},overlaps:function(o){o=le(o);var u=this.min,f=this.max,_=o.min,C=o.max,j=C.x>u.x&&_.x<f.x,O=C.y>u.y&&_.y<f.y;return j&&O},isValid:function(){return!!(this.min&&this.max)},pad:function(o){var u=this.min,f=this.max,_=Math.abs(u.x-f.x)*o,C=Math.abs(u.y-f.y)*o;return le(U(u.x-_,u.y-C),U(f.x+_,f.y+C))},equals:function(o){return o?(o=le(o),this.min.equals(o.getTopLeft())&&this.max.equals(o.getBottomRight())):!1}};function le(o,u){return!o||o instanceof re?o:new re(o,u)}function _e(o,u){if(o)for(var f=u?[o,u]:o,_=0,C=f.length;_<C;_++)this.extend(f[_])}_e.prototype={extend:function(o){var u=this._southWest,f=this._northEast,_,C;if(o instanceof Se)_=o,C=o;else if(o instanceof _e){if(_=o._southWest,C=o._northEast,!_||!C)return this}else return o?this.extend(xe(o)||me(o)):this;return!u&&!f?(this._southWest=new Se(_.lat,_.lng),this._northEast=new Se(C.lat,C.lng)):(u.lat=Math.min(_.lat,u.lat),u.lng=Math.min(_.lng,u.lng),f.lat=Math.max(C.lat,f.lat),f.lng=Math.max(C.lng,f.lng)),this},pad:function(o){var u=this._southWest,f=this._northEast,_=Math.abs(u.lat-f.lat)*o,C=Math.abs(u.lng-f.lng)*o;return new _e(new Se(u.lat-_,u.lng-C),new Se(f.lat+_,f.lng+C))},getCenter:function(){return new Se((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new Se(this.getNorth(),this.getWest())},getSouthEast:function(){return new Se(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(o){typeof o[0]=="number"||o instanceof Se||"lat"in o?o=xe(o):o=me(o);var u=this._southWest,f=this._northEast,_,C;return o instanceof _e?(_=o.getSouthWest(),C=o.getNorthEast()):_=C=o,_.lat>=u.lat&&C.lat<=f.lat&&_.lng>=u.lng&&C.lng<=f.lng},intersects:function(o){o=me(o);var u=this._southWest,f=this._northEast,_=o.getSouthWest(),C=o.getNorthEast(),j=C.lat>=u.lat&&_.lat<=f.lat,O=C.lng>=u.lng&&_.lng<=f.lng;return j&&O},overlaps:function(o){o=me(o);var u=this._southWest,f=this._northEast,_=o.getSouthWest(),C=o.getNorthEast(),j=C.lat>u.lat&&_.lat<f.lat,O=C.lng>u.lng&&_.lng<f.lng;return j&&O},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(o,u){return o?(o=me(o),this._southWest.equals(o.getSouthWest(),u)&&this._northEast.equals(o.getNorthEast(),u)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function me(o,u){return o instanceof _e?o:new _e(o,u)}function Se(o,u,f){if(isNaN(o)||isNaN(u))throw new Error("Invalid LatLng object: ("+o+", "+u+")");this.lat=+o,this.lng=+u,f!==void 0&&(this.alt=+f)}Se.prototype={equals:function(o,u){if(!o)return!1;o=xe(o);var f=Math.max(Math.abs(this.lat-o.lat),Math.abs(this.lng-o.lng));return f<=(u===void 0?1e-9:u)},toString:function(o){return"LatLng("+y(this.lat,o)+", "+y(this.lng,o)+")"},distanceTo:function(o){return Oe.distance(this,xe(o))},wrap:function(){return Oe.wrapLatLng(this)},toBounds:function(o){var u=180*o/40075017,f=u/Math.cos(Math.PI/180*this.lat);return me([this.lat-u,this.lng-f],[this.lat+u,this.lng+f])},clone:function(){return new Se(this.lat,this.lng,this.alt)}};function xe(o,u,f){return o instanceof Se?o:k(o)&&typeof o[0]!="object"?o.length===3?new Se(o[0],o[1],o[2]):o.length===2?new Se(o[0],o[1]):null:o==null?o:typeof o=="object"&&"lat"in o?new Se(o.lat,"lng"in o?o.lng:o.lon,o.alt):u===void 0?null:new Se(o,u,f)}var te={latLngToPoint:function(o,u){var f=this.projection.project(o),_=this.scale(u);return this.transformation._transform(f,_)},pointToLatLng:function(o,u){var f=this.scale(u),_=this.transformation.untransform(o,f);return this.projection.unproject(_)},project:function(o){return this.projection.project(o)},unproject:function(o){return this.projection.unproject(o)},scale:function(o){return 256*Math.pow(2,o)},zoom:function(o){return Math.log(o/256)/Math.LN2},getProjectedBounds:function(o){if(this.infinite)return null;var u=this.projection.bounds,f=this.scale(o),_=this.transformation.transform(u.min,f),C=this.transformation.transform(u.max,f);return new re(_,C)},infinite:!1,wrapLatLng:function(o){var u=this.wrapLng?m(o.lng,this.wrapLng,!0):o.lng,f=this.wrapLat?m(o.lat,this.wrapLat,!0):o.lat,_=o.alt;return new Se(f,u,_)},wrapLatLngBounds:function(o){var u=o.getCenter(),f=this.wrapLatLng(u),_=u.lat-f.lat,C=u.lng-f.lng;if(_===0&&C===0)return o;var j=o.getSouthWest(),O=o.getNorthEast(),F=new Se(j.lat-_,j.lng-C),q=new Se(O.lat-_,O.lng-C);return new _e(F,q)}},Oe=s({},te,{wrapLng:[-180,180],R:6371e3,distance:function(o,u){var f=Math.PI/180,_=o.lat*f,C=u.lat*f,j=Math.sin((u.lat-o.lat)*f/2),O=Math.sin((u.lng-o.lng)*f/2),F=j*j+Math.cos(_)*Math.cos(C)*O*O,q=2*Math.atan2(Math.sqrt(F),Math.sqrt(1-F));return this.R*q}}),We=6378137,De={R:We,MAX_LATITUDE:85.0511287798,project:function(o){var u=Math.PI/180,f=this.MAX_LATITUDE,_=Math.max(Math.min(f,o.lat),-f),C=Math.sin(_*u);return new A(this.R*o.lng*u,this.R*Math.log((1+C)/(1-C))/2)},unproject:function(o){var u=180/Math.PI;return new Se((2*Math.atan(Math.exp(o.y/this.R))-Math.PI/2)*u,o.x*u/this.R)},bounds:function(){var o=We*Math.PI;return new re([-o,-o],[o,o])}()};function Ue(o,u,f,_){if(k(o)){this._a=o[0],this._b=o[1],this._c=o[2],this._d=o[3];return}this._a=o,this._b=u,this._c=f,this._d=_}Ue.prototype={transform:function(o,u){return this._transform(o.clone(),u)},_transform:function(o,u){return u=u||1,o.x=u*(this._a*o.x+this._b),o.y=u*(this._c*o.y+this._d),o},untransform:function(o,u){return u=u||1,new A((o.x/u-this._b)/this._a,(o.y/u-this._d)/this._c)}};function ze(o,u,f,_){return new Ue(o,u,f,_)}var xt=s({},Oe,{code:"EPSG:3857",projection:De,transformation:function(){var o=.5/(Math.PI*De.R);return ze(o,.5,-o,.5)}()}),Ht=s({},xt,{code:"EPSG:900913"});function In(o){return document.createElementNS("http://www.w3.org/2000/svg",o)}function Dn(o,u){var f="",_,C,j,O,F,q;for(_=0,j=o.length;_<j;_++){for(F=o[_],C=0,O=F.length;C<O;C++)q=F[C],f+=(C?"L":"M")+q.x+" "+q.y;f+=u?Ce.svg?"z":"x":""}return f||"M0 0"}var $n=document.documentElement.style,gr="ActiveXObject"in window,vr=gr&&!document.addEventListener,I="msLaunchUri"in navigator&&!("documentMode"in document),z=Gr("webkit"),K=Gr("android"),ce=Gr("android 2")||Gr("android 3"),ue=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),oe=K&&Gr("Google")&&ue<537&&!("AudioNode"in window),fe=!!window.opera,qe=!I&&Gr("chrome"),tt=Gr("gecko")&&!z&&!fe&&!gr,Jt=!qe&&Gr("safari"),tr=Gr("phantom"),Fn="OTransition"in $n,Vo=navigator.platform.indexOf("Win")===0,Vr=gr&&"transition"in $n,Cn="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!ce,Vi="MozPerspective"in $n,yr=!window.L_DISABLE_3D&&(Vr||Cn||Vi)&&!Fn&&!tr,ps=typeof orientation<"u"||Gr("mobile"),Wo=ps&&z,Iu=ps&&Cn,Ll=!window.PointerEvent&&window.MSPointerEvent,Du=!!(window.PointerEvent||Ll),qo="ontouchstart"in window||!!window.TouchEvent,Wr=!window.L_NO_TOUCH&&(qo||Du),mm=ps&&fe,Ae=ps&&tt,nt=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,it=function(){var o=!1;try{var u=Object.defineProperty({},"passive",{get:function(){o=!0}});window.addEventListener("testPassiveEventSupport",g,u),window.removeEventListener("testPassiveEventSupport",g,u)}catch{}return o}(),zn=function(){return!!document.createElement("canvas").getContext}(),un=!!(document.createElementNS&&In("svg").createSVGRect),qr=!!un&&function(){var o=document.createElement("div");return o.innerHTML="<svg/>",(o.firstChild&&o.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),gs=!un&&function(){try{var o=document.createElement("div");o.innerHTML='<v:shape adj="1"/>';var u=o.firstChild;return u.style.behavior="url(#default#VML)",u&&typeof u.adj=="object"}catch{return!1}}(),Bn=navigator.platform.indexOf("Mac")===0,Hr=navigator.platform.indexOf("Linux")===0;function Gr(o){return navigator.userAgent.toLowerCase().indexOf(o)>=0}var Ce={ie:gr,ielt9:vr,edge:I,webkit:z,android:K,android23:ce,androidStock:oe,opera:fe,chrome:qe,gecko:tt,safari:Jt,phantom:tr,opera12:Fn,win:Vo,ie3d:Vr,webkit3d:Cn,gecko3d:Vi,any3d:yr,mobile:ps,mobileWebkit:Wo,mobileWebkit3d:Iu,msPointer:Ll,pointer:Du,touch:Wr,touchNative:qo,mobileOpera:mm,mobileGecko:Ae,retina:nt,passiveEvents:it,canvas:zn,svg:un,vml:gs,inlineSvg:qr,mac:Bn,linux:Hr},e_=Ce.msPointer?"MSPointerDown":"pointerdown",t_=Ce.msPointer?"MSPointerMove":"pointermove",n_=Ce.msPointer?"MSPointerUp":"pointerup",r_=Ce.msPointer?"MSPointerCancel":"pointercancel",pm={touchstart:e_,touchmove:t_,touchend:n_,touchcancel:r_},s_={touchstart:H2,touchmove:$u,touchend:$u,touchcancel:$u},Ho={},i_=!1;function B2(o,u,f){return u==="touchstart"&&q2(),s_[u]?(f=s_[u].bind(this,f),o.addEventListener(pm[u],f,!1),f):(console.warn("wrong event specified:",u),g)}function U2(o,u,f){if(!pm[u]){console.warn("wrong event specified:",u);return}o.removeEventListener(pm[u],f,!1)}function V2(o){Ho[o.pointerId]=o}function W2(o){Ho[o.pointerId]&&(Ho[o.pointerId]=o)}function o_(o){delete Ho[o.pointerId]}function q2(){i_||(document.addEventListener(e_,V2,!0),document.addEventListener(t_,W2,!0),document.addEventListener(n_,o_,!0),document.addEventListener(r_,o_,!0),i_=!0)}function $u(o,u){if(u.pointerType!==(u.MSPOINTER_TYPE_MOUSE||"mouse")){u.touches=[];for(var f in Ho)u.touches.push(Ho[f]);u.changedTouches=[u],o(u)}}function H2(o,u){u.MSPOINTER_TYPE_TOUCH&&u.pointerType===u.MSPOINTER_TYPE_TOUCH&&Gt(u),$u(o,u)}function G2(o){var u={},f,_;for(_ in o)f=o[_],u[_]=f&&f.bind?f.bind(o):f;return o=u,u.type="dblclick",u.detail=2,u.isTrusted=!1,u._simulated=!0,u}var Z2=200;function K2(o,u){o.addEventListener("dblclick",u);var f=0,_;function C(j){if(j.detail!==1){_=j.detail;return}if(!(j.pointerType==="mouse"||j.sourceCapabilities&&!j.sourceCapabilities.firesTouchEvents)){var O=d_(j);if(!(O.some(function(q){return q instanceof HTMLLabelElement&&q.attributes.for})&&!O.some(function(q){return q instanceof HTMLInputElement||q instanceof HTMLSelectElement}))){var F=Date.now();F-f<=Z2?(_++,_===2&&u(G2(j))):_=1,f=F}}}return o.addEventListener("click",C),{dblclick:u,simDblclick:C}}function Y2(o,u){o.removeEventListener("dblclick",u.dblclick),o.removeEventListener("click",u.simDblclick)}var gm=Bu(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Ml=Bu(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),a_=Ml==="webkitTransition"||Ml==="OTransition"?Ml+"End":"transitionend";function l_(o){return typeof o=="string"?document.getElementById(o):o}function Il(o,u){var f=o.style[u]||o.currentStyle&&o.currentStyle[u];if((!f||f==="auto")&&document.defaultView){var _=document.defaultView.getComputedStyle(o,null);f=_?_[u]:null}return f==="auto"?null:f}function Qe(o,u,f){var _=document.createElement(o);return _.className=u||"",f&&f.appendChild(_),_}function pt(o){var u=o.parentNode;u&&u.removeChild(o)}function Fu(o){for(;o.firstChild;)o.removeChild(o.firstChild)}function Go(o){var u=o.parentNode;u&&u.lastChild!==o&&u.appendChild(o)}function Zo(o){var u=o.parentNode;u&&u.firstChild!==o&&u.insertBefore(o,u.firstChild)}function vm(o,u){if(o.classList!==void 0)return o.classList.contains(u);var f=zu(o);return f.length>0&&new RegExp("(^|\\s)"+u+"(\\s|$)").test(f)}function Ve(o,u){if(o.classList!==void 0)for(var f=b(u),_=0,C=f.length;_<C;_++)o.classList.add(f[_]);else if(!vm(o,u)){var j=zu(o);ym(o,(j?j+" ":"")+u)}}function Ct(o,u){o.classList!==void 0?o.classList.remove(u):ym(o,v((" "+zu(o)+" ").replace(" "+u+" "," ")))}function ym(o,u){o.className.baseVal===void 0?o.className=u:o.className.baseVal=u}function zu(o){return o.correspondingElement&&(o=o.correspondingElement),o.className.baseVal===void 0?o.className:o.className.baseVal}function nr(o,u){"opacity"in o.style?o.style.opacity=u:"filter"in o.style&&X2(o,u)}function X2(o,u){var f=!1,_="DXImageTransform.Microsoft.Alpha";try{f=o.filters.item(_)}catch{if(u===1)return}u=Math.round(u*100),f?(f.Enabled=u!==100,f.Opacity=u):o.style.filter+=" progid:"+_+"(opacity="+u+")"}function Bu(o){for(var u=document.documentElement.style,f=0;f<o.length;f++)if(o[f]in u)return o[f];return!1}function Wi(o,u,f){var _=u||new A(0,0);o.style[gm]=(Ce.ie3d?"translate("+_.x+"px,"+_.y+"px)":"translate3d("+_.x+"px,"+_.y+"px,0)")+(f?" scale("+f+")":"")}function Rt(o,u){o._leaflet_pos=u,Ce.any3d?Wi(o,u):(o.style.left=u.x+"px",o.style.top=u.y+"px")}function qi(o){return o._leaflet_pos||new A(0,0)}var Dl,$l,xm;if("onselectstart"in document)Dl=function(){$e(window,"selectstart",Gt)},$l=function(){ot(window,"selectstart",Gt)};else{var Fl=Bu(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Dl=function(){if(Fl){var o=document.documentElement.style;xm=o[Fl],o[Fl]="none"}},$l=function(){Fl&&(document.documentElement.style[Fl]=xm,xm=void 0)}}function _m(){$e(window,"dragstart",Gt)}function wm(){ot(window,"dragstart",Gt)}var Uu,bm;function Sm(o){for(;o.tabIndex===-1;)o=o.parentNode;o.style&&(Vu(),Uu=o,bm=o.style.outlineStyle,o.style.outlineStyle="none",$e(window,"keydown",Vu))}function Vu(){Uu&&(Uu.style.outlineStyle=bm,Uu=void 0,bm=void 0,ot(window,"keydown",Vu))}function c_(o){do o=o.parentNode;while((!o.offsetWidth||!o.offsetHeight)&&o!==document.body);return o}function km(o){var u=o.getBoundingClientRect();return{x:u.width/o.offsetWidth||1,y:u.height/o.offsetHeight||1,boundingClientRect:u}}var Q2={__proto__:null,TRANSFORM:gm,TRANSITION:Ml,TRANSITION_END:a_,get:l_,getStyle:Il,create:Qe,remove:pt,empty:Fu,toFront:Go,toBack:Zo,hasClass:vm,addClass:Ve,removeClass:Ct,setClass:ym,getClass:zu,setOpacity:nr,testProp:Bu,setTransform:Wi,setPosition:Rt,getPosition:qi,get disableTextSelection(){return Dl},get enableTextSelection(){return $l},disableImageDrag:_m,enableImageDrag:wm,preventOutline:Sm,restoreOutline:Vu,getSizedParentNode:c_,getScale:km};function $e(o,u,f,_){if(u&&typeof u=="object")for(var C in u)Cm(o,C,u[C],f);else{u=b(u);for(var j=0,O=u.length;j<O;j++)Cm(o,u[j],f,_)}return this}var Zr="_leaflet_events";function ot(o,u,f,_){if(arguments.length===1)u_(o),delete o[Zr];else if(u&&typeof u=="object")for(var C in u)Pm(o,C,u[C],f);else if(u=b(u),arguments.length===2)u_(o,function(F){return P(u,F)!==-1});else for(var j=0,O=u.length;j<O;j++)Pm(o,u[j],f,_);return this}function u_(o,u){for(var f in o[Zr]){var _=f.split(/\d/)[0];(!u||u(_))&&Pm(o,_,null,null,f)}}var Nm={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Cm(o,u,f,_){var C=u+d(f)+(_?"_"+d(_):"");if(o[Zr]&&o[Zr][C])return this;var j=function(F){return f.call(_||o,F||window.event)},O=j;!Ce.touchNative&&Ce.pointer&&u.indexOf("touch")===0?j=B2(o,u,j):Ce.touch&&u==="dblclick"?j=K2(o,j):"addEventListener"in o?u==="touchstart"||u==="touchmove"||u==="wheel"||u==="mousewheel"?o.addEventListener(Nm[u]||u,j,Ce.passiveEvents?{passive:!1}:!1):u==="mouseenter"||u==="mouseleave"?(j=function(F){F=F||window.event,Tm(o,F)&&O(F)},o.addEventListener(Nm[u],j,!1)):o.addEventListener(u,O,!1):o.attachEvent("on"+u,j),o[Zr]=o[Zr]||{},o[Zr][C]=j}function Pm(o,u,f,_,C){C=C||u+d(f)+(_?"_"+d(_):"");var j=o[Zr]&&o[Zr][C];if(!j)return this;!Ce.touchNative&&Ce.pointer&&u.indexOf("touch")===0?U2(o,u,j):Ce.touch&&u==="dblclick"?Y2(o,j):"removeEventListener"in o?o.removeEventListener(Nm[u]||u,j,!1):o.detachEvent("on"+u,j),o[Zr][C]=null}function Hi(o){return o.stopPropagation?o.stopPropagation():o.originalEvent?o.originalEvent._stopped=!0:o.cancelBubble=!0,this}function jm(o){return Cm(o,"wheel",Hi),this}function zl(o){return $e(o,"mousedown touchstart dblclick contextmenu",Hi),o._leaflet_disable_click=!0,this}function Gt(o){return o.preventDefault?o.preventDefault():o.returnValue=!1,this}function Gi(o){return Gt(o),Hi(o),this}function d_(o){if(o.composedPath)return o.composedPath();for(var u=[],f=o.target;f;)u.push(f),f=f.parentNode;return u}function h_(o,u){if(!u)return new A(o.clientX,o.clientY);var f=km(u),_=f.boundingClientRect;return new A((o.clientX-_.left)/f.x-u.clientLeft,(o.clientY-_.top)/f.y-u.clientTop)}var J2=Ce.linux&&Ce.chrome?window.devicePixelRatio:Ce.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function f_(o){return Ce.edge?o.wheelDeltaY/2:o.deltaY&&o.deltaMode===0?-o.deltaY/J2:o.deltaY&&o.deltaMode===1?-o.deltaY*20:o.deltaY&&o.deltaMode===2?-o.deltaY*60:o.deltaX||o.deltaZ?0:o.wheelDelta?(o.wheelDeltaY||o.wheelDelta)/2:o.detail&&Math.abs(o.detail)<32765?-o.detail*20:o.detail?o.detail/-32765*60:0}function Tm(o,u){var f=u.relatedTarget;if(!f)return!0;try{for(;f&&f!==o;)f=f.parentNode}catch{return!1}return f!==o}var eR={__proto__:null,on:$e,off:ot,stopPropagation:Hi,disableScrollPropagation:jm,disableClickPropagation:zl,preventDefault:Gt,stop:Gi,getPropagationPath:d_,getMousePosition:h_,getWheelDelta:f_,isExternalTarget:Tm,addListener:$e,removeListener:ot},m_=se.extend({run:function(o,u,f,_){this.stop(),this._el=o,this._inProgress=!0,this._duration=f||.25,this._easeOutPower=1/Math.max(_||.5,.2),this._startPos=qi(o),this._offset=u.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=Q(this._animate,this),this._step()},_step:function(o){var u=+new Date-this._startTime,f=this._duration*1e3;u<f?this._runFrame(this._easeOut(u/f),o):(this._runFrame(1),this._complete())},_runFrame:function(o,u){var f=this._startPos.add(this._offset.multiplyBy(o));u&&f._round(),Rt(this._el,f),this.fire("step")},_complete:function(){W(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(o){return 1-Math.pow(1-o,this._easeOutPower)}}),Ke=se.extend({options:{crs:xt,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(o,u){u=x(this,u),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(o),this._initLayout(),this._onResize=a(this._onResize,this),this._initEvents(),u.maxBounds&&this.setMaxBounds(u.maxBounds),u.zoom!==void 0&&(this._zoom=this._limitZoom(u.zoom)),u.center&&u.zoom!==void 0&&this.setView(xe(u.center),u.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=Ml&&Ce.any3d&&!Ce.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),$e(this._proxy,a_,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(o,u,f){if(u=u===void 0?this._zoom:this._limitZoom(u),o=this._limitCenter(xe(o),u,this.options.maxBounds),f=f||{},this._stop(),this._loaded&&!f.reset&&f!==!0){f.animate!==void 0&&(f.zoom=s({animate:f.animate},f.zoom),f.pan=s({animate:f.animate,duration:f.duration},f.pan));var _=this._zoom!==u?this._tryAnimatedZoom&&this._tryAnimatedZoom(o,u,f.zoom):this._tryAnimatedPan(o,f.pan);if(_)return clearTimeout(this._sizeTimer),this}return this._resetView(o,u,f.pan&&f.pan.noMoveStart),this},setZoom:function(o,u){return this._loaded?this.setView(this.getCenter(),o,{zoom:u}):(this._zoom=o,this)},zoomIn:function(o,u){return o=o||(Ce.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+o,u)},zoomOut:function(o,u){return o=o||(Ce.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-o,u)},setZoomAround:function(o,u,f){var _=this.getZoomScale(u),C=this.getSize().divideBy(2),j=o instanceof A?o:this.latLngToContainerPoint(o),O=j.subtract(C).multiplyBy(1-1/_),F=this.containerPointToLatLng(C.add(O));return this.setView(F,u,{zoom:f})},_getBoundsCenterZoom:function(o,u){u=u||{},o=o.getBounds?o.getBounds():me(o);var f=U(u.paddingTopLeft||u.padding||[0,0]),_=U(u.paddingBottomRight||u.padding||[0,0]),C=this.getBoundsZoom(o,!1,f.add(_));if(C=typeof u.maxZoom=="number"?Math.min(u.maxZoom,C):C,C===1/0)return{center:o.getCenter(),zoom:C};var j=_.subtract(f).divideBy(2),O=this.project(o.getSouthWest(),C),F=this.project(o.getNorthEast(),C),q=this.unproject(O.add(F).divideBy(2).add(j),C);return{center:q,zoom:C}},fitBounds:function(o,u){if(o=me(o),!o.isValid())throw new Error("Bounds are not valid.");var f=this._getBoundsCenterZoom(o,u);return this.setView(f.center,f.zoom,u)},fitWorld:function(o){return this.fitBounds([[-90,-180],[90,180]],o)},panTo:function(o,u){return this.setView(o,this._zoom,{pan:u})},panBy:function(o,u){if(o=U(o).round(),u=u||{},!o.x&&!o.y)return this.fire("moveend");if(u.animate!==!0&&!this.getSize().contains(o))return this._resetView(this.unproject(this.project(this.getCenter()).add(o)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new m_,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),u.noMoveStart||this.fire("movestart"),u.animate!==!1){Ve(this._mapPane,"leaflet-pan-anim");var f=this._getMapPanePos().subtract(o).round();this._panAnim.run(this._mapPane,f,u.duration||.25,u.easeLinearity)}else this._rawPanBy(o),this.fire("move").fire("moveend");return this},flyTo:function(o,u,f){if(f=f||{},f.animate===!1||!Ce.any3d)return this.setView(o,u,f);this._stop();var _=this.project(this.getCenter()),C=this.project(o),j=this.getSize(),O=this._zoom;o=xe(o),u=u===void 0?O:u;var F=Math.max(j.x,j.y),q=F*this.getZoomScale(O,u),J=C.distanceTo(_)||1,pe=1.42,Ee=pe*pe;function He(At){var td=At?-1:1,UR=At?q:F,VR=q*q-F*F+td*Ee*Ee*J*J,WR=2*UR*Ee*J,zm=VR/WR,Z_=Math.sqrt(zm*zm+1)-zm,qR=Z_<1e-9?-18:Math.log(Z_);return qR}function dn(At){return(Math.exp(At)-Math.exp(-At))/2}function Bt(At){return(Math.exp(At)+Math.exp(-At))/2}function sr(At){return dn(At)/Bt(At)}var Pn=He(0);function ea(At){return F*(Bt(Pn)/Bt(Pn+pe*At))}function $R(At){return F*(Bt(Pn)*sr(Pn+pe*At)-dn(Pn))/Ee}function FR(At){return 1-Math.pow(1-At,1.5)}var zR=Date.now(),H_=(He(1)-Pn)/pe,BR=f.duration?1e3*f.duration:1e3*H_*.8;function G_(){var At=(Date.now()-zR)/BR,td=FR(At)*H_;At<=1?(this._flyToFrame=Q(G_,this),this._move(this.unproject(_.add(C.subtract(_).multiplyBy($R(td)/J)),O),this.getScaleZoom(F/ea(td),O),{flyTo:!0})):this._move(o,u)._moveEnd(!0)}return this._moveStart(!0,f.noMoveStart),G_.call(this),this},flyToBounds:function(o,u){var f=this._getBoundsCenterZoom(o,u);return this.flyTo(f.center,f.zoom,u)},setMaxBounds:function(o){return o=me(o),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),o.isValid()?(this.options.maxBounds=o,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(o){var u=this.options.minZoom;return this.options.minZoom=o,this._loaded&&u!==o&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(o):this},setMaxZoom:function(o){var u=this.options.maxZoom;return this.options.maxZoom=o,this._loaded&&u!==o&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(o):this},panInsideBounds:function(o,u){this._enforcingBounds=!0;var f=this.getCenter(),_=this._limitCenter(f,this._zoom,me(o));return f.equals(_)||this.panTo(_,u),this._enforcingBounds=!1,this},panInside:function(o,u){u=u||{};var f=U(u.paddingTopLeft||u.padding||[0,0]),_=U(u.paddingBottomRight||u.padding||[0,0]),C=this.project(this.getCenter()),j=this.project(o),O=this.getPixelBounds(),F=le([O.min.add(f),O.max.subtract(_)]),q=F.getSize();if(!F.contains(j)){this._enforcingBounds=!0;var J=j.subtract(F.getCenter()),pe=F.extend(j).getSize().subtract(q);C.x+=J.x<0?-pe.x:pe.x,C.y+=J.y<0?-pe.y:pe.y,this.panTo(this.unproject(C),u),this._enforcingBounds=!1}return this},invalidateSize:function(o){if(!this._loaded)return this;o=s({animate:!1,pan:!0},o===!0?{animate:!0}:o);var u=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var f=this.getSize(),_=u.divideBy(2).round(),C=f.divideBy(2).round(),j=_.subtract(C);return!j.x&&!j.y?this:(o.animate&&o.pan?this.panBy(j):(o.pan&&this._rawPanBy(j),this.fire("move"),o.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(a(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:u,newSize:f}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(o){if(o=this._locateOptions=s({timeout:1e4,watch:!1},o),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var u=a(this._handleGeolocationResponse,this),f=a(this._handleGeolocationError,this);return o.watch?this._locationWatchId=navigator.geolocation.watchPosition(u,f,o):navigator.geolocation.getCurrentPosition(u,f,o),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(o){if(this._container._leaflet_id){var u=o.code,f=o.message||(u===1?"permission denied":u===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:u,message:"Geolocation error: "+f+"."})}},_handleGeolocationResponse:function(o){if(this._container._leaflet_id){var u=o.coords.latitude,f=o.coords.longitude,_=new Se(u,f),C=_.toBounds(o.coords.accuracy*2),j=this._locateOptions;if(j.setView){var O=this.getBoundsZoom(C);this.setView(_,j.maxZoom?Math.min(O,j.maxZoom):O)}var F={latlng:_,bounds:C,timestamp:o.timestamp};for(var q in o.coords)typeof o.coords[q]=="number"&&(F[q]=o.coords[q]);this.fire("locationfound",F)}},addHandler:function(o,u){if(!u)return this;var f=this[o]=new u(this);return this._handlers.push(f),this.options[o]&&f.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),pt(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(W(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var o;for(o in this._layers)this._layers[o].remove();for(o in this._panes)pt(this._panes[o]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(o,u){var f="leaflet-pane"+(o?" leaflet-"+o.replace("Pane","")+"-pane":""),_=Qe("div",f,u||this._mapPane);return o&&(this._panes[o]=_),_},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var o=this.getPixelBounds(),u=this.unproject(o.getBottomLeft()),f=this.unproject(o.getTopRight());return new _e(u,f)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(o,u,f){o=me(o),f=U(f||[0,0]);var _=this.getZoom()||0,C=this.getMinZoom(),j=this.getMaxZoom(),O=o.getNorthWest(),F=o.getSouthEast(),q=this.getSize().subtract(f),J=le(this.project(F,_),this.project(O,_)).getSize(),pe=Ce.any3d?this.options.zoomSnap:1,Ee=q.x/J.x,He=q.y/J.y,dn=u?Math.max(Ee,He):Math.min(Ee,He);return _=this.getScaleZoom(dn,_),pe&&(_=Math.round(_/(pe/100))*(pe/100),_=u?Math.ceil(_/pe)*pe:Math.floor(_/pe)*pe),Math.max(C,Math.min(j,_))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new A(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(o,u){var f=this._getTopLeftPoint(o,u);return new re(f,f.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(o){return this.options.crs.getProjectedBounds(o===void 0?this.getZoom():o)},getPane:function(o){return typeof o=="string"?this._panes[o]:o},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(o,u){var f=this.options.crs;return u=u===void 0?this._zoom:u,f.scale(o)/f.scale(u)},getScaleZoom:function(o,u){var f=this.options.crs;u=u===void 0?this._zoom:u;var _=f.zoom(o*f.scale(u));return isNaN(_)?1/0:_},project:function(o,u){return u=u===void 0?this._zoom:u,this.options.crs.latLngToPoint(xe(o),u)},unproject:function(o,u){return u=u===void 0?this._zoom:u,this.options.crs.pointToLatLng(U(o),u)},layerPointToLatLng:function(o){var u=U(o).add(this.getPixelOrigin());return this.unproject(u)},latLngToLayerPoint:function(o){var u=this.project(xe(o))._round();return u._subtract(this.getPixelOrigin())},wrapLatLng:function(o){return this.options.crs.wrapLatLng(xe(o))},wrapLatLngBounds:function(o){return this.options.crs.wrapLatLngBounds(me(o))},distance:function(o,u){return this.options.crs.distance(xe(o),xe(u))},containerPointToLayerPoint:function(o){return U(o).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(o){return U(o).add(this._getMapPanePos())},containerPointToLatLng:function(o){var u=this.containerPointToLayerPoint(U(o));return this.layerPointToLatLng(u)},latLngToContainerPoint:function(o){return this.layerPointToContainerPoint(this.latLngToLayerPoint(xe(o)))},mouseEventToContainerPoint:function(o){return h_(o,this._container)},mouseEventToLayerPoint:function(o){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(o))},mouseEventToLatLng:function(o){return this.layerPointToLatLng(this.mouseEventToLayerPoint(o))},_initContainer:function(o){var u=this._container=l_(o);if(u){if(u._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");$e(u,"scroll",this._onScroll,this),this._containerId=d(u)},_initLayout:function(){var o=this._container;this._fadeAnimated=this.options.fadeAnimation&&Ce.any3d,Ve(o,"leaflet-container"+(Ce.touch?" leaflet-touch":"")+(Ce.retina?" leaflet-retina":"")+(Ce.ielt9?" leaflet-oldie":"")+(Ce.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var u=Il(o,"position");u!=="absolute"&&u!=="relative"&&u!=="fixed"&&u!=="sticky"&&(o.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var o=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Rt(this._mapPane,new A(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(Ve(o.markerPane,"leaflet-zoom-hide"),Ve(o.shadowPane,"leaflet-zoom-hide"))},_resetView:function(o,u,f){Rt(this._mapPane,new A(0,0));var _=!this._loaded;this._loaded=!0,u=this._limitZoom(u),this.fire("viewprereset");var C=this._zoom!==u;this._moveStart(C,f)._move(o,u)._moveEnd(C),this.fire("viewreset"),_&&this.fire("load")},_moveStart:function(o,u){return o&&this.fire("zoomstart"),u||this.fire("movestart"),this},_move:function(o,u,f,_){u===void 0&&(u=this._zoom);var C=this._zoom!==u;return this._zoom=u,this._lastCenter=o,this._pixelOrigin=this._getNewPixelOrigin(o),_?f&&f.pinch&&this.fire("zoom",f):((C||f&&f.pinch)&&this.fire("zoom",f),this.fire("move",f)),this},_moveEnd:function(o){return o&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return W(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(o){Rt(this._mapPane,this._getMapPanePos().subtract(o))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(o){this._targets={},this._targets[d(this._container)]=this;var u=o?ot:$e;u(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&u(window,"resize",this._onResize,this),Ce.any3d&&this.options.transform3DLimit&&(o?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){W(this._resizeRequest),this._resizeRequest=Q(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var o=this._getMapPanePos();Math.max(Math.abs(o.x),Math.abs(o.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(o,u){for(var f=[],_,C=u==="mouseout"||u==="mouseover",j=o.target||o.srcElement,O=!1;j;){if(_=this._targets[d(j)],_&&(u==="click"||u==="preclick")&&this._draggableMoved(_)){O=!0;break}if(_&&_.listens(u,!0)&&(C&&!Tm(j,o)||(f.push(_),C))||j===this._container)break;j=j.parentNode}return!f.length&&!O&&!C&&this.listens(u,!0)&&(f=[this]),f},_isClickDisabled:function(o){for(;o&&o!==this._container;){if(o._leaflet_disable_click)return!0;o=o.parentNode}},_handleDOMEvent:function(o){var u=o.target||o.srcElement;if(!(!this._loaded||u._leaflet_disable_events||o.type==="click"&&this._isClickDisabled(u))){var f=o.type;f==="mousedown"&&Sm(u),this._fireDOMEvent(o,f)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(o,u,f){if(o.type==="click"){var _=s({},o);_.type="preclick",this._fireDOMEvent(_,_.type,f)}var C=this._findEventTargets(o,u);if(f){for(var j=[],O=0;O<f.length;O++)f[O].listens(u,!0)&&j.push(f[O]);C=j.concat(C)}if(C.length){u==="contextmenu"&&Gt(o);var F=C[0],q={originalEvent:o};if(o.type!=="keypress"&&o.type!=="keydown"&&o.type!=="keyup"){var J=F.getLatLng&&(!F._radius||F._radius<=10);q.containerPoint=J?this.latLngToContainerPoint(F.getLatLng()):this.mouseEventToContainerPoint(o),q.layerPoint=this.containerPointToLayerPoint(q.containerPoint),q.latlng=J?F.getLatLng():this.layerPointToLatLng(q.layerPoint)}for(O=0;O<C.length;O++)if(C[O].fire(u,q,!0),q.originalEvent._stopped||C[O].options.bubblingMouseEvents===!1&&P(this._mouseEvents,u)!==-1)return}},_draggableMoved:function(o){return o=o.dragging&&o.dragging.enabled()?o:this,o.dragging&&o.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var o=0,u=this._handlers.length;o<u;o++)this._handlers[o].disable()},whenReady:function(o,u){return this._loaded?o.call(u||this,{target:this}):this.on("load",o,u),this},_getMapPanePos:function(){return qi(this._mapPane)||new A(0,0)},_moved:function(){var o=this._getMapPanePos();return o&&!o.equals([0,0])},_getTopLeftPoint:function(o,u){var f=o&&u!==void 0?this._getNewPixelOrigin(o,u):this.getPixelOrigin();return f.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(o,u){var f=this.getSize()._divideBy(2);return this.project(o,u)._subtract(f)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(o,u,f){var _=this._getNewPixelOrigin(f,u);return this.project(o,u)._subtract(_)},_latLngBoundsToNewLayerBounds:function(o,u,f){var _=this._getNewPixelOrigin(f,u);return le([this.project(o.getSouthWest(),u)._subtract(_),this.project(o.getNorthWest(),u)._subtract(_),this.project(o.getSouthEast(),u)._subtract(_),this.project(o.getNorthEast(),u)._subtract(_)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(o){return this.latLngToLayerPoint(o).subtract(this._getCenterLayerPoint())},_limitCenter:function(o,u,f){if(!f)return o;var _=this.project(o,u),C=this.getSize().divideBy(2),j=new re(_.subtract(C),_.add(C)),O=this._getBoundsOffset(j,f,u);return Math.abs(O.x)<=1&&Math.abs(O.y)<=1?o:this.unproject(_.add(O),u)},_limitOffset:function(o,u){if(!u)return o;var f=this.getPixelBounds(),_=new re(f.min.add(o),f.max.add(o));return o.add(this._getBoundsOffset(_,u))},_getBoundsOffset:function(o,u,f){var _=le(this.project(u.getNorthEast(),f),this.project(u.getSouthWest(),f)),C=_.min.subtract(o.min),j=_.max.subtract(o.max),O=this._rebound(C.x,-j.x),F=this._rebound(C.y,-j.y);return new A(O,F)},_rebound:function(o,u){return o+u>0?Math.round(o-u)/2:Math.max(0,Math.ceil(o))-Math.max(0,Math.floor(u))},_limitZoom:function(o){var u=this.getMinZoom(),f=this.getMaxZoom(),_=Ce.any3d?this.options.zoomSnap:1;return _&&(o=Math.round(o/_)*_),Math.max(u,Math.min(f,o))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){Ct(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(o,u){var f=this._getCenterOffset(o)._trunc();return(u&&u.animate)!==!0&&!this.getSize().contains(f)?!1:(this.panBy(f,u),!0)},_createAnimProxy:function(){var o=this._proxy=Qe("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(o),this.on("zoomanim",function(u){var f=gm,_=this._proxy.style[f];Wi(this._proxy,this.project(u.center,u.zoom),this.getZoomScale(u.zoom,1)),_===this._proxy.style[f]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){pt(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var o=this.getCenter(),u=this.getZoom();Wi(this._proxy,this.project(o,u),this.getZoomScale(u,1))},_catchTransitionEnd:function(o){this._animatingZoom&&o.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(o,u,f){if(this._animatingZoom)return!0;if(f=f||{},!this._zoomAnimated||f.animate===!1||this._nothingToAnimate()||Math.abs(u-this._zoom)>this.options.zoomAnimationThreshold)return!1;var _=this.getZoomScale(u),C=this._getCenterOffset(o)._divideBy(1-1/_);return f.animate!==!0&&!this.getSize().contains(C)?!1:(Q(function(){this._moveStart(!0,f.noMoveStart||!1)._animateZoom(o,u,!0)},this),!0)},_animateZoom:function(o,u,f,_){this._mapPane&&(f&&(this._animatingZoom=!0,this._animateToCenter=o,this._animateToZoom=u,Ve(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:o,zoom:u,noUpdate:_}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(a(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&Ct(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function tR(o,u){return new Ke(o,u)}var xr=B.extend({options:{position:"topright"},initialize:function(o){x(this,o)},getPosition:function(){return this.options.position},setPosition:function(o){var u=this._map;return u&&u.removeControl(this),this.options.position=o,u&&u.addControl(this),this},getContainer:function(){return this._container},addTo:function(o){this.remove(),this._map=o;var u=this._container=this.onAdd(o),f=this.getPosition(),_=o._controlCorners[f];return Ve(u,"leaflet-control"),f.indexOf("bottom")!==-1?_.insertBefore(u,_.firstChild):_.appendChild(u),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(pt(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(o){this._map&&o&&o.screenX>0&&o.screenY>0&&this._map.getContainer().focus()}}),Bl=function(o){return new xr(o)};Ke.include({addControl:function(o){return o.addTo(this),this},removeControl:function(o){return o.remove(),this},_initControlPos:function(){var o=this._controlCorners={},u="leaflet-",f=this._controlContainer=Qe("div",u+"control-container",this._container);function _(C,j){var O=u+C+" "+u+j;o[C+j]=Qe("div",O,f)}_("top","left"),_("top","right"),_("bottom","left"),_("bottom","right")},_clearControlPos:function(){for(var o in this._controlCorners)pt(this._controlCorners[o]);pt(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var p_=xr.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(o,u,f,_){return f<_?-1:_<f?1:0}},initialize:function(o,u,f){x(this,f),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var _ in o)this._addLayer(o[_],_);for(_ in u)this._addLayer(u[_],_,!0)},onAdd:function(o){this._initLayout(),this._update(),this._map=o,o.on("zoomend",this._checkDisabledLayers,this);for(var u=0;u<this._layers.length;u++)this._layers[u].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(o){return xr.prototype.addTo.call(this,o),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var o=0;o<this._layers.length;o++)this._layers[o].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(o,u){return this._addLayer(o,u),this._map?this._update():this},addOverlay:function(o,u){return this._addLayer(o,u,!0),this._map?this._update():this},removeLayer:function(o){o.off("add remove",this._onLayerChange,this);var u=this._getLayer(d(o));return u&&this._layers.splice(this._layers.indexOf(u),1),this._map?this._update():this},expand:function(){Ve(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var o=this._map.getSize().y-(this._container.offsetTop+50);return o<this._section.clientHeight?(Ve(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=o+"px"):Ct(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return Ct(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var o="leaflet-control-layers",u=this._container=Qe("div",o),f=this.options.collapsed;u.setAttribute("aria-haspopup",!0),zl(u),jm(u);var _=this._section=Qe("section",o+"-list");f&&(this._map.on("click",this.collapse,this),$e(u,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var C=this._layersLink=Qe("a",o+"-toggle",u);C.href="#",C.title="Layers",C.setAttribute("role","button"),$e(C,{keydown:function(j){j.keyCode===13&&this._expandSafely()},click:function(j){Gt(j),this._expandSafely()}},this),f||this.expand(),this._baseLayersList=Qe("div",o+"-base",_),this._separator=Qe("div",o+"-separator",_),this._overlaysList=Qe("div",o+"-overlays",_),u.appendChild(_)},_getLayer:function(o){for(var u=0;u<this._layers.length;u++)if(this._layers[u]&&d(this._layers[u].layer)===o)return this._layers[u]},_addLayer:function(o,u,f){this._map&&o.on("add remove",this._onLayerChange,this),this._layers.push({layer:o,name:u,overlay:f}),this.options.sortLayers&&this._layers.sort(a(function(_,C){return this.options.sortFunction(_.layer,C.layer,_.name,C.name)},this)),this.options.autoZIndex&&o.setZIndex&&(this._lastZIndex++,o.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;Fu(this._baseLayersList),Fu(this._overlaysList),this._layerControlInputs=[];var o,u,f,_,C=0;for(f=0;f<this._layers.length;f++)_=this._layers[f],this._addItem(_),u=u||_.overlay,o=o||!_.overlay,C+=_.overlay?0:1;return this.options.hideSingleBase&&(o=o&&C>1,this._baseLayersList.style.display=o?"":"none"),this._separator.style.display=u&&o?"":"none",this},_onLayerChange:function(o){this._handlingClick||this._update();var u=this._getLayer(d(o.target)),f=u.overlay?o.type==="add"?"overlayadd":"overlayremove":o.type==="add"?"baselayerchange":null;f&&this._map.fire(f,u)},_createRadioElement:function(o,u){var f='<input type="radio" class="leaflet-control-layers-selector" name="'+o+'"'+(u?' checked="checked"':"")+"/>",_=document.createElement("div");return _.innerHTML=f,_.firstChild},_addItem:function(o){var u=document.createElement("label"),f=this._map.hasLayer(o.layer),_;o.overlay?(_=document.createElement("input"),_.type="checkbox",_.className="leaflet-control-layers-selector",_.defaultChecked=f):_=this._createRadioElement("leaflet-base-layers_"+d(this),f),this._layerControlInputs.push(_),_.layerId=d(o.layer),$e(_,"click",this._onInputClick,this);var C=document.createElement("span");C.innerHTML=" "+o.name;var j=document.createElement("span");u.appendChild(j),j.appendChild(_),j.appendChild(C);var O=o.overlay?this._overlaysList:this._baseLayersList;return O.appendChild(u),this._checkDisabledLayers(),u},_onInputClick:function(){if(!this._preventClick){var o=this._layerControlInputs,u,f,_=[],C=[];this._handlingClick=!0;for(var j=o.length-1;j>=0;j--)u=o[j],f=this._getLayer(u.layerId).layer,u.checked?_.push(f):u.checked||C.push(f);for(j=0;j<C.length;j++)this._map.hasLayer(C[j])&&this._map.removeLayer(C[j]);for(j=0;j<_.length;j++)this._map.hasLayer(_[j])||this._map.addLayer(_[j]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var o=this._layerControlInputs,u,f,_=this._map.getZoom(),C=o.length-1;C>=0;C--)u=o[C],f=this._getLayer(u.layerId).layer,u.disabled=f.options.minZoom!==void 0&&_<f.options.minZoom||f.options.maxZoom!==void 0&&_>f.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var o=this._section;this._preventClick=!0,$e(o,"click",Gt),this.expand();var u=this;setTimeout(function(){ot(o,"click",Gt),u._preventClick=!1})}}),nR=function(o,u,f){return new p_(o,u,f)},Em=xr.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(o){var u="leaflet-control-zoom",f=Qe("div",u+" leaflet-bar"),_=this.options;return this._zoomInButton=this._createButton(_.zoomInText,_.zoomInTitle,u+"-in",f,this._zoomIn),this._zoomOutButton=this._createButton(_.zoomOutText,_.zoomOutTitle,u+"-out",f,this._zoomOut),this._updateDisabled(),o.on("zoomend zoomlevelschange",this._updateDisabled,this),f},onRemove:function(o){o.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(o){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(o.shiftKey?3:1))},_zoomOut:function(o){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(o.shiftKey?3:1))},_createButton:function(o,u,f,_,C){var j=Qe("a",f,_);return j.innerHTML=o,j.href="#",j.title=u,j.setAttribute("role","button"),j.setAttribute("aria-label",u),zl(j),$e(j,"click",Gi),$e(j,"click",C,this),$e(j,"click",this._refocusOnMap,this),j},_updateDisabled:function(){var o=this._map,u="leaflet-disabled";Ct(this._zoomInButton,u),Ct(this._zoomOutButton,u),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||o._zoom===o.getMinZoom())&&(Ve(this._zoomOutButton,u),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||o._zoom===o.getMaxZoom())&&(Ve(this._zoomInButton,u),this._zoomInButton.setAttribute("aria-disabled","true"))}});Ke.mergeOptions({zoomControl:!0}),Ke.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Em,this.addControl(this.zoomControl))});var rR=function(o){return new Em(o)},g_=xr.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(o){var u="leaflet-control-scale",f=Qe("div",u),_=this.options;return this._addScales(_,u+"-line",f),o.on(_.updateWhenIdle?"moveend":"move",this._update,this),o.whenReady(this._update,this),f},onRemove:function(o){o.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(o,u,f){o.metric&&(this._mScale=Qe("div",u,f)),o.imperial&&(this._iScale=Qe("div",u,f))},_update:function(){var o=this._map,u=o.getSize().y/2,f=o.distance(o.containerPointToLatLng([0,u]),o.containerPointToLatLng([this.options.maxWidth,u]));this._updateScales(f)},_updateScales:function(o){this.options.metric&&o&&this._updateMetric(o),this.options.imperial&&o&&this._updateImperial(o)},_updateMetric:function(o){var u=this._getRoundNum(o),f=u<1e3?u+" m":u/1e3+" km";this._updateScale(this._mScale,f,u/o)},_updateImperial:function(o){var u=o*3.2808399,f,_,C;u>5280?(f=u/5280,_=this._getRoundNum(f),this._updateScale(this._iScale,_+" mi",_/f)):(C=this._getRoundNum(u),this._updateScale(this._iScale,C+" ft",C/u))},_updateScale:function(o,u,f){o.style.width=Math.round(this.options.maxWidth*f)+"px",o.innerHTML=u},_getRoundNum:function(o){var u=Math.pow(10,(Math.floor(o)+"").length-1),f=o/u;return f=f>=10?10:f>=5?5:f>=3?3:f>=2?2:1,u*f}}),sR=function(o){return new g_(o)},iR='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',Rm=xr.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(Ce.inlineSvg?iR+" ":"")+"Leaflet</a>"},initialize:function(o){x(this,o),this._attributions={}},onAdd:function(o){o.attributionControl=this,this._container=Qe("div","leaflet-control-attribution"),zl(this._container);for(var u in o._layers)o._layers[u].getAttribution&&this.addAttribution(o._layers[u].getAttribution());return this._update(),o.on("layeradd",this._addAttribution,this),this._container},onRemove:function(o){o.off("layeradd",this._addAttribution,this)},_addAttribution:function(o){o.layer.getAttribution&&(this.addAttribution(o.layer.getAttribution()),o.layer.once("remove",function(){this.removeAttribution(o.layer.getAttribution())},this))},setPrefix:function(o){return this.options.prefix=o,this._update(),this},addAttribution:function(o){return o?(this._attributions[o]||(this._attributions[o]=0),this._attributions[o]++,this._update(),this):this},removeAttribution:function(o){return o?(this._attributions[o]&&(this._attributions[o]--,this._update()),this):this},_update:function(){if(this._map){var o=[];for(var u in this._attributions)this._attributions[u]&&o.push(u);var f=[];this.options.prefix&&f.push(this.options.prefix),o.length&&f.push(o.join(", ")),this._container.innerHTML=f.join(' <span aria-hidden="true">|</span> ')}}});Ke.mergeOptions({attributionControl:!0}),Ke.addInitHook(function(){this.options.attributionControl&&new Rm().addTo(this)});var oR=function(o){return new Rm(o)};xr.Layers=p_,xr.Zoom=Em,xr.Scale=g_,xr.Attribution=Rm,Bl.layers=nR,Bl.zoom=rR,Bl.scale=sR,Bl.attribution=oR;var Kr=B.extend({initialize:function(o){this._map=o},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Kr.addTo=function(o,u){return o.addHandler(u,this),this};var aR={Events:G},v_=Ce.touch?"touchstart mousedown":"mousedown",Gs=se.extend({options:{clickTolerance:3},initialize:function(o,u,f,_){x(this,_),this._element=o,this._dragStartTarget=u||o,this._preventOutline=f},enable:function(){this._enabled||($e(this._dragStartTarget,v_,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Gs._dragging===this&&this.finishDrag(!0),ot(this._dragStartTarget,v_,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(o){if(this._enabled&&(this._moved=!1,!vm(this._element,"leaflet-zoom-anim"))){if(o.touches&&o.touches.length!==1){Gs._dragging===this&&this.finishDrag();return}if(!(Gs._dragging||o.shiftKey||o.which!==1&&o.button!==1&&!o.touches)&&(Gs._dragging=this,this._preventOutline&&Sm(this._element),_m(),Dl(),!this._moving)){this.fire("down");var u=o.touches?o.touches[0]:o,f=c_(this._element);this._startPoint=new A(u.clientX,u.clientY),this._startPos=qi(this._element),this._parentScale=km(f);var _=o.type==="mousedown";$e(document,_?"mousemove":"touchmove",this._onMove,this),$e(document,_?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(o){if(this._enabled){if(o.touches&&o.touches.length>1){this._moved=!0;return}var u=o.touches&&o.touches.length===1?o.touches[0]:o,f=new A(u.clientX,u.clientY)._subtract(this._startPoint);!f.x&&!f.y||Math.abs(f.x)+Math.abs(f.y)<this.options.clickTolerance||(f.x/=this._parentScale.x,f.y/=this._parentScale.y,Gt(o),this._moved||(this.fire("dragstart"),this._moved=!0,Ve(document.body,"leaflet-dragging"),this._lastTarget=o.target||o.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),Ve(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(f),this._moving=!0,this._lastEvent=o,this._updatePosition())}},_updatePosition:function(){var o={originalEvent:this._lastEvent};this.fire("predrag",o),Rt(this._element,this._newPos),this.fire("drag",o)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(o){Ct(document.body,"leaflet-dragging"),this._lastTarget&&(Ct(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),ot(document,"mousemove touchmove",this._onMove,this),ot(document,"mouseup touchend touchcancel",this._onUp,this),wm(),$l();var u=this._moved&&this._moving;this._moving=!1,Gs._dragging=!1,u&&this.fire("dragend",{noInertia:o,distance:this._newPos.distanceTo(this._startPos)})}});function y_(o,u,f){var _,C=[1,4,2,8],j,O,F,q,J,pe,Ee,He;for(j=0,pe=o.length;j<pe;j++)o[j]._code=Zi(o[j],u);for(F=0;F<4;F++){for(Ee=C[F],_=[],j=0,pe=o.length,O=pe-1;j<pe;O=j++)q=o[j],J=o[O],q._code&Ee?J._code&Ee||(He=Wu(J,q,Ee,u,f),He._code=Zi(He,u),_.push(He)):(J._code&Ee&&(He=Wu(J,q,Ee,u,f),He._code=Zi(He,u),_.push(He)),_.push(q));o=_}return o}function x_(o,u){var f,_,C,j,O,F,q,J,pe;if(!o||o.length===0)throw new Error("latlngs not passed");rr(o)||(console.warn("latlngs are not flat! Only the first ring will be used"),o=o[0]);var Ee=xe([0,0]),He=me(o),dn=He.getNorthWest().distanceTo(He.getSouthWest())*He.getNorthEast().distanceTo(He.getNorthWest());dn<1700&&(Ee=Am(o));var Bt=o.length,sr=[];for(f=0;f<Bt;f++){var Pn=xe(o[f]);sr.push(u.project(xe([Pn.lat-Ee.lat,Pn.lng-Ee.lng])))}for(F=q=J=0,f=0,_=Bt-1;f<Bt;_=f++)C=sr[f],j=sr[_],O=C.y*j.x-j.y*C.x,q+=(C.x+j.x)*O,J+=(C.y+j.y)*O,F+=O*3;F===0?pe=sr[0]:pe=[q/F,J/F];var ea=u.unproject(U(pe));return xe([ea.lat+Ee.lat,ea.lng+Ee.lng])}function Am(o){for(var u=0,f=0,_=0,C=0;C<o.length;C++){var j=xe(o[C]);u+=j.lat,f+=j.lng,_++}return xe([u/_,f/_])}var lR={__proto__:null,clipPolygon:y_,polygonCenter:x_,centroid:Am};function __(o,u){if(!u||!o.length)return o.slice();var f=u*u;return o=dR(o,f),o=uR(o,f),o}function w_(o,u,f){return Math.sqrt(Ul(o,u,f,!0))}function cR(o,u,f){return Ul(o,u,f)}function uR(o,u){var f=o.length,_=typeof Uint8Array<"u"?Uint8Array:Array,C=new _(f);C[0]=C[f-1]=1,Om(o,C,u,0,f-1);var j,O=[];for(j=0;j<f;j++)C[j]&&O.push(o[j]);return O}function Om(o,u,f,_,C){var j=0,O,F,q;for(F=_+1;F<=C-1;F++)q=Ul(o[F],o[_],o[C],!0),q>j&&(O=F,j=q);j>f&&(u[O]=1,Om(o,u,f,_,O),Om(o,u,f,O,C))}function dR(o,u){for(var f=[o[0]],_=1,C=0,j=o.length;_<j;_++)hR(o[_],o[C])>u&&(f.push(o[_]),C=_);return C<j-1&&f.push(o[j-1]),f}var b_;function S_(o,u,f,_,C){var j=_?b_:Zi(o,f),O=Zi(u,f),F,q,J;for(b_=O;;){if(!(j|O))return[o,u];if(j&O)return!1;F=j||O,q=Wu(o,u,F,f,C),J=Zi(q,f),F===j?(o=q,j=J):(u=q,O=J)}}function Wu(o,u,f,_,C){var j=u.x-o.x,O=u.y-o.y,F=_.min,q=_.max,J,pe;return f&8?(J=o.x+j*(q.y-o.y)/O,pe=q.y):f&4?(J=o.x+j*(F.y-o.y)/O,pe=F.y):f&2?(J=q.x,pe=o.y+O*(q.x-o.x)/j):f&1&&(J=F.x,pe=o.y+O*(F.x-o.x)/j),new A(J,pe,C)}function Zi(o,u){var f=0;return o.x<u.min.x?f|=1:o.x>u.max.x&&(f|=2),o.y<u.min.y?f|=4:o.y>u.max.y&&(f|=8),f}function hR(o,u){var f=u.x-o.x,_=u.y-o.y;return f*f+_*_}function Ul(o,u,f,_){var C=u.x,j=u.y,O=f.x-C,F=f.y-j,q=O*O+F*F,J;return q>0&&(J=((o.x-C)*O+(o.y-j)*F)/q,J>1?(C=f.x,j=f.y):J>0&&(C+=O*J,j+=F*J)),O=o.x-C,F=o.y-j,_?O*O+F*F:new A(C,j)}function rr(o){return!k(o[0])||typeof o[0][0]!="object"&&typeof o[0][0]<"u"}function k_(o){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),rr(o)}function N_(o,u){var f,_,C,j,O,F,q,J;if(!o||o.length===0)throw new Error("latlngs not passed");rr(o)||(console.warn("latlngs are not flat! Only the first ring will be used"),o=o[0]);var pe=xe([0,0]),Ee=me(o),He=Ee.getNorthWest().distanceTo(Ee.getSouthWest())*Ee.getNorthEast().distanceTo(Ee.getNorthWest());He<1700&&(pe=Am(o));var dn=o.length,Bt=[];for(f=0;f<dn;f++){var sr=xe(o[f]);Bt.push(u.project(xe([sr.lat-pe.lat,sr.lng-pe.lng])))}for(f=0,_=0;f<dn-1;f++)_+=Bt[f].distanceTo(Bt[f+1])/2;if(_===0)J=Bt[0];else for(f=0,j=0;f<dn-1;f++)if(O=Bt[f],F=Bt[f+1],C=O.distanceTo(F),j+=C,j>_){q=(j-_)/C,J=[F.x-q*(F.x-O.x),F.y-q*(F.y-O.y)];break}var Pn=u.unproject(U(J));return xe([Pn.lat+pe.lat,Pn.lng+pe.lng])}var fR={__proto__:null,simplify:__,pointToSegmentDistance:w_,closestPointOnSegment:cR,clipSegment:S_,_getEdgeIntersection:Wu,_getBitCode:Zi,_sqClosestPointOnSegment:Ul,isFlat:rr,_flat:k_,polylineCenter:N_},Lm={project:function(o){return new A(o.lng,o.lat)},unproject:function(o){return new Se(o.y,o.x)},bounds:new re([-180,-90],[180,90])},Mm={R:6378137,R_MINOR:6356752314245179e-9,bounds:new re([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(o){var u=Math.PI/180,f=this.R,_=o.lat*u,C=this.R_MINOR/f,j=Math.sqrt(1-C*C),O=j*Math.sin(_),F=Math.tan(Math.PI/4-_/2)/Math.pow((1-O)/(1+O),j/2);return _=-f*Math.log(Math.max(F,1e-10)),new A(o.lng*u*f,_)},unproject:function(o){for(var u=180/Math.PI,f=this.R,_=this.R_MINOR/f,C=Math.sqrt(1-_*_),j=Math.exp(-o.y/f),O=Math.PI/2-2*Math.atan(j),F=0,q=.1,J;F<15&&Math.abs(q)>1e-7;F++)J=C*Math.sin(O),J=Math.pow((1-J)/(1+J),C/2),q=Math.PI/2-2*Math.atan(j*J)-O,O+=q;return new Se(O*u,o.x*u/f)}},mR={__proto__:null,LonLat:Lm,Mercator:Mm,SphericalMercator:De},pR=s({},Oe,{code:"EPSG:3395",projection:Mm,transformation:function(){var o=.5/(Math.PI*Mm.R);return ze(o,.5,-o,.5)}()}),C_=s({},Oe,{code:"EPSG:4326",projection:Lm,transformation:ze(1/180,1,-1/180,.5)}),gR=s({},te,{projection:Lm,transformation:ze(1,0,-1,0),scale:function(o){return Math.pow(2,o)},zoom:function(o){return Math.log(o)/Math.LN2},distance:function(o,u){var f=u.lng-o.lng,_=u.lat-o.lat;return Math.sqrt(f*f+_*_)},infinite:!0});te.Earth=Oe,te.EPSG3395=pR,te.EPSG3857=xt,te.EPSG900913=Ht,te.EPSG4326=C_,te.Simple=gR;var _r=se.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(o){return o.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(o){return o&&o.removeLayer(this),this},getPane:function(o){return this._map.getPane(o?this.options[o]||o:this.options.pane)},addInteractiveTarget:function(o){return this._map._targets[d(o)]=this,this},removeInteractiveTarget:function(o){return delete this._map._targets[d(o)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(o){var u=o.target;if(u.hasLayer(this)){if(this._map=u,this._zoomAnimated=u._zoomAnimated,this.getEvents){var f=this.getEvents();u.on(f,this),this.once("remove",function(){u.off(f,this)},this)}this.onAdd(u),this.fire("add"),u.fire("layeradd",{layer:this})}}});Ke.include({addLayer:function(o){if(!o._layerAdd)throw new Error("The provided object is not a Layer.");var u=d(o);return this._layers[u]?this:(this._layers[u]=o,o._mapToAdd=this,o.beforeAdd&&o.beforeAdd(this),this.whenReady(o._layerAdd,o),this)},removeLayer:function(o){var u=d(o);return this._layers[u]?(this._loaded&&o.onRemove(this),delete this._layers[u],this._loaded&&(this.fire("layerremove",{layer:o}),o.fire("remove")),o._map=o._mapToAdd=null,this):this},hasLayer:function(o){return d(o)in this._layers},eachLayer:function(o,u){for(var f in this._layers)o.call(u,this._layers[f]);return this},_addLayers:function(o){o=o?k(o)?o:[o]:[];for(var u=0,f=o.length;u<f;u++)this.addLayer(o[u])},_addZoomLimit:function(o){(!isNaN(o.options.maxZoom)||!isNaN(o.options.minZoom))&&(this._zoomBoundLayers[d(o)]=o,this._updateZoomLevels())},_removeZoomLimit:function(o){var u=d(o);this._zoomBoundLayers[u]&&(delete this._zoomBoundLayers[u],this._updateZoomLevels())},_updateZoomLevels:function(){var o=1/0,u=-1/0,f=this._getZoomSpan();for(var _ in this._zoomBoundLayers){var C=this._zoomBoundLayers[_].options;o=C.minZoom===void 0?o:Math.min(o,C.minZoom),u=C.maxZoom===void 0?u:Math.max(u,C.maxZoom)}this._layersMaxZoom=u===-1/0?void 0:u,this._layersMinZoom=o===1/0?void 0:o,f!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Ko=_r.extend({initialize:function(o,u){x(this,u),this._layers={};var f,_;if(o)for(f=0,_=o.length;f<_;f++)this.addLayer(o[f])},addLayer:function(o){var u=this.getLayerId(o);return this._layers[u]=o,this._map&&this._map.addLayer(o),this},removeLayer:function(o){var u=o in this._layers?o:this.getLayerId(o);return this._map&&this._layers[u]&&this._map.removeLayer(this._layers[u]),delete this._layers[u],this},hasLayer:function(o){var u=typeof o=="number"?o:this.getLayerId(o);return u in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(o){var u=Array.prototype.slice.call(arguments,1),f,_;for(f in this._layers)_=this._layers[f],_[o]&&_[o].apply(_,u);return this},onAdd:function(o){this.eachLayer(o.addLayer,o)},onRemove:function(o){this.eachLayer(o.removeLayer,o)},eachLayer:function(o,u){for(var f in this._layers)o.call(u,this._layers[f]);return this},getLayer:function(o){return this._layers[o]},getLayers:function(){var o=[];return this.eachLayer(o.push,o),o},setZIndex:function(o){return this.invoke("setZIndex",o)},getLayerId:function(o){return d(o)}}),vR=function(o,u){return new Ko(o,u)},vs=Ko.extend({addLayer:function(o){return this.hasLayer(o)?this:(o.addEventParent(this),Ko.prototype.addLayer.call(this,o),this.fire("layeradd",{layer:o}))},removeLayer:function(o){return this.hasLayer(o)?(o in this._layers&&(o=this._layers[o]),o.removeEventParent(this),Ko.prototype.removeLayer.call(this,o),this.fire("layerremove",{layer:o})):this},setStyle:function(o){return this.invoke("setStyle",o)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var o=new _e;for(var u in this._layers){var f=this._layers[u];o.extend(f.getBounds?f.getBounds():f.getLatLng())}return o}}),yR=function(o,u){return new vs(o,u)},Yo=B.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(o){x(this,o)},createIcon:function(o){return this._createIcon("icon",o)},createShadow:function(o){return this._createIcon("shadow",o)},_createIcon:function(o,u){var f=this._getIconUrl(o);if(!f){if(o==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var _=this._createImg(f,u&&u.tagName==="IMG"?u:null);return this._setIconStyles(_,o),(this.options.crossOrigin||this.options.crossOrigin==="")&&(_.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),_},_setIconStyles:function(o,u){var f=this.options,_=f[u+"Size"];typeof _=="number"&&(_=[_,_]);var C=U(_),j=U(u==="shadow"&&f.shadowAnchor||f.iconAnchor||C&&C.divideBy(2,!0));o.className="leaflet-marker-"+u+" "+(f.className||""),j&&(o.style.marginLeft=-j.x+"px",o.style.marginTop=-j.y+"px"),C&&(o.style.width=C.x+"px",o.style.height=C.y+"px")},_createImg:function(o,u){return u=u||document.createElement("img"),u.src=o,u},_getIconUrl:function(o){return Ce.retina&&this.options[o+"RetinaUrl"]||this.options[o+"Url"]}});function xR(o){return new Yo(o)}var Vl=Yo.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(o){return typeof Vl.imagePath!="string"&&(Vl.imagePath=this._detectIconPath()),(this.options.imagePath||Vl.imagePath)+Yo.prototype._getIconUrl.call(this,o)},_stripUrl:function(o){var u=function(f,_,C){var j=_.exec(f);return j&&j[C]};return o=u(o,/^url\((['"])?(.+)\1\)$/,2),o&&u(o,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var o=Qe("div","leaflet-default-icon-path",document.body),u=Il(o,"background-image")||Il(o,"backgroundImage");if(document.body.removeChild(o),u=this._stripUrl(u),u)return u;var f=document.querySelector('link[href$="leaflet.css"]');return f?f.href.substring(0,f.href.length-11-1):""}}),P_=Kr.extend({initialize:function(o){this._marker=o},addHooks:function(){var o=this._marker._icon;this._draggable||(this._draggable=new Gs(o,o,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),Ve(o,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&Ct(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(o){var u=this._marker,f=u._map,_=this._marker.options.autoPanSpeed,C=this._marker.options.autoPanPadding,j=qi(u._icon),O=f.getPixelBounds(),F=f.getPixelOrigin(),q=le(O.min._subtract(F).add(C),O.max._subtract(F).subtract(C));if(!q.contains(j)){var J=U((Math.max(q.max.x,j.x)-q.max.x)/(O.max.x-q.max.x)-(Math.min(q.min.x,j.x)-q.min.x)/(O.min.x-q.min.x),(Math.max(q.max.y,j.y)-q.max.y)/(O.max.y-q.max.y)-(Math.min(q.min.y,j.y)-q.min.y)/(O.min.y-q.min.y)).multiplyBy(_);f.panBy(J,{animate:!1}),this._draggable._newPos._add(J),this._draggable._startPos._add(J),Rt(u._icon,this._draggable._newPos),this._onDrag(o),this._panRequest=Q(this._adjustPan.bind(this,o))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(o){this._marker.options.autoPan&&(W(this._panRequest),this._panRequest=Q(this._adjustPan.bind(this,o)))},_onDrag:function(o){var u=this._marker,f=u._shadow,_=qi(u._icon),C=u._map.layerPointToLatLng(_);f&&Rt(f,_),u._latlng=C,o.latlng=C,o.oldLatLng=this._oldLatLng,u.fire("move",o).fire("drag",o)},_onDragEnd:function(o){W(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",o)}}),qu=_r.extend({options:{icon:new Vl,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(o,u){x(this,u),this._latlng=xe(o)},onAdd:function(o){this._zoomAnimated=this._zoomAnimated&&o.options.markerZoomAnimation,this._zoomAnimated&&o.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(o){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&o.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(o){var u=this._latlng;return this._latlng=xe(o),this.update(),this.fire("move",{oldLatLng:u,latlng:this._latlng})},setZIndexOffset:function(o){return this.options.zIndexOffset=o,this.update()},getIcon:function(){return this.options.icon},setIcon:function(o){return this.options.icon=o,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var o=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(o)}return this},_initIcon:function(){var o=this.options,u="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),f=o.icon.createIcon(this._icon),_=!1;f!==this._icon&&(this._icon&&this._removeIcon(),_=!0,o.title&&(f.title=o.title),f.tagName==="IMG"&&(f.alt=o.alt||"")),Ve(f,u),o.keyboard&&(f.tabIndex="0",f.setAttribute("role","button")),this._icon=f,o.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&$e(f,"focus",this._panOnFocus,this);var C=o.icon.createShadow(this._shadow),j=!1;C!==this._shadow&&(this._removeShadow(),j=!0),C&&(Ve(C,u),C.alt=""),this._shadow=C,o.opacity<1&&this._updateOpacity(),_&&this.getPane().appendChild(this._icon),this._initInteraction(),C&&j&&this.getPane(o.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&ot(this._icon,"focus",this._panOnFocus,this),pt(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&pt(this._shadow),this._shadow=null},_setPos:function(o){this._icon&&Rt(this._icon,o),this._shadow&&Rt(this._shadow,o),this._zIndex=o.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(o){this._icon&&(this._icon.style.zIndex=this._zIndex+o)},_animateZoom:function(o){var u=this._map._latLngToNewLayerPoint(this._latlng,o.zoom,o.center).round();this._setPos(u)},_initInteraction:function(){if(this.options.interactive&&(Ve(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),P_)){var o=this.options.draggable;this.dragging&&(o=this.dragging.enabled(),this.dragging.disable()),this.dragging=new P_(this),o&&this.dragging.enable()}},setOpacity:function(o){return this.options.opacity=o,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var o=this.options.opacity;this._icon&&nr(this._icon,o),this._shadow&&nr(this._shadow,o)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var o=this._map;if(o){var u=this.options.icon.options,f=u.iconSize?U(u.iconSize):U(0,0),_=u.iconAnchor?U(u.iconAnchor):U(0,0);o.panInside(this._latlng,{paddingTopLeft:_,paddingBottomRight:f.subtract(_)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function _R(o,u){return new qu(o,u)}var Zs=_r.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(o){this._renderer=o.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(o){return x(this,o),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&o&&Object.prototype.hasOwnProperty.call(o,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Hu=Zs.extend({options:{fill:!0,radius:10},initialize:function(o,u){x(this,u),this._latlng=xe(o),this._radius=this.options.radius},setLatLng:function(o){var u=this._latlng;return this._latlng=xe(o),this.redraw(),this.fire("move",{oldLatLng:u,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(o){return this.options.radius=this._radius=o,this.redraw()},getRadius:function(){return this._radius},setStyle:function(o){var u=o&&o.radius||this._radius;return Zs.prototype.setStyle.call(this,o),this.setRadius(u),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var o=this._radius,u=this._radiusY||o,f=this._clickTolerance(),_=[o+f,u+f];this._pxBounds=new re(this._point.subtract(_),this._point.add(_))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(o){return o.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function wR(o,u){return new Hu(o,u)}var Im=Hu.extend({initialize:function(o,u,f){if(typeof u=="number"&&(u=s({},f,{radius:u})),x(this,u),this._latlng=xe(o),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(o){return this._mRadius=o,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var o=[this._radius,this._radiusY||this._radius];return new _e(this._map.layerPointToLatLng(this._point.subtract(o)),this._map.layerPointToLatLng(this._point.add(o)))},setStyle:Zs.prototype.setStyle,_project:function(){var o=this._latlng.lng,u=this._latlng.lat,f=this._map,_=f.options.crs;if(_.distance===Oe.distance){var C=Math.PI/180,j=this._mRadius/Oe.R/C,O=f.project([u+j,o]),F=f.project([u-j,o]),q=O.add(F).divideBy(2),J=f.unproject(q).lat,pe=Math.acos((Math.cos(j*C)-Math.sin(u*C)*Math.sin(J*C))/(Math.cos(u*C)*Math.cos(J*C)))/C;(isNaN(pe)||pe===0)&&(pe=j/Math.cos(Math.PI/180*u)),this._point=q.subtract(f.getPixelOrigin()),this._radius=isNaN(pe)?0:q.x-f.project([J,o-pe]).x,this._radiusY=q.y-O.y}else{var Ee=_.unproject(_.project(this._latlng).subtract([this._mRadius,0]));this._point=f.latLngToLayerPoint(this._latlng),this._radius=this._point.x-f.latLngToLayerPoint(Ee).x}this._updateBounds()}});function bR(o,u,f){return new Im(o,u,f)}var ys=Zs.extend({options:{smoothFactor:1,noClip:!1},initialize:function(o,u){x(this,u),this._setLatLngs(o)},getLatLngs:function(){return this._latlngs},setLatLngs:function(o){return this._setLatLngs(o),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(o){for(var u=1/0,f=null,_=Ul,C,j,O=0,F=this._parts.length;O<F;O++)for(var q=this._parts[O],J=1,pe=q.length;J<pe;J++){C=q[J-1],j=q[J];var Ee=_(o,C,j,!0);Ee<u&&(u=Ee,f=_(o,C,j))}return f&&(f.distance=Math.sqrt(u)),f},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return N_(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(o,u){return u=u||this._defaultShape(),o=xe(o),u.push(o),this._bounds.extend(o),this.redraw()},_setLatLngs:function(o){this._bounds=new _e,this._latlngs=this._convertLatLngs(o)},_defaultShape:function(){return rr(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(o){for(var u=[],f=rr(o),_=0,C=o.length;_<C;_++)f?(u[_]=xe(o[_]),this._bounds.extend(u[_])):u[_]=this._convertLatLngs(o[_]);return u},_project:function(){var o=new re;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,o),this._bounds.isValid()&&o.isValid()&&(this._rawPxBounds=o,this._updateBounds())},_updateBounds:function(){var o=this._clickTolerance(),u=new A(o,o);this._rawPxBounds&&(this._pxBounds=new re([this._rawPxBounds.min.subtract(u),this._rawPxBounds.max.add(u)]))},_projectLatlngs:function(o,u,f){var _=o[0]instanceof Se,C=o.length,j,O;if(_){for(O=[],j=0;j<C;j++)O[j]=this._map.latLngToLayerPoint(o[j]),f.extend(O[j]);u.push(O)}else for(j=0;j<C;j++)this._projectLatlngs(o[j],u,f)},_clipPoints:function(){var o=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(o))){if(this.options.noClip){this._parts=this._rings;return}var u=this._parts,f,_,C,j,O,F,q;for(f=0,C=0,j=this._rings.length;f<j;f++)for(q=this._rings[f],_=0,O=q.length;_<O-1;_++)F=S_(q[_],q[_+1],o,_,!0),F&&(u[C]=u[C]||[],u[C].push(F[0]),(F[1]!==q[_+1]||_===O-2)&&(u[C].push(F[1]),C++))}},_simplifyPoints:function(){for(var o=this._parts,u=this.options.smoothFactor,f=0,_=o.length;f<_;f++)o[f]=__(o[f],u)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(o,u){var f,_,C,j,O,F,q=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(o))return!1;for(f=0,j=this._parts.length;f<j;f++)for(F=this._parts[f],_=0,O=F.length,C=O-1;_<O;C=_++)if(!(!u&&_===0)&&w_(o,F[C],F[_])<=q)return!0;return!1}});function SR(o,u){return new ys(o,u)}ys._flat=k_;var Xo=ys.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return x_(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(o){var u=ys.prototype._convertLatLngs.call(this,o),f=u.length;return f>=2&&u[0]instanceof Se&&u[0].equals(u[f-1])&&u.pop(),u},_setLatLngs:function(o){ys.prototype._setLatLngs.call(this,o),rr(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return rr(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var o=this._renderer._bounds,u=this.options.weight,f=new A(u,u);if(o=new re(o.min.subtract(f),o.max.add(f)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(o))){if(this.options.noClip){this._parts=this._rings;return}for(var _=0,C=this._rings.length,j;_<C;_++)j=y_(this._rings[_],o,!0),j.length&&this._parts.push(j)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(o){var u=!1,f,_,C,j,O,F,q,J;if(!this._pxBounds||!this._pxBounds.contains(o))return!1;for(j=0,q=this._parts.length;j<q;j++)for(f=this._parts[j],O=0,J=f.length,F=J-1;O<J;F=O++)_=f[O],C=f[F],_.y>o.y!=C.y>o.y&&o.x<(C.x-_.x)*(o.y-_.y)/(C.y-_.y)+_.x&&(u=!u);return u||ys.prototype._containsPoint.call(this,o,!0)}});function kR(o,u){return new Xo(o,u)}var xs=vs.extend({initialize:function(o,u){x(this,u),this._layers={},o&&this.addData(o)},addData:function(o){var u=k(o)?o:o.features,f,_,C;if(u){for(f=0,_=u.length;f<_;f++)C=u[f],(C.geometries||C.geometry||C.features||C.coordinates)&&this.addData(C);return this}var j=this.options;if(j.filter&&!j.filter(o))return this;var O=Gu(o,j);return O?(O.feature=Yu(o),O.defaultOptions=O.options,this.resetStyle(O),j.onEachFeature&&j.onEachFeature(o,O),this.addLayer(O)):this},resetStyle:function(o){return o===void 0?this.eachLayer(this.resetStyle,this):(o.options=s({},o.defaultOptions),this._setLayerStyle(o,this.options.style),this)},setStyle:function(o){return this.eachLayer(function(u){this._setLayerStyle(u,o)},this)},_setLayerStyle:function(o,u){o.setStyle&&(typeof u=="function"&&(u=u(o.feature)),o.setStyle(u))}});function Gu(o,u){var f=o.type==="Feature"?o.geometry:o,_=f?f.coordinates:null,C=[],j=u&&u.pointToLayer,O=u&&u.coordsToLatLng||Dm,F,q,J,pe;if(!_&&!f)return null;switch(f.type){case"Point":return F=O(_),j_(j,o,F,u);case"MultiPoint":for(J=0,pe=_.length;J<pe;J++)F=O(_[J]),C.push(j_(j,o,F,u));return new vs(C);case"LineString":case"MultiLineString":return q=Zu(_,f.type==="LineString"?0:1,O),new ys(q,u);case"Polygon":case"MultiPolygon":return q=Zu(_,f.type==="Polygon"?1:2,O),new Xo(q,u);case"GeometryCollection":for(J=0,pe=f.geometries.length;J<pe;J++){var Ee=Gu({geometry:f.geometries[J],type:"Feature",properties:o.properties},u);Ee&&C.push(Ee)}return new vs(C);case"FeatureCollection":for(J=0,pe=f.features.length;J<pe;J++){var He=Gu(f.features[J],u);He&&C.push(He)}return new vs(C);default:throw new Error("Invalid GeoJSON object.")}}function j_(o,u,f,_){return o?o(u,f):new qu(f,_&&_.markersInheritOptions&&_)}function Dm(o){return new Se(o[1],o[0],o[2])}function Zu(o,u,f){for(var _=[],C=0,j=o.length,O;C<j;C++)O=u?Zu(o[C],u-1,f):(f||Dm)(o[C]),_.push(O);return _}function $m(o,u){return o=xe(o),o.alt!==void 0?[y(o.lng,u),y(o.lat,u),y(o.alt,u)]:[y(o.lng,u),y(o.lat,u)]}function Ku(o,u,f,_){for(var C=[],j=0,O=o.length;j<O;j++)C.push(u?Ku(o[j],rr(o[j])?0:u-1,f,_):$m(o[j],_));return!u&&f&&C.length>0&&C.push(C[0].slice()),C}function Qo(o,u){return o.feature?s({},o.feature,{geometry:u}):Yu(u)}function Yu(o){return o.type==="Feature"||o.type==="FeatureCollection"?o:{type:"Feature",properties:{},geometry:o}}var Fm={toGeoJSON:function(o){return Qo(this,{type:"Point",coordinates:$m(this.getLatLng(),o)})}};qu.include(Fm),Im.include(Fm),Hu.include(Fm),ys.include({toGeoJSON:function(o){var u=!rr(this._latlngs),f=Ku(this._latlngs,u?1:0,!1,o);return Qo(this,{type:(u?"Multi":"")+"LineString",coordinates:f})}}),Xo.include({toGeoJSON:function(o){var u=!rr(this._latlngs),f=u&&!rr(this._latlngs[0]),_=Ku(this._latlngs,f?2:u?1:0,!0,o);return u||(_=[_]),Qo(this,{type:(f?"Multi":"")+"Polygon",coordinates:_})}}),Ko.include({toMultiPoint:function(o){var u=[];return this.eachLayer(function(f){u.push(f.toGeoJSON(o).geometry.coordinates)}),Qo(this,{type:"MultiPoint",coordinates:u})},toGeoJSON:function(o){var u=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(u==="MultiPoint")return this.toMultiPoint(o);var f=u==="GeometryCollection",_=[];return this.eachLayer(function(C){if(C.toGeoJSON){var j=C.toGeoJSON(o);if(f)_.push(j.geometry);else{var O=Yu(j);O.type==="FeatureCollection"?_.push.apply(_,O.features):_.push(O)}}}),f?Qo(this,{geometries:_,type:"GeometryCollection"}):{type:"FeatureCollection",features:_}}});function T_(o,u){return new xs(o,u)}var NR=T_,Xu=_r.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(o,u,f){this._url=o,this._bounds=me(u),x(this,f)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(Ve(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){pt(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(o){return this.options.opacity=o,this._image&&this._updateOpacity(),this},setStyle:function(o){return o.opacity&&this.setOpacity(o.opacity),this},bringToFront:function(){return this._map&&Go(this._image),this},bringToBack:function(){return this._map&&Zo(this._image),this},setUrl:function(o){return this._url=o,this._image&&(this._image.src=o),this},setBounds:function(o){return this._bounds=me(o),this._map&&this._reset(),this},getEvents:function(){var o={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(o.zoomanim=this._animateZoom),o},setZIndex:function(o){return this.options.zIndex=o,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var o=this._url.tagName==="IMG",u=this._image=o?this._url:Qe("img");if(Ve(u,"leaflet-image-layer"),this._zoomAnimated&&Ve(u,"leaflet-zoom-animated"),this.options.className&&Ve(u,this.options.className),u.onselectstart=g,u.onmousemove=g,u.onload=a(this.fire,this,"load"),u.onerror=a(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(u.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),o){this._url=u.src;return}u.src=this._url,u.alt=this.options.alt},_animateZoom:function(o){var u=this._map.getZoomScale(o.zoom),f=this._map._latLngBoundsToNewLayerBounds(this._bounds,o.zoom,o.center).min;Wi(this._image,f,u)},_reset:function(){var o=this._image,u=new re(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),f=u.getSize();Rt(o,u.min),o.style.width=f.x+"px",o.style.height=f.y+"px"},_updateOpacity:function(){nr(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var o=this.options.errorOverlayUrl;o&&this._url!==o&&(this._url=o,this._image.src=o)},getCenter:function(){return this._bounds.getCenter()}}),CR=function(o,u,f){return new Xu(o,u,f)},E_=Xu.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var o=this._url.tagName==="VIDEO",u=this._image=o?this._url:Qe("video");if(Ve(u,"leaflet-image-layer"),this._zoomAnimated&&Ve(u,"leaflet-zoom-animated"),this.options.className&&Ve(u,this.options.className),u.onselectstart=g,u.onmousemove=g,u.onloadeddata=a(this.fire,this,"load"),o){for(var f=u.getElementsByTagName("source"),_=[],C=0;C<f.length;C++)_.push(f[C].src);this._url=f.length>0?_:[u.src];return}k(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(u.style,"objectFit")&&(u.style.objectFit="fill"),u.autoplay=!!this.options.autoplay,u.loop=!!this.options.loop,u.muted=!!this.options.muted,u.playsInline=!!this.options.playsInline;for(var j=0;j<this._url.length;j++){var O=Qe("source");O.src=this._url[j],u.appendChild(O)}}});function PR(o,u,f){return new E_(o,u,f)}var R_=Xu.extend({_initImage:function(){var o=this._image=this._url;Ve(o,"leaflet-image-layer"),this._zoomAnimated&&Ve(o,"leaflet-zoom-animated"),this.options.className&&Ve(o,this.options.className),o.onselectstart=g,o.onmousemove=g}});function jR(o,u,f){return new R_(o,u,f)}var Yr=_r.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(o,u){o&&(o instanceof Se||k(o))?(this._latlng=xe(o),x(this,u)):(x(this,o),this._source=u),this.options.content&&(this._content=this.options.content)},openOn:function(o){return o=arguments.length?o:this._source._map,o.hasLayer(this)||o.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(o){return this._map?this.close():(arguments.length?this._source=o:o=this._source,this._prepareOpen(),this.openOn(o._map)),this},onAdd:function(o){this._zoomAnimated=o._zoomAnimated,this._container||this._initLayout(),o._fadeAnimated&&nr(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),o._fadeAnimated&&nr(this._container,1),this.bringToFront(),this.options.interactive&&(Ve(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(o){o._fadeAnimated?(nr(this._container,0),this._removeTimeout=setTimeout(a(pt,void 0,this._container),200)):pt(this._container),this.options.interactive&&(Ct(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(o){return this._latlng=xe(o),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(o){return this._content=o,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var o={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(o.zoomanim=this._animateZoom),o},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Go(this._container),this},bringToBack:function(){return this._map&&Zo(this._container),this},_prepareOpen:function(o){var u=this._source;if(!u._map)return!1;if(u instanceof vs){u=null;var f=this._source._layers;for(var _ in f)if(f[_]._map){u=f[_];break}if(!u)return!1;this._source=u}if(!o)if(u.getCenter)o=u.getCenter();else if(u.getLatLng)o=u.getLatLng();else if(u.getBounds)o=u.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(o),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var o=this._contentNode,u=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof u=="string")o.innerHTML=u;else{for(;o.hasChildNodes();)o.removeChild(o.firstChild);o.appendChild(u)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var o=this._map.latLngToLayerPoint(this._latlng),u=U(this.options.offset),f=this._getAnchor();this._zoomAnimated?Rt(this._container,o.add(f)):u=u.add(o).add(f);var _=this._containerBottom=-u.y,C=this._containerLeft=-Math.round(this._containerWidth/2)+u.x;this._container.style.bottom=_+"px",this._container.style.left=C+"px"}},_getAnchor:function(){return[0,0]}});Ke.include({_initOverlay:function(o,u,f,_){var C=u;return C instanceof o||(C=new o(_).setContent(u)),f&&C.setLatLng(f),C}}),_r.include({_initOverlay:function(o,u,f,_){var C=f;return C instanceof o?(x(C,_),C._source=this):(C=u&&!_?u:new o(_,this),C.setContent(f)),C}});var Qu=Yr.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(o){return o=arguments.length?o:this._source._map,!o.hasLayer(this)&&o._popup&&o._popup.options.autoClose&&o.removeLayer(o._popup),o._popup=this,Yr.prototype.openOn.call(this,o)},onAdd:function(o){Yr.prototype.onAdd.call(this,o),o.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Zs||this._source.on("preclick",Hi))},onRemove:function(o){Yr.prototype.onRemove.call(this,o),o.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Zs||this._source.off("preclick",Hi))},getEvents:function(){var o=Yr.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(o.preclick=this.close),this.options.keepInView&&(o.moveend=this._adjustPan),o},_initLayout:function(){var o="leaflet-popup",u=this._container=Qe("div",o+" "+(this.options.className||"")+" leaflet-zoom-animated"),f=this._wrapper=Qe("div",o+"-content-wrapper",u);if(this._contentNode=Qe("div",o+"-content",f),zl(u),jm(this._contentNode),$e(u,"contextmenu",Hi),this._tipContainer=Qe("div",o+"-tip-container",u),this._tip=Qe("div",o+"-tip",this._tipContainer),this.options.closeButton){var _=this._closeButton=Qe("a",o+"-close-button",u);_.setAttribute("role","button"),_.setAttribute("aria-label","Close popup"),_.href="#close",_.innerHTML='<span aria-hidden="true">&#215;</span>',$e(_,"click",function(C){Gt(C),this.close()},this)}},_updateLayout:function(){var o=this._contentNode,u=o.style;u.width="",u.whiteSpace="nowrap";var f=o.offsetWidth;f=Math.min(f,this.options.maxWidth),f=Math.max(f,this.options.minWidth),u.width=f+1+"px",u.whiteSpace="",u.height="";var _=o.offsetHeight,C=this.options.maxHeight,j="leaflet-popup-scrolled";C&&_>C?(u.height=C+"px",Ve(o,j)):Ct(o,j),this._containerWidth=this._container.offsetWidth},_animateZoom:function(o){var u=this._map._latLngToNewLayerPoint(this._latlng,o.zoom,o.center),f=this._getAnchor();Rt(this._container,u.add(f))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var o=this._map,u=parseInt(Il(this._container,"marginBottom"),10)||0,f=this._container.offsetHeight+u,_=this._containerWidth,C=new A(this._containerLeft,-f-this._containerBottom);C._add(qi(this._container));var j=o.layerPointToContainerPoint(C),O=U(this.options.autoPanPadding),F=U(this.options.autoPanPaddingTopLeft||O),q=U(this.options.autoPanPaddingBottomRight||O),J=o.getSize(),pe=0,Ee=0;j.x+_+q.x>J.x&&(pe=j.x+_-J.x+q.x),j.x-pe-F.x<0&&(pe=j.x-F.x),j.y+f+q.y>J.y&&(Ee=j.y+f-J.y+q.y),j.y-Ee-F.y<0&&(Ee=j.y-F.y),(pe||Ee)&&(this.options.keepInView&&(this._autopanning=!0),o.fire("autopanstart").panBy([pe,Ee]))}},_getAnchor:function(){return U(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),TR=function(o,u){return new Qu(o,u)};Ke.mergeOptions({closePopupOnClick:!0}),Ke.include({openPopup:function(o,u,f){return this._initOverlay(Qu,o,u,f).openOn(this),this},closePopup:function(o){return o=arguments.length?o:this._popup,o&&o.close(),this}}),_r.include({bindPopup:function(o,u){return this._popup=this._initOverlay(Qu,this._popup,o,u),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(o){return this._popup&&(this instanceof vs||(this._popup._source=this),this._popup._prepareOpen(o||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(o){return this._popup&&this._popup.setContent(o),this},getPopup:function(){return this._popup},_openPopup:function(o){if(!(!this._popup||!this._map)){Gi(o);var u=o.layer||o.target;if(this._popup._source===u&&!(u instanceof Zs)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(o.latlng);return}this._popup._source=u,this.openPopup(o.latlng)}},_movePopup:function(o){this._popup.setLatLng(o.latlng)},_onKeyPress:function(o){o.originalEvent.keyCode===13&&this._openPopup(o)}});var Ju=Yr.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(o){Yr.prototype.onAdd.call(this,o),this.setOpacity(this.options.opacity),o.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(o){Yr.prototype.onRemove.call(this,o),o.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var o=Yr.prototype.getEvents.call(this);return this.options.permanent||(o.preclick=this.close),o},_initLayout:function(){var o="leaflet-tooltip",u=o+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=Qe("div",u),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+d(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(o){var u,f,_=this._map,C=this._container,j=_.latLngToContainerPoint(_.getCenter()),O=_.layerPointToContainerPoint(o),F=this.options.direction,q=C.offsetWidth,J=C.offsetHeight,pe=U(this.options.offset),Ee=this._getAnchor();F==="top"?(u=q/2,f=J):F==="bottom"?(u=q/2,f=0):F==="center"?(u=q/2,f=J/2):F==="right"?(u=0,f=J/2):F==="left"?(u=q,f=J/2):O.x<j.x?(F="right",u=0,f=J/2):(F="left",u=q+(pe.x+Ee.x)*2,f=J/2),o=o.subtract(U(u,f,!0)).add(pe).add(Ee),Ct(C,"leaflet-tooltip-right"),Ct(C,"leaflet-tooltip-left"),Ct(C,"leaflet-tooltip-top"),Ct(C,"leaflet-tooltip-bottom"),Ve(C,"leaflet-tooltip-"+F),Rt(C,o)},_updatePosition:function(){var o=this._map.latLngToLayerPoint(this._latlng);this._setPosition(o)},setOpacity:function(o){this.options.opacity=o,this._container&&nr(this._container,o)},_animateZoom:function(o){var u=this._map._latLngToNewLayerPoint(this._latlng,o.zoom,o.center);this._setPosition(u)},_getAnchor:function(){return U(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),ER=function(o,u){return new Ju(o,u)};Ke.include({openTooltip:function(o,u,f){return this._initOverlay(Ju,o,u,f).openOn(this),this},closeTooltip:function(o){return o.close(),this}}),_r.include({bindTooltip:function(o,u){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Ju,this._tooltip,o,u),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(o){if(!(!o&&this._tooltipHandlersAdded)){var u=o?"off":"on",f={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?f.add=this._openTooltip:(f.mouseover=this._openTooltip,f.mouseout=this.closeTooltip,f.click=this._openTooltip,this._map?this._addFocusListeners():f.add=this._addFocusListeners),this._tooltip.options.sticky&&(f.mousemove=this._moveTooltip),this[u](f),this._tooltipHandlersAdded=!o}},openTooltip:function(o){return this._tooltip&&(this instanceof vs||(this._tooltip._source=this),this._tooltip._prepareOpen(o)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(o){return this._tooltip&&this._tooltip.setContent(o),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(o){var u=typeof o.getElement=="function"&&o.getElement();u&&($e(u,"focus",function(){this._tooltip._source=o,this.openTooltip()},this),$e(u,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(o){var u=typeof o.getElement=="function"&&o.getElement();u&&u.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(o){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var u=this;this._map.once("moveend",function(){u._openOnceFlag=!1,u._openTooltip(o)});return}this._tooltip._source=o.layer||o.target,this.openTooltip(this._tooltip.options.sticky?o.latlng:void 0)}},_moveTooltip:function(o){var u=o.latlng,f,_;this._tooltip.options.sticky&&o.originalEvent&&(f=this._map.mouseEventToContainerPoint(o.originalEvent),_=this._map.containerPointToLayerPoint(f),u=this._map.layerPointToLatLng(_)),this._tooltip.setLatLng(u)}});var A_=Yo.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(o){var u=o&&o.tagName==="DIV"?o:document.createElement("div"),f=this.options;if(f.html instanceof Element?(Fu(u),u.appendChild(f.html)):u.innerHTML=f.html!==!1?f.html:"",f.bgPos){var _=U(f.bgPos);u.style.backgroundPosition=-_.x+"px "+-_.y+"px"}return this._setIconStyles(u,"icon"),u},createShadow:function(){return null}});function RR(o){return new A_(o)}Yo.Default=Vl;var Wl=_r.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Ce.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(o){x(this,o)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(o){o._addZoomLimit(this)},onRemove:function(o){this._removeAllTiles(),pt(this._container),o._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Go(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Zo(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(o){return this.options.opacity=o,this._updateOpacity(),this},setZIndex:function(o){return this.options.zIndex=o,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var o=this._clampZoom(this._map.getZoom());o!==this._tileZoom&&(this._tileZoom=o,this._updateLevels()),this._update()}return this},getEvents:function(){var o={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=h(this._onMoveEnd,this.options.updateInterval,this)),o.move=this._onMove),this._zoomAnimated&&(o.zoomanim=this._animateZoom),o},createTile:function(){return document.createElement("div")},getTileSize:function(){var o=this.options.tileSize;return o instanceof A?o:new A(o,o)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(o){for(var u=this.getPane().children,f=-o(-1/0,1/0),_=0,C=u.length,j;_<C;_++)j=u[_].style.zIndex,u[_]!==this._container&&j&&(f=o(f,+j));isFinite(f)&&(this.options.zIndex=f+o(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Ce.ielt9){nr(this._container,this.options.opacity);var o=+new Date,u=!1,f=!1;for(var _ in this._tiles){var C=this._tiles[_];if(!(!C.current||!C.loaded)){var j=Math.min(1,(o-C.loaded)/200);nr(C.el,j),j<1?u=!0:(C.active?f=!0:this._onOpaqueTile(C),C.active=!0)}}f&&!this._noPrune&&this._pruneTiles(),u&&(W(this._fadeFrame),this._fadeFrame=Q(this._updateOpacity,this))}},_onOpaqueTile:g,_initContainer:function(){this._container||(this._container=Qe("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var o=this._tileZoom,u=this.options.maxZoom;if(o!==void 0){for(var f in this._levels)f=Number(f),this._levels[f].el.children.length||f===o?(this._levels[f].el.style.zIndex=u-Math.abs(o-f),this._onUpdateLevel(f)):(pt(this._levels[f].el),this._removeTilesAtZoom(f),this._onRemoveLevel(f),delete this._levels[f]);var _=this._levels[o],C=this._map;return _||(_=this._levels[o]={},_.el=Qe("div","leaflet-tile-container leaflet-zoom-animated",this._container),_.el.style.zIndex=u,_.origin=C.project(C.unproject(C.getPixelOrigin()),o).round(),_.zoom=o,this._setZoomTransform(_,C.getCenter(),C.getZoom()),g(_.el.offsetWidth),this._onCreateLevel(_)),this._level=_,_}},_onUpdateLevel:g,_onRemoveLevel:g,_onCreateLevel:g,_pruneTiles:function(){if(this._map){var o,u,f=this._map.getZoom();if(f>this.options.maxZoom||f<this.options.minZoom){this._removeAllTiles();return}for(o in this._tiles)u=this._tiles[o],u.retain=u.current;for(o in this._tiles)if(u=this._tiles[o],u.current&&!u.active){var _=u.coords;this._retainParent(_.x,_.y,_.z,_.z-5)||this._retainChildren(_.x,_.y,_.z,_.z+2)}for(o in this._tiles)this._tiles[o].retain||this._removeTile(o)}},_removeTilesAtZoom:function(o){for(var u in this._tiles)this._tiles[u].coords.z===o&&this._removeTile(u)},_removeAllTiles:function(){for(var o in this._tiles)this._removeTile(o)},_invalidateAll:function(){for(var o in this._levels)pt(this._levels[o].el),this._onRemoveLevel(Number(o)),delete this._levels[o];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(o,u,f,_){var C=Math.floor(o/2),j=Math.floor(u/2),O=f-1,F=new A(+C,+j);F.z=+O;var q=this._tileCoordsToKey(F),J=this._tiles[q];return J&&J.active?(J.retain=!0,!0):(J&&J.loaded&&(J.retain=!0),O>_?this._retainParent(C,j,O,_):!1)},_retainChildren:function(o,u,f,_){for(var C=2*o;C<2*o+2;C++)for(var j=2*u;j<2*u+2;j++){var O=new A(C,j);O.z=f+1;var F=this._tileCoordsToKey(O),q=this._tiles[F];if(q&&q.active){q.retain=!0;continue}else q&&q.loaded&&(q.retain=!0);f+1<_&&this._retainChildren(C,j,f+1,_)}},_resetView:function(o){var u=o&&(o.pinch||o.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),u,u)},_animateZoom:function(o){this._setView(o.center,o.zoom,!0,o.noUpdate)},_clampZoom:function(o){var u=this.options;return u.minNativeZoom!==void 0&&o<u.minNativeZoom?u.minNativeZoom:u.maxNativeZoom!==void 0&&u.maxNativeZoom<o?u.maxNativeZoom:o},_setView:function(o,u,f,_){var C=Math.round(u);this.options.maxZoom!==void 0&&C>this.options.maxZoom||this.options.minZoom!==void 0&&C<this.options.minZoom?C=void 0:C=this._clampZoom(C);var j=this.options.updateWhenZooming&&C!==this._tileZoom;(!_||j)&&(this._tileZoom=C,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),C!==void 0&&this._update(o),f||this._pruneTiles(),this._noPrune=!!f),this._setZoomTransforms(o,u)},_setZoomTransforms:function(o,u){for(var f in this._levels)this._setZoomTransform(this._levels[f],o,u)},_setZoomTransform:function(o,u,f){var _=this._map.getZoomScale(f,o.zoom),C=o.origin.multiplyBy(_).subtract(this._map._getNewPixelOrigin(u,f)).round();Ce.any3d?Wi(o.el,C,_):Rt(o.el,C)},_resetGrid:function(){var o=this._map,u=o.options.crs,f=this._tileSize=this.getTileSize(),_=this._tileZoom,C=this._map.getPixelWorldBounds(this._tileZoom);C&&(this._globalTileRange=this._pxBoundsToTileRange(C)),this._wrapX=u.wrapLng&&!this.options.noWrap&&[Math.floor(o.project([0,u.wrapLng[0]],_).x/f.x),Math.ceil(o.project([0,u.wrapLng[1]],_).x/f.y)],this._wrapY=u.wrapLat&&!this.options.noWrap&&[Math.floor(o.project([u.wrapLat[0],0],_).y/f.x),Math.ceil(o.project([u.wrapLat[1],0],_).y/f.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(o){var u=this._map,f=u._animatingZoom?Math.max(u._animateToZoom,u.getZoom()):u.getZoom(),_=u.getZoomScale(f,this._tileZoom),C=u.project(o,this._tileZoom).floor(),j=u.getSize().divideBy(_*2);return new re(C.subtract(j),C.add(j))},_update:function(o){var u=this._map;if(u){var f=this._clampZoom(u.getZoom());if(o===void 0&&(o=u.getCenter()),this._tileZoom!==void 0){var _=this._getTiledPixelBounds(o),C=this._pxBoundsToTileRange(_),j=C.getCenter(),O=[],F=this.options.keepBuffer,q=new re(C.getBottomLeft().subtract([F,-F]),C.getTopRight().add([F,-F]));if(!(isFinite(C.min.x)&&isFinite(C.min.y)&&isFinite(C.max.x)&&isFinite(C.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var J in this._tiles){var pe=this._tiles[J].coords;(pe.z!==this._tileZoom||!q.contains(new A(pe.x,pe.y)))&&(this._tiles[J].current=!1)}if(Math.abs(f-this._tileZoom)>1){this._setView(o,f);return}for(var Ee=C.min.y;Ee<=C.max.y;Ee++)for(var He=C.min.x;He<=C.max.x;He++){var dn=new A(He,Ee);if(dn.z=this._tileZoom,!!this._isValidTile(dn)){var Bt=this._tiles[this._tileCoordsToKey(dn)];Bt?Bt.current=!0:O.push(dn)}}if(O.sort(function(Pn,ea){return Pn.distanceTo(j)-ea.distanceTo(j)}),O.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var sr=document.createDocumentFragment();for(He=0;He<O.length;He++)this._addTile(O[He],sr);this._level.el.appendChild(sr)}}}},_isValidTile:function(o){var u=this._map.options.crs;if(!u.infinite){var f=this._globalTileRange;if(!u.wrapLng&&(o.x<f.min.x||o.x>f.max.x)||!u.wrapLat&&(o.y<f.min.y||o.y>f.max.y))return!1}if(!this.options.bounds)return!0;var _=this._tileCoordsToBounds(o);return me(this.options.bounds).overlaps(_)},_keyToBounds:function(o){return this._tileCoordsToBounds(this._keyToTileCoords(o))},_tileCoordsToNwSe:function(o){var u=this._map,f=this.getTileSize(),_=o.scaleBy(f),C=_.add(f),j=u.unproject(_,o.z),O=u.unproject(C,o.z);return[j,O]},_tileCoordsToBounds:function(o){var u=this._tileCoordsToNwSe(o),f=new _e(u[0],u[1]);return this.options.noWrap||(f=this._map.wrapLatLngBounds(f)),f},_tileCoordsToKey:function(o){return o.x+":"+o.y+":"+o.z},_keyToTileCoords:function(o){var u=o.split(":"),f=new A(+u[0],+u[1]);return f.z=+u[2],f},_removeTile:function(o){var u=this._tiles[o];u&&(pt(u.el),delete this._tiles[o],this.fire("tileunload",{tile:u.el,coords:this._keyToTileCoords(o)}))},_initTile:function(o){Ve(o,"leaflet-tile");var u=this.getTileSize();o.style.width=u.x+"px",o.style.height=u.y+"px",o.onselectstart=g,o.onmousemove=g,Ce.ielt9&&this.options.opacity<1&&nr(o,this.options.opacity)},_addTile:function(o,u){var f=this._getTilePos(o),_=this._tileCoordsToKey(o),C=this.createTile(this._wrapCoords(o),a(this._tileReady,this,o));this._initTile(C),this.createTile.length<2&&Q(a(this._tileReady,this,o,null,C)),Rt(C,f),this._tiles[_]={el:C,coords:o,current:!0},u.appendChild(C),this.fire("tileloadstart",{tile:C,coords:o})},_tileReady:function(o,u,f){u&&this.fire("tileerror",{error:u,tile:f,coords:o});var _=this._tileCoordsToKey(o);f=this._tiles[_],f&&(f.loaded=+new Date,this._map._fadeAnimated?(nr(f.el,0),W(this._fadeFrame),this._fadeFrame=Q(this._updateOpacity,this)):(f.active=!0,this._pruneTiles()),u||(Ve(f.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:f.el,coords:o})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Ce.ielt9||!this._map._fadeAnimated?Q(this._pruneTiles,this):setTimeout(a(this._pruneTiles,this),250)))},_getTilePos:function(o){return o.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(o){var u=new A(this._wrapX?m(o.x,this._wrapX):o.x,this._wrapY?m(o.y,this._wrapY):o.y);return u.z=o.z,u},_pxBoundsToTileRange:function(o){var u=this.getTileSize();return new re(o.min.unscaleBy(u).floor(),o.max.unscaleBy(u).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var o in this._tiles)if(!this._tiles[o].loaded)return!1;return!0}});function AR(o){return new Wl(o)}var Jo=Wl.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(o,u){this._url=o,u=x(this,u),u.detectRetina&&Ce.retina&&u.maxZoom>0?(u.tileSize=Math.floor(u.tileSize/2),u.zoomReverse?(u.zoomOffset--,u.minZoom=Math.min(u.maxZoom,u.minZoom+1)):(u.zoomOffset++,u.maxZoom=Math.max(u.minZoom,u.maxZoom-1)),u.minZoom=Math.max(0,u.minZoom)):u.zoomReverse?u.minZoom=Math.min(u.maxZoom,u.minZoom):u.maxZoom=Math.max(u.minZoom,u.maxZoom),typeof u.subdomains=="string"&&(u.subdomains=u.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(o,u){return this._url===o&&u===void 0&&(u=!0),this._url=o,u||this.redraw(),this},createTile:function(o,u){var f=document.createElement("img");return $e(f,"load",a(this._tileOnLoad,this,u,f)),$e(f,"error",a(this._tileOnError,this,u,f)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(f.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(f.referrerPolicy=this.options.referrerPolicy),f.alt="",f.src=this.getTileUrl(o),f},getTileUrl:function(o){var u={r:Ce.retina?"@2x":"",s:this._getSubdomain(o),x:o.x,y:o.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var f=this._globalTileRange.max.y-o.y;this.options.tms&&(u.y=f),u["-y"]=f}return w(this._url,s(u,this.options))},_tileOnLoad:function(o,u){Ce.ielt9?setTimeout(a(o,this,null,u),0):o(null,u)},_tileOnError:function(o,u,f){var _=this.options.errorTileUrl;_&&u.getAttribute("src")!==_&&(u.src=_),o(f,u)},_onTileRemove:function(o){o.tile.onload=null},_getZoomForUrl:function(){var o=this._tileZoom,u=this.options.maxZoom,f=this.options.zoomReverse,_=this.options.zoomOffset;return f&&(o=u-o),o+_},_getSubdomain:function(o){var u=Math.abs(o.x+o.y)%this.options.subdomains.length;return this.options.subdomains[u]},_abortLoading:function(){var o,u;for(o in this._tiles)if(this._tiles[o].coords.z!==this._tileZoom&&(u=this._tiles[o].el,u.onload=g,u.onerror=g,!u.complete)){u.src=T;var f=this._tiles[o].coords;pt(u),delete this._tiles[o],this.fire("tileabort",{tile:u,coords:f})}},_removeTile:function(o){var u=this._tiles[o];if(u)return u.el.setAttribute("src",T),Wl.prototype._removeTile.call(this,o)},_tileReady:function(o,u,f){if(!(!this._map||f&&f.getAttribute("src")===T))return Wl.prototype._tileReady.call(this,o,u,f)}});function O_(o,u){return new Jo(o,u)}var L_=Jo.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(o,u){this._url=o;var f=s({},this.defaultWmsParams);for(var _ in u)_ in this.options||(f[_]=u[_]);u=x(this,u);var C=u.detectRetina&&Ce.retina?2:1,j=this.getTileSize();f.width=j.x*C,f.height=j.y*C,this.wmsParams=f},onAdd:function(o){this._crs=this.options.crs||o.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var u=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[u]=this._crs.code,Jo.prototype.onAdd.call(this,o)},getTileUrl:function(o){var u=this._tileCoordsToNwSe(o),f=this._crs,_=le(f.project(u[0]),f.project(u[1])),C=_.min,j=_.max,O=(this._wmsVersion>=1.3&&this._crs===C_?[C.y,C.x,j.y,j.x]:[C.x,C.y,j.x,j.y]).join(","),F=Jo.prototype.getTileUrl.call(this,o);return F+S(this.wmsParams,F,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+O},setParams:function(o,u){return s(this.wmsParams,o),u||this.redraw(),this}});function OR(o,u){return new L_(o,u)}Jo.WMS=L_,O_.wms=OR;var _s=_r.extend({options:{padding:.1},initialize:function(o){x(this,o),d(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),Ve(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var o={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(o.zoomanim=this._onAnimZoom),o},_onAnimZoom:function(o){this._updateTransform(o.center,o.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(o,u){var f=this._map.getZoomScale(u,this._zoom),_=this._map.getSize().multiplyBy(.5+this.options.padding),C=this._map.project(this._center,u),j=_.multiplyBy(-f).add(C).subtract(this._map._getNewPixelOrigin(o,u));Ce.any3d?Wi(this._container,j,f):Rt(this._container,j)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var o in this._layers)this._layers[o]._reset()},_onZoomEnd:function(){for(var o in this._layers)this._layers[o]._project()},_updatePaths:function(){for(var o in this._layers)this._layers[o]._update()},_update:function(){var o=this.options.padding,u=this._map.getSize(),f=this._map.containerPointToLayerPoint(u.multiplyBy(-o)).round();this._bounds=new re(f,f.add(u.multiplyBy(1+o*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),M_=_s.extend({options:{tolerance:0},getEvents:function(){var o=_s.prototype.getEvents.call(this);return o.viewprereset=this._onViewPreReset,o},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){_s.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var o=this._container=document.createElement("canvas");$e(o,"mousemove",this._onMouseMove,this),$e(o,"click dblclick mousedown mouseup contextmenu",this._onClick,this),$e(o,"mouseout",this._handleMouseOut,this),o._leaflet_disable_events=!0,this._ctx=o.getContext("2d")},_destroyContainer:function(){W(this._redrawRequest),delete this._ctx,pt(this._container),ot(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var o;this._redrawBounds=null;for(var u in this._layers)o=this._layers[u],o._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){_s.prototype._update.call(this);var o=this._bounds,u=this._container,f=o.getSize(),_=Ce.retina?2:1;Rt(u,o.min),u.width=_*f.x,u.height=_*f.y,u.style.width=f.x+"px",u.style.height=f.y+"px",Ce.retina&&this._ctx.scale(2,2),this._ctx.translate(-o.min.x,-o.min.y),this.fire("update")}},_reset:function(){_s.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(o){this._updateDashArray(o),this._layers[d(o)]=o;var u=o._order={layer:o,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=u),this._drawLast=u,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(o){this._requestRedraw(o)},_removePath:function(o){var u=o._order,f=u.next,_=u.prev;f?f.prev=_:this._drawLast=_,_?_.next=f:this._drawFirst=f,delete o._order,delete this._layers[d(o)],this._requestRedraw(o)},_updatePath:function(o){this._extendRedrawBounds(o),o._project(),o._update(),this._requestRedraw(o)},_updateStyle:function(o){this._updateDashArray(o),this._requestRedraw(o)},_updateDashArray:function(o){if(typeof o.options.dashArray=="string"){var u=o.options.dashArray.split(/[, ]+/),f=[],_,C;for(C=0;C<u.length;C++){if(_=Number(u[C]),isNaN(_))return;f.push(_)}o.options._dashArray=f}else o.options._dashArray=o.options.dashArray},_requestRedraw:function(o){this._map&&(this._extendRedrawBounds(o),this._redrawRequest=this._redrawRequest||Q(this._redraw,this))},_extendRedrawBounds:function(o){if(o._pxBounds){var u=(o.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new re,this._redrawBounds.extend(o._pxBounds.min.subtract([u,u])),this._redrawBounds.extend(o._pxBounds.max.add([u,u]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var o=this._redrawBounds;if(o){var u=o.getSize();this._ctx.clearRect(o.min.x,o.min.y,u.x,u.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var o,u=this._redrawBounds;if(this._ctx.save(),u){var f=u.getSize();this._ctx.beginPath(),this._ctx.rect(u.min.x,u.min.y,f.x,f.y),this._ctx.clip()}this._drawing=!0;for(var _=this._drawFirst;_;_=_.next)o=_.layer,(!u||o._pxBounds&&o._pxBounds.intersects(u))&&o._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(o,u){if(this._drawing){var f,_,C,j,O=o._parts,F=O.length,q=this._ctx;if(F){for(q.beginPath(),f=0;f<F;f++){for(_=0,C=O[f].length;_<C;_++)j=O[f][_],q[_?"lineTo":"moveTo"](j.x,j.y);u&&q.closePath()}this._fillStroke(q,o)}}},_updateCircle:function(o){if(!(!this._drawing||o._empty())){var u=o._point,f=this._ctx,_=Math.max(Math.round(o._radius),1),C=(Math.max(Math.round(o._radiusY),1)||_)/_;C!==1&&(f.save(),f.scale(1,C)),f.beginPath(),f.arc(u.x,u.y/C,_,0,Math.PI*2,!1),C!==1&&f.restore(),this._fillStroke(f,o)}},_fillStroke:function(o,u){var f=u.options;f.fill&&(o.globalAlpha=f.fillOpacity,o.fillStyle=f.fillColor||f.color,o.fill(f.fillRule||"evenodd")),f.stroke&&f.weight!==0&&(o.setLineDash&&o.setLineDash(u.options&&u.options._dashArray||[]),o.globalAlpha=f.opacity,o.lineWidth=f.weight,o.strokeStyle=f.color,o.lineCap=f.lineCap,o.lineJoin=f.lineJoin,o.stroke())},_onClick:function(o){for(var u=this._map.mouseEventToLayerPoint(o),f,_,C=this._drawFirst;C;C=C.next)f=C.layer,f.options.interactive&&f._containsPoint(u)&&(!(o.type==="click"||o.type==="preclick")||!this._map._draggableMoved(f))&&(_=f);this._fireEvent(_?[_]:!1,o)},_onMouseMove:function(o){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var u=this._map.mouseEventToLayerPoint(o);this._handleMouseHover(o,u)}},_handleMouseOut:function(o){var u=this._hoveredLayer;u&&(Ct(this._container,"leaflet-interactive"),this._fireEvent([u],o,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(o,u){if(!this._mouseHoverThrottled){for(var f,_,C=this._drawFirst;C;C=C.next)f=C.layer,f.options.interactive&&f._containsPoint(u)&&(_=f);_!==this._hoveredLayer&&(this._handleMouseOut(o),_&&(Ve(this._container,"leaflet-interactive"),this._fireEvent([_],o,"mouseover"),this._hoveredLayer=_)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,o),this._mouseHoverThrottled=!0,setTimeout(a(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(o,u,f){this._map._fireDOMEvent(u,f||u.type,o)},_bringToFront:function(o){var u=o._order;if(u){var f=u.next,_=u.prev;if(f)f.prev=_;else return;_?_.next=f:f&&(this._drawFirst=f),u.prev=this._drawLast,this._drawLast.next=u,u.next=null,this._drawLast=u,this._requestRedraw(o)}},_bringToBack:function(o){var u=o._order;if(u){var f=u.next,_=u.prev;if(_)_.next=f;else return;f?f.prev=_:_&&(this._drawLast=_),u.prev=null,u.next=this._drawFirst,this._drawFirst.prev=u,this._drawFirst=u,this._requestRedraw(o)}}});function I_(o){return Ce.canvas?new M_(o):null}var ql=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(o){return document.createElement("<lvml:"+o+' class="lvml">')}}catch{}return function(o){return document.createElement("<"+o+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),LR={_initContainer:function(){this._container=Qe("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(_s.prototype._update.call(this),this.fire("update"))},_initPath:function(o){var u=o._container=ql("shape");Ve(u,"leaflet-vml-shape "+(this.options.className||"")),u.coordsize="1 1",o._path=ql("path"),u.appendChild(o._path),this._updateStyle(o),this._layers[d(o)]=o},_addPath:function(o){var u=o._container;this._container.appendChild(u),o.options.interactive&&o.addInteractiveTarget(u)},_removePath:function(o){var u=o._container;pt(u),o.removeInteractiveTarget(u),delete this._layers[d(o)]},_updateStyle:function(o){var u=o._stroke,f=o._fill,_=o.options,C=o._container;C.stroked=!!_.stroke,C.filled=!!_.fill,_.stroke?(u||(u=o._stroke=ql("stroke")),C.appendChild(u),u.weight=_.weight+"px",u.color=_.color,u.opacity=_.opacity,_.dashArray?u.dashStyle=k(_.dashArray)?_.dashArray.join(" "):_.dashArray.replace(/( *, *)/g," "):u.dashStyle="",u.endcap=_.lineCap.replace("butt","flat"),u.joinstyle=_.lineJoin):u&&(C.removeChild(u),o._stroke=null),_.fill?(f||(f=o._fill=ql("fill")),C.appendChild(f),f.color=_.fillColor||_.color,f.opacity=_.fillOpacity):f&&(C.removeChild(f),o._fill=null)},_updateCircle:function(o){var u=o._point.round(),f=Math.round(o._radius),_=Math.round(o._radiusY||f);this._setPath(o,o._empty()?"M0 0":"AL "+u.x+","+u.y+" "+f+","+_+" 0,"+65535*360)},_setPath:function(o,u){o._path.v=u},_bringToFront:function(o){Go(o._container)},_bringToBack:function(o){Zo(o._container)}},ed=Ce.vml?ql:In,Hl=_s.extend({_initContainer:function(){this._container=ed("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=ed("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){pt(this._container),ot(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){_s.prototype._update.call(this);var o=this._bounds,u=o.getSize(),f=this._container;(!this._svgSize||!this._svgSize.equals(u))&&(this._svgSize=u,f.setAttribute("width",u.x),f.setAttribute("height",u.y)),Rt(f,o.min),f.setAttribute("viewBox",[o.min.x,o.min.y,u.x,u.y].join(" ")),this.fire("update")}},_initPath:function(o){var u=o._path=ed("path");o.options.className&&Ve(u,o.options.className),o.options.interactive&&Ve(u,"leaflet-interactive"),this._updateStyle(o),this._layers[d(o)]=o},_addPath:function(o){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(o._path),o.addInteractiveTarget(o._path)},_removePath:function(o){pt(o._path),o.removeInteractiveTarget(o._path),delete this._layers[d(o)]},_updatePath:function(o){o._project(),o._update()},_updateStyle:function(o){var u=o._path,f=o.options;u&&(f.stroke?(u.setAttribute("stroke",f.color),u.setAttribute("stroke-opacity",f.opacity),u.setAttribute("stroke-width",f.weight),u.setAttribute("stroke-linecap",f.lineCap),u.setAttribute("stroke-linejoin",f.lineJoin),f.dashArray?u.setAttribute("stroke-dasharray",f.dashArray):u.removeAttribute("stroke-dasharray"),f.dashOffset?u.setAttribute("stroke-dashoffset",f.dashOffset):u.removeAttribute("stroke-dashoffset")):u.setAttribute("stroke","none"),f.fill?(u.setAttribute("fill",f.fillColor||f.color),u.setAttribute("fill-opacity",f.fillOpacity),u.setAttribute("fill-rule",f.fillRule||"evenodd")):u.setAttribute("fill","none"))},_updatePoly:function(o,u){this._setPath(o,Dn(o._parts,u))},_updateCircle:function(o){var u=o._point,f=Math.max(Math.round(o._radius),1),_=Math.max(Math.round(o._radiusY),1)||f,C="a"+f+","+_+" 0 1,0 ",j=o._empty()?"M0 0":"M"+(u.x-f)+","+u.y+C+f*2+",0 "+C+-f*2+",0 ";this._setPath(o,j)},_setPath:function(o,u){o._path.setAttribute("d",u)},_bringToFront:function(o){Go(o._path)},_bringToBack:function(o){Zo(o._path)}});Ce.vml&&Hl.include(LR);function D_(o){return Ce.svg||Ce.vml?new Hl(o):null}Ke.include({getRenderer:function(o){var u=o.options.renderer||this._getPaneRenderer(o.options.pane)||this.options.renderer||this._renderer;return u||(u=this._renderer=this._createRenderer()),this.hasLayer(u)||this.addLayer(u),u},_getPaneRenderer:function(o){if(o==="overlayPane"||o===void 0)return!1;var u=this._paneRenderers[o];return u===void 0&&(u=this._createRenderer({pane:o}),this._paneRenderers[o]=u),u},_createRenderer:function(o){return this.options.preferCanvas&&I_(o)||D_(o)}});var $_=Xo.extend({initialize:function(o,u){Xo.prototype.initialize.call(this,this._boundsToLatLngs(o),u)},setBounds:function(o){return this.setLatLngs(this._boundsToLatLngs(o))},_boundsToLatLngs:function(o){return o=me(o),[o.getSouthWest(),o.getNorthWest(),o.getNorthEast(),o.getSouthEast()]}});function MR(o,u){return new $_(o,u)}Hl.create=ed,Hl.pointsToPath=Dn,xs.geometryToLayer=Gu,xs.coordsToLatLng=Dm,xs.coordsToLatLngs=Zu,xs.latLngToCoords=$m,xs.latLngsToCoords=Ku,xs.getFeature=Qo,xs.asFeature=Yu,Ke.mergeOptions({boxZoom:!0});var F_=Kr.extend({initialize:function(o){this._map=o,this._container=o._container,this._pane=o._panes.overlayPane,this._resetStateTimeout=0,o.on("unload",this._destroy,this)},addHooks:function(){$e(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){ot(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){pt(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(o){if(!o.shiftKey||o.which!==1&&o.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),Dl(),_m(),this._startPoint=this._map.mouseEventToContainerPoint(o),$e(document,{contextmenu:Gi,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(o){this._moved||(this._moved=!0,this._box=Qe("div","leaflet-zoom-box",this._container),Ve(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(o);var u=new re(this._point,this._startPoint),f=u.getSize();Rt(this._box,u.min),this._box.style.width=f.x+"px",this._box.style.height=f.y+"px"},_finish:function(){this._moved&&(pt(this._box),Ct(this._container,"leaflet-crosshair")),$l(),wm(),ot(document,{contextmenu:Gi,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(o){if(!(o.which!==1&&o.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(a(this._resetState,this),0);var u=new _e(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(u).fire("boxzoomend",{boxZoomBounds:u})}},_onKeyDown:function(o){o.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});Ke.addInitHook("addHandler","boxZoom",F_),Ke.mergeOptions({doubleClickZoom:!0});var z_=Kr.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(o){var u=this._map,f=u.getZoom(),_=u.options.zoomDelta,C=o.originalEvent.shiftKey?f-_:f+_;u.options.doubleClickZoom==="center"?u.setZoom(C):u.setZoomAround(o.containerPoint,C)}});Ke.addInitHook("addHandler","doubleClickZoom",z_),Ke.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var B_=Kr.extend({addHooks:function(){if(!this._draggable){var o=this._map;this._draggable=new Gs(o._mapPane,o._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),o.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),o.on("zoomend",this._onZoomEnd,this),o.whenReady(this._onZoomEnd,this))}Ve(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){Ct(this._map._container,"leaflet-grab"),Ct(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var o=this._map;if(o._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var u=me(this._map.options.maxBounds);this._offsetLimit=le(this._map.latLngToContainerPoint(u.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(u.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;o.fire("movestart").fire("dragstart"),o.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(o){if(this._map.options.inertia){var u=this._lastTime=+new Date,f=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(f),this._times.push(u),this._prunePositions(u)}this._map.fire("move",o).fire("drag",o)},_prunePositions:function(o){for(;this._positions.length>1&&o-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var o=this._map.getSize().divideBy(2),u=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=u.subtract(o).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(o,u){return o-(o-u)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var o=this._draggable._newPos.subtract(this._draggable._startPos),u=this._offsetLimit;o.x<u.min.x&&(o.x=this._viscousLimit(o.x,u.min.x)),o.y<u.min.y&&(o.y=this._viscousLimit(o.y,u.min.y)),o.x>u.max.x&&(o.x=this._viscousLimit(o.x,u.max.x)),o.y>u.max.y&&(o.y=this._viscousLimit(o.y,u.max.y)),this._draggable._newPos=this._draggable._startPos.add(o)}},_onPreDragWrap:function(){var o=this._worldWidth,u=Math.round(o/2),f=this._initialWorldOffset,_=this._draggable._newPos.x,C=(_-u+f)%o+u-f,j=(_+u+f)%o-u-f,O=Math.abs(C+f)<Math.abs(j+f)?C:j;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=O},_onDragEnd:function(o){var u=this._map,f=u.options,_=!f.inertia||o.noInertia||this._times.length<2;if(u.fire("dragend",o),_)u.fire("moveend");else{this._prunePositions(+new Date);var C=this._lastPos.subtract(this._positions[0]),j=(this._lastTime-this._times[0])/1e3,O=f.easeLinearity,F=C.multiplyBy(O/j),q=F.distanceTo([0,0]),J=Math.min(f.inertiaMaxSpeed,q),pe=F.multiplyBy(J/q),Ee=J/(f.inertiaDeceleration*O),He=pe.multiplyBy(-Ee/2).round();!He.x&&!He.y?u.fire("moveend"):(He=u._limitOffset(He,u.options.maxBounds),Q(function(){u.panBy(He,{duration:Ee,easeLinearity:O,noMoveStart:!0,animate:!0})}))}}});Ke.addInitHook("addHandler","dragging",B_),Ke.mergeOptions({keyboard:!0,keyboardPanDelta:80});var U_=Kr.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(o){this._map=o,this._setPanDelta(o.options.keyboardPanDelta),this._setZoomDelta(o.options.zoomDelta)},addHooks:function(){var o=this._map._container;o.tabIndex<=0&&(o.tabIndex="0"),$e(o,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),ot(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var o=document.body,u=document.documentElement,f=o.scrollTop||u.scrollTop,_=o.scrollLeft||u.scrollLeft;this._map._container.focus(),window.scrollTo(_,f)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(o){var u=this._panKeys={},f=this.keyCodes,_,C;for(_=0,C=f.left.length;_<C;_++)u[f.left[_]]=[-1*o,0];for(_=0,C=f.right.length;_<C;_++)u[f.right[_]]=[o,0];for(_=0,C=f.down.length;_<C;_++)u[f.down[_]]=[0,o];for(_=0,C=f.up.length;_<C;_++)u[f.up[_]]=[0,-1*o]},_setZoomDelta:function(o){var u=this._zoomKeys={},f=this.keyCodes,_,C;for(_=0,C=f.zoomIn.length;_<C;_++)u[f.zoomIn[_]]=o;for(_=0,C=f.zoomOut.length;_<C;_++)u[f.zoomOut[_]]=-o},_addHooks:function(){$e(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){ot(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(o){if(!(o.altKey||o.ctrlKey||o.metaKey)){var u=o.keyCode,f=this._map,_;if(u in this._panKeys){if(!f._panAnim||!f._panAnim._inProgress)if(_=this._panKeys[u],o.shiftKey&&(_=U(_).multiplyBy(3)),f.options.maxBounds&&(_=f._limitOffset(U(_),f.options.maxBounds)),f.options.worldCopyJump){var C=f.wrapLatLng(f.unproject(f.project(f.getCenter()).add(_)));f.panTo(C)}else f.panBy(_)}else if(u in this._zoomKeys)f.setZoom(f.getZoom()+(o.shiftKey?3:1)*this._zoomKeys[u]);else if(u===27&&f._popup&&f._popup.options.closeOnEscapeKey)f.closePopup();else return;Gi(o)}}});Ke.addInitHook("addHandler","keyboard",U_),Ke.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var V_=Kr.extend({addHooks:function(){$e(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){ot(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(o){var u=f_(o),f=this._map.options.wheelDebounceTime;this._delta+=u,this._lastMousePos=this._map.mouseEventToContainerPoint(o),this._startTime||(this._startTime=+new Date);var _=Math.max(f-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(a(this._performZoom,this),_),Gi(o)},_performZoom:function(){var o=this._map,u=o.getZoom(),f=this._map.options.zoomSnap||0;o._stop();var _=this._delta/(this._map.options.wheelPxPerZoomLevel*4),C=4*Math.log(2/(1+Math.exp(-Math.abs(_))))/Math.LN2,j=f?Math.ceil(C/f)*f:C,O=o._limitZoom(u+(this._delta>0?j:-j))-u;this._delta=0,this._startTime=null,O&&(o.options.scrollWheelZoom==="center"?o.setZoom(u+O):o.setZoomAround(this._lastMousePos,u+O))}});Ke.addInitHook("addHandler","scrollWheelZoom",V_);var IR=600;Ke.mergeOptions({tapHold:Ce.touchNative&&Ce.safari&&Ce.mobile,tapTolerance:15});var W_=Kr.extend({addHooks:function(){$e(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){ot(this._map._container,"touchstart",this._onDown,this)},_onDown:function(o){if(clearTimeout(this._holdTimeout),o.touches.length===1){var u=o.touches[0];this._startPos=this._newPos=new A(u.clientX,u.clientY),this._holdTimeout=setTimeout(a(function(){this._cancel(),this._isTapValid()&&($e(document,"touchend",Gt),$e(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",u))},this),IR),$e(document,"touchend touchcancel contextmenu",this._cancel,this),$e(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function o(){ot(document,"touchend",Gt),ot(document,"touchend touchcancel",o)},_cancel:function(){clearTimeout(this._holdTimeout),ot(document,"touchend touchcancel contextmenu",this._cancel,this),ot(document,"touchmove",this._onMove,this)},_onMove:function(o){var u=o.touches[0];this._newPos=new A(u.clientX,u.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(o,u){var f=new MouseEvent(o,{bubbles:!0,cancelable:!0,view:window,screenX:u.screenX,screenY:u.screenY,clientX:u.clientX,clientY:u.clientY});f._simulated=!0,u.target.dispatchEvent(f)}});Ke.addInitHook("addHandler","tapHold",W_),Ke.mergeOptions({touchZoom:Ce.touch,bounceAtZoomLimits:!0});var q_=Kr.extend({addHooks:function(){Ve(this._map._container,"leaflet-touch-zoom"),$e(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){Ct(this._map._container,"leaflet-touch-zoom"),ot(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(o){var u=this._map;if(!(!o.touches||o.touches.length!==2||u._animatingZoom||this._zooming)){var f=u.mouseEventToContainerPoint(o.touches[0]),_=u.mouseEventToContainerPoint(o.touches[1]);this._centerPoint=u.getSize()._divideBy(2),this._startLatLng=u.containerPointToLatLng(this._centerPoint),u.options.touchZoom!=="center"&&(this._pinchStartLatLng=u.containerPointToLatLng(f.add(_)._divideBy(2))),this._startDist=f.distanceTo(_),this._startZoom=u.getZoom(),this._moved=!1,this._zooming=!0,u._stop(),$e(document,"touchmove",this._onTouchMove,this),$e(document,"touchend touchcancel",this._onTouchEnd,this),Gt(o)}},_onTouchMove:function(o){if(!(!o.touches||o.touches.length!==2||!this._zooming)){var u=this._map,f=u.mouseEventToContainerPoint(o.touches[0]),_=u.mouseEventToContainerPoint(o.touches[1]),C=f.distanceTo(_)/this._startDist;if(this._zoom=u.getScaleZoom(C,this._startZoom),!u.options.bounceAtZoomLimits&&(this._zoom<u.getMinZoom()&&C<1||this._zoom>u.getMaxZoom()&&C>1)&&(this._zoom=u._limitZoom(this._zoom)),u.options.touchZoom==="center"){if(this._center=this._startLatLng,C===1)return}else{var j=f._add(_)._divideBy(2)._subtract(this._centerPoint);if(C===1&&j.x===0&&j.y===0)return;this._center=u.unproject(u.project(this._pinchStartLatLng,this._zoom).subtract(j),this._zoom)}this._moved||(u._moveStart(!0,!1),this._moved=!0),W(this._animRequest);var O=a(u._move,u,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=Q(O,this,!0),Gt(o)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,W(this._animRequest),ot(document,"touchmove",this._onTouchMove,this),ot(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});Ke.addInitHook("addHandler","touchZoom",q_),Ke.BoxZoom=F_,Ke.DoubleClickZoom=z_,Ke.Drag=B_,Ke.Keyboard=U_,Ke.ScrollWheelZoom=V_,Ke.TapHold=W_,Ke.TouchZoom=q_,n.Bounds=re,n.Browser=Ce,n.CRS=te,n.Canvas=M_,n.Circle=Im,n.CircleMarker=Hu,n.Class=B,n.Control=xr,n.DivIcon=A_,n.DivOverlay=Yr,n.DomEvent=eR,n.DomUtil=Q2,n.Draggable=Gs,n.Evented=se,n.FeatureGroup=vs,n.GeoJSON=xs,n.GridLayer=Wl,n.Handler=Kr,n.Icon=Yo,n.ImageOverlay=Xu,n.LatLng=Se,n.LatLngBounds=_e,n.Layer=_r,n.LayerGroup=Ko,n.LineUtil=fR,n.Map=Ke,n.Marker=qu,n.Mixin=aR,n.Path=Zs,n.Point=A,n.PolyUtil=lR,n.Polygon=Xo,n.Polyline=ys,n.Popup=Qu,n.PosAnimation=m_,n.Projection=mR,n.Rectangle=$_,n.Renderer=_s,n.SVG=Hl,n.SVGOverlay=R_,n.TileLayer=Jo,n.Tooltip=Ju,n.Transformation=Ue,n.Util=Z,n.VideoOverlay=E_,n.bind=a,n.bounds=le,n.canvas=I_,n.circle=bR,n.circleMarker=wR,n.control=Bl,n.divIcon=RR,n.extend=s,n.featureGroup=yR,n.geoJSON=T_,n.geoJson=NR,n.gridLayer=AR,n.icon=xR,n.imageOverlay=CR,n.latLng=xe,n.latLngBounds=me,n.layerGroup=vR,n.map=tR,n.marker=_R,n.point=U,n.polygon=kR,n.polyline=SR,n.popup=TR,n.rectangle=MR,n.setOptions=x,n.stamp=d,n.svg=D_,n.svgOverlay=jR,n.tileLayer=O_,n.tooltip=ER,n.transformation=ze,n.version=r,n.videoOverlay=PR;var DR=window.L;n.noConflict=function(){return window.L=DR,this},window.L=n})})(mv,mv.exports);var $U=mv.exports;const Wn=Pv($U),FU=()=>{const[e,t]=p.useState([]),[n,r]=p.useState(null),[s,i]=p.useState(!1),[a,c]=p.useState(null),d=p.useCallback(async(g,y=3)=>{i(!0),c(null);for(let v=1;v<=y;v++)try{const{data:b,error:x}=await ve.functions.invoke("waqi-data",{body:{action:"getStationsInBounds",bounds:g}});if(x)throw new Error(x.message);if(!b.success)throw new Error(b.error||"Failed to fetch stations");t(b.data),c(null),i(!1);return}catch(b){if(console.warn(`Attempt ${v}/${y} failed:`,b),v===y){const x=b instanceof Error?b.message:"Failed to fetch air quality data";c(x),console.error("Error fetching stations after retries:",b)}else await new Promise(x=>setTimeout(x,1e3*v))}i(!1)},[]),h=p.useCallback(async(g,y)=>{i(!0),c(null);try{const{data:v,error:b}=await ve.functions.invoke("waqi-data",{body:{action:"getStationDetails",lat:g,lng:y}});if(b)throw new Error(b.message);if(!v.success)throw new Error(v.error||"Failed to fetch station details");return r(v.data),v.data}catch(v){const b=v instanceof Error?v.message:"Failed to fetch station details";return c(b),console.error("Error fetching station details:",v),null}finally{i(!1)}},[]),m=p.useCallback(()=>{r(null)},[]);return{stations:e,selectedStation:n,isLoading:s,error:a,fetchStationsInBounds:d,fetchStationDetails:h,clearSelectedStation:m}},jx={low:"hsl(152, 80%, 45%)",medium:"hsl(48, 95%, 50%)",high:"hsl(28, 95%, 55%)",critical:"hsl(12, 85%, 55%)"},Tx={industrial:"",power:"",transport:"",construction:"",heating:"",oil_gas:"",mining:""},Rb=[{id:"almaty-tec-1",name:"-1",category:"power",harmLevel:"critical",lat:43.235,lng:76.895,description:",    SO  NO",emissions:"SO, NO, PM2.5",city:""},{id:"almaty-tec-2",name:"-2",category:"power",harmLevel:"critical",lat:43.312,lng:76.928,description:",  ",emissions:"SO, NO, PM10, CO",city:""},{id:"almaty-tec-3",name:"-3",category:"power",harmLevel:"high",lat:43.268,lng:77.015,description:"  ",emissions:"NO, CO",city:""},{id:"almaty-ind-1",name:"   ",category:"industrial",harmLevel:"high",lat:43.289,lng:76.942,description:"   ",emissions:"PM10, VOC, ",city:""},{id:"almaty-ind-2",name:"- ",category:"industrial",harmLevel:"medium",lat:43.245,lng:76.968,description:"  ",emissions:"VOC, ",city:""},{id:"almaty-ind-3",name:" ",category:"industrial",harmLevel:"high",lat:43.335,lng:76.875,description:" ",emissions:"PM2.5, VOC,  ",city:""},{id:"almaty-ind-4",name:" ",category:"industrial",harmLevel:"critical",lat:43.198,lng:76.842,description:"   ",emissions:"PM10, PM2.5, CO",city:""},{id:"almaty-trans-1",name:" - ()",category:"transport",harmLevel:"high",lat:43.218,lng:76.928,description:"    ",emissions:"NO, CO, PM2.5",city:""},{id:"almaty-trans-2",name:" ",category:"transport",harmLevel:"high",lat:43.262,lng:76.945,description:"  ",emissions:"NO, CO, PM2.5",city:""},{id:"almaty-trans-3",name:" ",category:"transport",harmLevel:"medium",lat:43.235,lng:76.898,description:" ",emissions:"NO, PM10,  ",city:""},{id:"almaty-heat-1",name:"  ",category:"heating",harmLevel:"high",lat:43.165,lng:77.058,description:"    ",emissions:"PM2.5, CO, ",city:""},{id:"almaty-heat-2",name:"  ",category:"heating",harmLevel:"high",lat:43.315,lng:76.892,description:"   ",emissions:"PM2.5, CO, ",city:""},{id:"almaty-heat-3",name:" ",category:"heating",harmLevel:"critical",lat:43.185,lng:76.835,description:"    ",emissions:"PM2.5, SO, CO",city:""},{id:"astana-tec-1",name:"-1 ",category:"power",harmLevel:"critical",lat:51.128,lng:71.432,description:"   ",emissions:"SO, NO, PM10, CO",city:""},{id:"astana-tec-2",name:"-2 ",category:"power",harmLevel:"critical",lat:51.165,lng:71.478,description:"  ",emissions:"SO, NO, PM2.5",city:""},{id:"astana-tec-3",name:"-3 ",category:"power",harmLevel:"high",lat:51.092,lng:71.512,description:"    ",emissions:"NO, CO",city:""},{id:"astana-trans-1",name:" ",category:"transport",harmLevel:"medium",lat:51.089,lng:71.418,description:"    ",emissions:"NO, CO, PM2.5",city:""},{id:"astana-const-1",name:" EXPO-",category:"construction",harmLevel:"medium",lat:51.092,lng:71.405,description:" ",emissions:"PM10, ",city:""},{id:"karaganda-tec",name:"-3 ",category:"power",harmLevel:"critical",lat:49.835,lng:73.102,description:"   ",emissions:"SO, NO, PM10, ",city:""},{id:"karaganda-arselor",name:"ArcelorMittal ",category:"industrial",harmLevel:"critical",lat:50.065,lng:72.948,description:"   ",emissions:"SO, NO, PM10,  , CO",city:""},{id:"karaganda-coal-1",name:" ",category:"mining",harmLevel:"high",lat:49.782,lng:73.095,description:" ",emissions:" , ",city:""},{id:"karaganda-coal-2",name:" ",category:"mining",harmLevel:"high",lat:49.658,lng:73.215,description:"  ",emissions:"PM10,  ",city:""},{id:"pavlodar-alum",name:"  ",category:"industrial",harmLevel:"critical",lat:52.285,lng:76.968,description:"   ",emissions:", SO,  ",city:""},{id:"pavlodar-oil",name:" ",category:"oil_gas",harmLevel:"critical",lat:52.312,lng:76.935,description:" ",emissions:"VOC, HS, SO, ",city:""},{id:"pavlodar-tec",name:" -1",category:"power",harmLevel:"high",lat:52.268,lng:76.952,description:"  ",emissions:"SO, NO, PM10",city:""},{id:"pavlodar-chemical",name:" ",category:"industrial",harmLevel:"high",lat:52.295,lng:76.978,description:"  ",emissions:", , VOC",city:""},{id:"ust-kam-titanium",name:"- - ",category:"industrial",harmLevel:"critical",lat:49.958,lng:82.612,description:"   ",emissions:", ,  ",city:"-"},{id:"ust-kam-lead",name:"-  ",category:"industrial",harmLevel:"critical",lat:49.945,lng:82.598,description:"   ",emissions:", , , SO",city:"-"},{id:"ust-kam-tec",name:" -",category:"power",harmLevel:"high",lat:49.968,lng:82.635,description:" ",emissions:"SO, NO, PM10",city:"-"},{id:"ust-kam-condenser",name:" ",category:"industrial",harmLevel:"high",lat:49.952,lng:82.628,description:" ",emissions:" , VOC",city:"-"},{id:"shymkent-oil",name:"  (PetroKazakhstan)",category:"oil_gas",harmLevel:"critical",lat:42.328,lng:69.565,description:" ",emissions:"VOC, HS, SO, ",city:""},{id:"shymkent-tec",name:"-3 ",category:"power",harmLevel:"high",lat:42.345,lng:69.582,description:"",emissions:"SO, NO, PM10",city:""},{id:"shymkent-lead",name:"  ()",category:"industrial",harmLevel:"critical",lat:42.315,lng:69.548,description:" ",emissions:", SO,  ",city:""},{id:"shymkent-phosphor",name:" ",category:"industrial",harmLevel:"high",lat:42.338,lng:69.538,description:"   ",emissions:", , SO",city:""},{id:"atyrau-oil",name:" ",category:"oil_gas",harmLevel:"critical",lat:47.118,lng:51.915,description:"   ",emissions:"VOC, HS, SO, , ",city:""},{id:"atyrau-tengiz",name:" (TCO)",category:"oil_gas",harmLevel:"critical",lat:46.155,lng:53.435,description:"  ",emissions:"HS, SO, VOC, CO",city:""},{id:"atyrau-kashagan",name:" ",category:"oil_gas",harmLevel:"critical",lat:46.238,lng:51.492,description:"  ",emissions:"HS, SO, ",city:""},{id:"atyrau-tec",name:" ",category:"power",harmLevel:"high",lat:47.095,lng:51.878,description:"  ",emissions:"NO, CO",city:""},{id:"aktau-mangystau",name:"",category:"oil_gas",harmLevel:"high",lat:43.652,lng:51.158,description:"  ",emissions:"VOC, HS,  ",city:""},{id:"aktau-atomic",name:" ( )",category:"power",harmLevel:"medium",lat:43.628,lng:51.205,description:" - ",emissions:" ",city:""},{id:"aktau-karachaganak",name:"",category:"oil_gas",harmLevel:"critical",lat:50.078,lng:51.852,description:"  ",emissions:"HS, SO, VOC",city:""},{id:"aktobe-chrome",name:" ",category:"mining",harmLevel:"critical",lat:50.258,lng:58.012,description:"  ",emissions:", PM10,  ",city:""},{id:"aktobe-ferroalloy",name:"  ",category:"industrial",harmLevel:"critical",lat:50.278,lng:57.235,description:" ",emissions:", , PM10",city:""},{id:"aktobe-tec",name:" ",category:"power",harmLevel:"high",lat:50.285,lng:57.168,description:"",emissions:"SO, NO, PM10",city:""},{id:"semey-tec",name:" ",category:"power",harmLevel:"high",lat:50.428,lng:80.265,description:" ",emissions:"SO, NO, PM10",city:""},{id:"semey-leather",name:" ",category:"industrial",harmLevel:"medium",lat:50.415,lng:80.238,description:" ",emissions:"HS, , ",city:""},{id:"semey-polygon",name:"   ()",category:"industrial",harmLevel:"high",lat:50.442,lng:79.058,description:" ,  ",emissions:"",city:""},{id:"kostanay-ssgpo",name:" (- )",category:"mining",harmLevel:"critical",lat:52.855,lng:63.428,description:" - ",emissions:"PM10,  ",city:""},{id:"kostanay-tec",name:" ",category:"power",harmLevel:"high",lat:53.215,lng:63.628,description:" ",emissions:"SO, NO, PM10",city:""},{id:"zhezkazgan-copper",name:"  ",category:"industrial",harmLevel:"critical",lat:47.785,lng:67.712,description:" ",emissions:"SO, , , ",city:""},{id:"zhezkazgan-mining",name:" ()",category:"mining",harmLevel:"high",lat:47.758,lng:67.685,description:"  ",emissions:"PM10,  ",city:""},{id:"balkhash-copper",name:"  ",category:"industrial",harmLevel:"critical",lat:46.845,lng:74.952,description:"  ",emissions:"SO, , , PM10",city:""},{id:"balkhash-tec",name:" ",category:"power",harmLevel:"high",lat:46.828,lng:74.978,description:"",emissions:"SO, NO, PM10",city:""},{id:"taraz-phosphor",name:"  ",category:"industrial",harmLevel:"high",lat:42.905,lng:71.368,description:"  ",emissions:", , SO",city:""},{id:"taraz-tec",name:" ",category:"power",harmLevel:"high",lat:42.888,lng:71.352,description:"",emissions:"SO, NO, PM10",city:""},{id:"petropavlovsk-tec",name:"-2 ",category:"power",harmLevel:"high",lat:54.875,lng:69.152,description:" ",emissions:"SO, NO, PM10",city:""},{id:"kyzylorda-oil",name:" ",category:"oil_gas",harmLevel:"high",lat:44.858,lng:64.025,description:"",emissions:"VOC, HS,  ",city:""},{id:"kyzylorda-tec",name:" ",category:"power",harmLevel:"medium",lat:44.845,lng:65.502,description:"  ",emissions:"NO, CO",city:""},{id:"ekibastuz-gres-1",name:"-1 ",category:"power",harmLevel:"critical",lat:51.678,lng:75.325,description:"   ",emissions:"SO, NO, PM10, ",city:""},{id:"ekibastuz-gres-2",name:"-2 ",category:"power",harmLevel:"critical",lat:51.712,lng:75.458,description:"  ",emissions:"SO, NO, PM10, ",city:""},{id:"ekibastuz-razrez",name:" ",category:"mining",harmLevel:"high",lat:51.758,lng:75.512,description:"   ",emissions:"PM10,  ",city:""},{id:"ridder-polymetall",name:" ",category:"industrial",harmLevel:"critical",lat:50.345,lng:83.512,description:" ",emissions:", , , SO",city:""},{id:"zyryanovsk-lead",name:" ",category:"mining",harmLevel:"high",lat:49.742,lng:84.258,description:"  ",emissions:"PM10,  ",city:""},{id:"stepnogorsk-uranium",name:" - ",category:"industrial",harmLevel:"high",lat:52.352,lng:71.885,description:"  ",emissions:", ",city:""}],zU=({isLoading:e,isLocating:t,showPollutionSources:n,onRefresh:r,onLocate:s,onTogglePollution:i})=>l.jsxs("div",{className:"absolute top-4 right-4 z-10 flex flex-col gap-2",children:[l.jsx("button",{onClick:r,disabled:e,className:"glass-card p-3 rounded-xl hover:bg-muted/80 transition-colors disabled:opacity-50",title:" ",children:l.jsx(Ug,{className:ee("w-5 h-5",e&&"animate-spin")})}),l.jsx("button",{onClick:s,disabled:t,className:"glass-card p-3 rounded-xl hover:bg-muted/80 transition-colors disabled:opacity-50",title:" ",children:l.jsx(kM,{className:ee("w-5 h-5",t&&"animate-pulse")})}),l.jsx("button",{onClick:i,className:ee("glass-card p-3 rounded-xl transition-colors",n?"bg-primary/20 text-primary ring-2 ring-primary/30":"hover:bg-muted/80"),title:" ",children:l.jsx(SM,{className:"w-5 h-5"})})]}),BU=["low","medium","high","critical"],UU=["power","industrial","transport","construction","heating","oil_gas","mining"],VU=({showPollutionSources:e})=>{const{t}=zt(),n=[{color:"hsl(152, 80%, 45%)",label:"0-50",text:t.mapLegend.good},{color:"hsl(48, 95%, 50%)",label:"51-100",text:t.mapLegend.moderate},{color:"hsl(28, 95%, 55%)",label:"101-150",text:t.mapLegend.sensitive},{color:"hsl(12, 85%, 55%)",label:"151-200",text:t.mapLegend.unhealthy},{color:"hsl(340, 75%, 50%)",label:"201-300",text:t.mapLegend.veryUnhealthy},{color:"hsl(280, 60%, 35%)",label:"300+",text:t.mapLegend.hazardous}],r={low:t.pollutionSources.low,medium:t.pollutionSources.medium,high:t.pollutionSources.high,critical:t.pollutionSources.critical},s={power:t.pollutionSources.power,industrial:t.pollutionSources.industrial,transport:t.pollutionSources.transport,construction:t.pollutionSources.construction,heating:t.pollutionSources.heating,oil_gas:t.pollutionSources.oil_gas,mining:t.pollutionSources.mining};return l.jsxs("div",{className:"absolute bottom-4 left-4 z-10 glass-card rounded-xl p-3 max-w-xs",children:[l.jsxs("div",{className:"mb-3",children:[l.jsx("p",{className:"text-xs font-semibold mb-2",children:t.mapLegend.airQuality}),l.jsx("div",{className:"grid grid-cols-3 gap-1",children:n.map((i,a)=>l.jsxs("div",{className:"flex items-center gap-1.5",children:[l.jsx("div",{className:"w-3 h-3 rounded-full shrink-0",style:{backgroundColor:i.color}}),l.jsx("span",{className:"text-[10px] text-muted-foreground truncate",children:i.text})]},a))})]}),e&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"border-t border-border pt-3 mb-2",children:[l.jsx("p",{className:"text-xs font-semibold mb-2",children:t.pollutionSources.harmLevel}),l.jsx("div",{className:"grid grid-cols-2 gap-1",children:BU.map(i=>l.jsxs("div",{className:"flex items-center gap-1.5",children:[l.jsx("div",{className:"w-3 h-3 rounded shrink-0",style:{backgroundColor:jx[i]}}),l.jsx("span",{className:"text-[10px] text-muted-foreground",children:r[i]})]},i))})]}),l.jsxs("div",{className:"border-t border-border pt-2",children:[l.jsx("p",{className:"text-xs font-semibold mb-2",children:t.pollutionSources.categories}),l.jsx("div",{className:"flex flex-wrap gap-1",children:UU.map(i=>l.jsxs("span",{className:"inline-flex items-center gap-1 px-1.5 py-0.5 bg-muted rounded text-[10px]",children:[l.jsx("span",{children:Tx[i]}),l.jsx("span",{className:"text-muted-foreground",children:s[i]})]},i))})]})]})]})},WU=({stationCount:e,pollutionSourceCount:t,showPollutionSources:n,lastUpdate:r})=>l.jsxs("div",{className:"absolute bottom-4 right-4 z-10 glass-card rounded-xl px-3 py-2 text-xs",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"w-2 h-2 bg-primary rounded-full animate-pulse"}),l.jsxs("span",{children:[e," "]})]}),n&&l.jsxs("div",{className:"flex items-center gap-2 border-l border-border pl-3",children:[l.jsx("div",{className:"w-2 h-2 bg-destructive rounded-full"}),l.jsxs("span",{children:[t," "]})]})]}),r&&l.jsxs("div",{className:"flex items-center gap-1 text-muted-foreground mt-1",children:[l.jsx(Ef,{className:"w-3 h-3"}),l.jsx("span",{children:r.toLocaleTimeString("ru-RU",{hour:"2-digit",minute:"2-digit"})})]})]}),qU=e=>e<=50?"hsl(152, 80%, 45%)":e<=100?"hsl(48, 95%, 50%)":e<=150?"hsl(28, 95%, 55%)":e<=200?"hsl(12, 85%, 55%)":e<=300?"hsl(340, 75%, 50%)":"hsl(280, 60%, 35%)",HU=e=>e<=50?"":e<=100?"":e<=150?"  ":e<=200?"":e<=300?" ":"",GU=e=>e<=50?"":e<=100?"":e<=150?"":e<=200?"":e<=300?"":"",ZU=({station:e,details:t,onClose:n})=>{const r=qU(e.aqi);return l.jsxs("div",{className:"absolute top-4 left-4 z-20 w-80 glass-card rounded-2xl p-4 shadow-elevated animate-scale-in",children:[l.jsxs("div",{className:"flex items-start justify-between mb-4",children:[l.jsxs("div",{className:"flex-1 pr-2",children:[l.jsx("h3",{className:"font-display font-bold text-lg line-clamp-2",children:e.name}),l.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[e.lat.toFixed(4),", ",e.lng.toFixed(4)]})]}),l.jsx("button",{onClick:n,className:"p-1.5 hover:bg-muted rounded-lg transition-colors",children:l.jsx(Ws,{className:"w-5 h-5"})})]}),l.jsx("div",{className:"rounded-xl p-4 text-center mb-4",style:{backgroundColor:`${r}20`},children:l.jsxs("div",{className:"flex items-center justify-center gap-3",children:[l.jsx("span",{className:"text-4xl",children:GU(e.aqi)}),l.jsxs("div",{children:[l.jsx("p",{className:"text-4xl font-display font-bold",style:{color:r},children:e.aqi}),l.jsx("p",{className:"text-sm font-medium",children:HU(e.aqi)})]})]})}),t&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"grid grid-cols-2 gap-2 mb-4",children:[t.pollutants.pm25!==void 0&&l.jsxs("div",{className:"bg-muted/50 rounded-lg p-2 text-center",children:[l.jsx("p",{className:"text-lg font-bold",children:t.pollutants.pm25}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"PM2.5"})]}),t.pollutants.pm10!==void 0&&l.jsxs("div",{className:"bg-muted/50 rounded-lg p-2 text-center",children:[l.jsx("p",{className:"text-lg font-bold",children:t.pollutants.pm10}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"PM10"})]}),t.pollutants.o3!==void 0&&l.jsxs("div",{className:"bg-muted/50 rounded-lg p-2 text-center",children:[l.jsx("p",{className:"text-lg font-bold",children:t.pollutants.o3}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"O"})]}),t.pollutants.no2!==void 0&&l.jsxs("div",{className:"bg-muted/50 rounded-lg p-2 text-center",children:[l.jsx("p",{className:"text-lg font-bold",children:t.pollutants.no2}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"NO"})]})]}),l.jsxs("div",{className:"flex items-center justify-around text-sm border-t border-border pt-3",children:[t.weather.temperature!==void 0&&l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx(Af,{className:"w-4 h-4 text-destructive"}),l.jsxs("span",{children:[t.weather.temperature,"C"]})]}),t.weather.humidity!==void 0&&l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx(Py,{className:"w-4 h-4 text-secondary"}),l.jsxs("span",{children:[t.weather.humidity,"%"]})]}),t.weather.wind!==void 0&&l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx(jo,{className:"w-4 h-4 text-primary"}),l.jsxs("span",{children:[t.weather.wind," /"]})]})]}),l.jsxs("p",{className:"text-xs text-muted-foreground mt-3 text-center",children:[": ",t.time]})]})]})},KU=({source:e,onClose:t})=>{const{t:n}=zt(),r=jx[e.harmLevel],s={low:n.pollutionSources.low,medium:n.pollutionSources.medium,high:n.pollutionSources.high,critical:n.pollutionSources.critical},i={power:n.pollutionSources.power,industrial:n.pollutionSources.industrial,transport:n.pollutionSources.transport,construction:n.pollutionSources.construction,heating:n.pollutionSources.heating,oil_gas:n.pollutionSources.oil_gas,mining:n.pollutionSources.mining};return l.jsxs("div",{className:"absolute top-4 left-4 z-20 w-80 glass-card rounded-2xl p-4 shadow-elevated animate-scale-in",children:[l.jsxs("div",{className:"flex items-start justify-between mb-4",children:[l.jsxs("div",{className:"flex-1 pr-2",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[l.jsx("span",{className:"text-2xl",children:Tx[e.category]}),l.jsx("span",{className:"px-2 py-0.5 rounded-full text-xs font-medium text-white",style:{backgroundColor:r},children:s[e.harmLevel]})]}),l.jsx("h3",{className:"font-display font-bold text-lg line-clamp-2",children:e.name}),l.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:i[e.category]})]}),l.jsx("button",{onClick:t,className:"p-1.5 hover:bg-muted rounded-lg transition-colors",children:l.jsx(Ws,{className:"w-5 h-5"})})]}),l.jsx("div",{className:"rounded-xl p-4 mb-4",style:{backgroundColor:`${r}15`},children:l.jsxs("div",{className:"flex items-start gap-2",children:[l.jsx(hs,{className:"w-5 h-5 shrink-0 mt-0.5",style:{color:r}}),l.jsx("p",{className:"text-sm",children:e.description})]})}),e.emissions&&l.jsxs("div",{className:"bg-muted/50 rounded-lg p-3",children:[l.jsx("p",{className:"text-xs font-medium text-muted-foreground mb-2",children:n.pollutionSources.mainEmissions}),l.jsx("div",{className:"flex flex-wrap gap-1.5",children:e.emissions.split(", ").map((a,c)=>l.jsx("span",{className:"px-2 py-1 bg-background rounded text-xs font-medium",children:a},c))})]}),l.jsxs("p",{className:"text-xs text-muted-foreground mt-3 text-center",children:[" ",e.lat.toFixed(4),", ",e.lng.toFixed(4)]})]})},YU=()=>{const e=p.useRef(null),[t,n]=p.useState(!1),r=p.useCallback(s=>{n(!0),s.locate({setView:!0,maxZoom:14}),s.once("locationfound",i=>{n(!1),e.current&&e.current.remove();const a=Wn.divIcon({className:"user-location-marker",html:`
          <div style="
            width: 20px;
            height: 20px;
            background: hsl(200, 75%, 55%);
            border: 3px solid white;
            border-radius: 50%;
            box-shadow: 0 0 0 8px hsla(200, 75%, 55%, 0.3), 0 2px 8px rgba(0,0,0,0.3);
          "></div>
        `,iconSize:[20,20],iconAnchor:[10,10]});e.current=Wn.marker(i.latlng,{icon:a}).addTo(s),e.current.bindPopup("  ").openPopup()}),s.once("locationerror",()=>{n(!1),console.error("Location access denied")})},[]);return{isLocating:t,locateUser:r}};delete Wn.Icon.Default.prototype._getIconUrl;Wn.Icon.Default.mergeOptions({iconRetinaUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.4/images/marker-icon-2x.png",iconUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.4/images/marker-icon.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.4/images/marker-shadow.png"});const XU=e=>e<=50?"#22c55e":e<=100?"#eab308":e<=150?"#f97316":e<=200?"#ef4444":e<=300?"#a855f7":"#7f1d1d",QU=e=>{const t=XU(e);return Wn.divIcon({className:"custom-aqi-marker",html:`
      <div style="
        background: ${t};
        color: white;
        font-weight: bold;
        font-size: 11px;
        padding: 6px 10px;
        border-radius: 20px;
        box-shadow: 0 3px 12px rgba(0,0,0,0.25);
        border: 2px solid white;
        min-width: 32px;
        text-align: center;
        cursor: pointer;
      ">${e}</div>
    `,iconSize:[44,28],iconAnchor:[22,14]})},JU=e=>{const t=jx[e.harmLevel],n=Tx[e.category];return Wn.divIcon({className:"custom-pollution-marker",html:`
      <div style="
        background: ${t};
        width: 36px;
        height: 36px;
        border-radius: 8px;
        box-shadow: 0 3px 12px rgba(0,0,0,0.3);
        border: 2px solid white;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 18px;
        cursor: pointer;
      ">${n}</div>
    `,iconSize:[36,36],iconAnchor:[18,18]})},e6=({className:e=""})=>{const t=p.useRef(null),n=p.useRef(null),r=p.useRef(null),s=p.useRef(null),[i,a]=p.useState(!1),{stations:c,isLoading:d,error:h,fetchStationsInBounds:m,fetchStationDetails:g,selectedStation:y,clearSelectedStation:v}=FU(),[b,x]=p.useState(null),[S,N]=p.useState(null),[w,k]=p.useState(null),[P,T]=p.useState(!0),{isLocating:R,locateUser:E}=YU();p.useEffect(()=>{if(!t.current||n.current)return;const H=Wn.map(t.current,{center:[48,67],zoom:5,zoomControl:!1,minZoom:3,maxZoom:18});Wn.tileLayer("https://{s}.basemaps.cartocdn.com/rastertiles/voyager/{z}/{x}/{y}{r}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OSM</a> &copy; <a href="https://carto.com/">CARTO</a>',maxZoom:19,subdomains:"abcd"}).addTo(H),Wn.control.zoom({position:"bottomright"}).addTo(H),r.current=Wn.layerGroup().addTo(H),s.current=Wn.layerGroup().addTo(H),n.current=H,a(!0);const G=H.getBounds();m({north:G.getNorth(),south:G.getSouth(),east:G.getEast(),west:G.getWest()}),x(new Date);const se=()=>{const A=H.getBounds();m({north:A.getNorth(),south:A.getSouth(),east:A.getEast(),west:A.getWest()}),x(new Date)};return H.on("moveend",se),()=>{H.off("moveend",se),H.remove(),n.current=null,r.current=null,s.current=null,a(!1)}},[m]);const M=p.useCallback(async H=>{k(null),N(H),await g(H.lat,H.lng)},[g]),$=p.useCallback(H=>{N(null),v(),k(H)},[v]);p.useEffect(()=>{!i||!r.current||(r.current.clearLayers(),c.forEach(H=>{if(H.aqi<=0)return;const G=Wn.marker([H.lat,H.lng],{icon:QU(H.aqi)});G.on("click",()=>M(H)),G.addTo(r.current)}))},[c,i,M]),p.useEffect(()=>{!i||!s.current||(s.current.clearLayers(),P&&Rb.forEach(H=>{const G=Wn.marker([H.lat,H.lng],{icon:JU(H)});G.on("click",()=>$(H)),G.addTo(s.current)}))},[P,i,$]);const V=p.useCallback(()=>{if(!n.current)return;const H=n.current.getBounds();m({north:H.getNorth(),south:H.getSouth(),east:H.getEast(),west:H.getWest()}),x(new Date)},[m]),Q=p.useCallback(()=>{n.current&&E(n.current)},[E]),W=p.useCallback(()=>{T(H=>!H)},[]),Z=p.useCallback(()=>{N(null),v()},[v]),B=p.useCallback(()=>{k(null)},[]);return p.useEffect(()=>{const H=setInterval(V,3e5);return()=>clearInterval(H)},[V]),l.jsxs("div",{className:`relative h-full w-full ${e}`,children:[l.jsx("div",{ref:t,className:"absolute inset-0 z-0"}),d&&l.jsxs("div",{className:"absolute top-4 left-1/2 -translate-x-1/2 z-20 glass-card px-4 py-2 rounded-full flex items-center gap-2",children:[l.jsx(ct,{className:"w-4 h-4 animate-spin text-primary"}),l.jsx("span",{className:"text-sm",children:" ..."})]}),h&&l.jsxs("div",{className:"absolute top-4 left-1/2 -translate-x-1/2 z-20 bg-destructive/90 text-destructive-foreground px-4 py-2 rounded-lg flex items-center gap-2",children:[l.jsx(hs,{className:"w-4 h-4"}),l.jsx("span",{className:"text-sm",children:h})]}),l.jsx(zU,{isLoading:d,isLocating:R,showPollutionSources:P,onRefresh:V,onLocate:Q,onTogglePollution:W}),l.jsx(VU,{showPollutionSources:P}),l.jsx(WU,{stationCount:c.length,pollutionSourceCount:Rb.length,showPollutionSources:P,lastUpdate:b}),S&&l.jsx(ZU,{station:S,details:y,onClose:Z}),w&&l.jsx(KU,{source:w,onClose:B})]})},t6=()=>l.jsx("div",{className:"h-[calc(100vh-3.5rem)] w-full",children:l.jsx(e6,{className:"h-full w-full"})});var Ex="Progress",Rx=100,[n6,oq]=ln(Ex),[r6,s6]=n6(Ex),bT=p.forwardRef((e,t)=>{const{__scopeProgress:n,value:r=null,max:s,getValueLabel:i=i6,...a}=e;(s||s===0)&&!Ab(s)&&console.error(o6(`${s}`,"Progress"));const c=Ab(s)?s:Rx;r!==null&&!Ob(r,c)&&console.error(a6(`${r}`,"Progress"));const d=Ob(r,c)?r:null,h=Hh(d)?i(d,c):void 0;return l.jsx(r6,{scope:n,value:d,max:c,children:l.jsx(be.div,{"aria-valuemax":c,"aria-valuemin":0,"aria-valuenow":Hh(d)?d:void 0,"aria-valuetext":h,role:"progressbar","data-state":NT(d,c),"data-value":d??void 0,"data-max":c,...a,ref:t})})});bT.displayName=Ex;var ST="ProgressIndicator",kT=p.forwardRef((e,t)=>{const{__scopeProgress:n,...r}=e,s=s6(ST,n);return l.jsx(be.div,{"data-state":NT(s.value,s.max),"data-value":s.value??void 0,"data-max":s.max,...r,ref:t})});kT.displayName=ST;function i6(e,t){return`${Math.round(e/t*100)}%`}function NT(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function Hh(e){return typeof e=="number"}function Ab(e){return Hh(e)&&!isNaN(e)&&e>0}function Ob(e,t){return Hh(e)&&!isNaN(e)&&e<=t&&e>=0}function o6(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${Rx}\`.`}function a6(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${Rx} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var CT=bT,l6=kT;const nm=p.forwardRef(({className:e,value:t,...n},r)=>l.jsx(CT,{ref:r,className:ee("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...n,children:l.jsx(l6,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));nm.displayName=CT.displayName;const c6=({level:e,xp:t,xpToNext:n,ecoCoins:r,streakDays:s})=>{const{t:i}=zt(),a=t/n*100;return l.jsxs("div",{className:"glass-card rounded-2xl p-6 shadow-elevated animate-slide-up",children:[l.jsxs("div",{className:"flex items-center justify-between mb-6",children:[l.jsxs("h3",{className:"font-display font-bold text-lg flex items-center gap-2",children:[l.jsx(Fs,{className:"w-5 h-5 text-accent"}),i.progress.yourProgress]}),l.jsxs("div",{className:"eco-badge",children:[" ",s," ",i.gamification.daysStreak]})]}),l.jsxs("div",{className:"bg-gradient-to-r from-primary/10 to-secondary/10 rounded-xl p-4",children:[l.jsxs("div",{className:"flex items-center justify-between mb-3",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"w-12 h-12 rounded-full bg-primary flex items-center justify-center",children:l.jsx("span",{className:"text-xl font-display font-bold text-primary-foreground",children:e})}),l.jsxs("div",{children:[l.jsx("p",{className:"font-semibold",children:i.progress.ecoDefender}),l.jsxs("p",{className:"text-sm text-muted-foreground",children:[t," / ",n," XP ",i.gamification.nextLevel]})]})]}),l.jsxs("div",{className:"flex items-center gap-2 bg-accent/20 px-3 py-1.5 rounded-full",children:[l.jsx(xM,{className:"w-4 h-4 text-accent"}),l.jsx("span",{className:"font-semibold text-accent",children:r})]})]}),l.jsx(nm,{value:a,className:"h-2"})]})]})},xn=sx,u6=jP,d6=ix,PT=p.forwardRef(({className:e,...t},n)=>l.jsx(Pu,{ref:n,className:ee("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));PT.displayName=Pu.displayName;const on=p.forwardRef(({className:e,children:t,...n},r)=>l.jsxs(d6,{children:[l.jsx(PT,{}),l.jsxs(ju,{ref:r,className:ee("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...n,children:[t,l.jsxs(Xf,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-accent data-[state=open]:text-muted-foreground hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[l.jsx(Ws,{className:"h-4 w-4"}),l.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));on.displayName=ju.displayName;const wn=({className:e,...t})=>l.jsx("div",{className:ee("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});wn.displayName="DialogHeader";const rm=({className:e,...t})=>l.jsx("div",{className:ee("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});rm.displayName="DialogFooter";const bn=p.forwardRef(({className:e,...t},n)=>l.jsx(Tu,{ref:n,className:ee("text-lg font-semibold leading-none tracking-tight",e),...t}));bn.displayName=Tu.displayName;const Mn=p.forwardRef(({className:e,...t},n)=>l.jsx(Eu,{ref:n,className:ee("text-sm text-muted-foreground",e),...t}));Mn.displayName=Eu.displayName;var sm="Tabs",[h6,aq]=ln(sm,[Al]),jT=Al(),[f6,Ax]=h6(sm),TT=p.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,onValueChange:s,defaultValue:i,orientation:a="horizontal",dir:c,activationMode:d="automatic",...h}=e,m=Rl(c),[g,y]=$s({prop:r,onChange:s,defaultProp:i??"",caller:sm});return l.jsx(f6,{scope:n,baseId:$r(),value:g,onValueChange:y,orientation:a,dir:m,activationMode:d,children:l.jsx(be.div,{dir:m,"data-orientation":a,...h,ref:t})})});TT.displayName=sm;var ET="TabsList",RT=p.forwardRef((e,t)=>{const{__scopeTabs:n,loop:r=!0,...s}=e,i=Ax(ET,n),a=jT(n);return l.jsx(ux,{asChild:!0,...a,orientation:i.orientation,dir:i.dir,loop:r,children:l.jsx(be.div,{role:"tablist","aria-orientation":i.orientation,...s,ref:t})})});RT.displayName=ET;var AT="TabsTrigger",OT=p.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,disabled:s=!1,...i}=e,a=Ax(AT,n),c=jT(n),d=IT(a.baseId,r),h=DT(a.baseId,r),m=r===a.value;return l.jsx(dx,{asChild:!0,...c,focusable:!s,active:m,children:l.jsx(be.button,{type:"button",role:"tab","aria-selected":m,"aria-controls":h,"data-state":m?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:d,...i,ref:t,onMouseDown:ae(e.onMouseDown,g=>{!s&&g.button===0&&g.ctrlKey===!1?a.onValueChange(r):g.preventDefault()}),onKeyDown:ae(e.onKeyDown,g=>{[" ","Enter"].includes(g.key)&&a.onValueChange(r)}),onFocus:ae(e.onFocus,()=>{const g=a.activationMode!=="manual";!m&&!s&&g&&a.onValueChange(r)})})})});OT.displayName=AT;var LT="TabsContent",MT=p.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,forceMount:s,children:i,...a}=e,c=Ax(LT,n),d=IT(c.baseId,r),h=DT(c.baseId,r),m=r===c.value,g=p.useRef(m);return p.useEffect(()=>{const y=requestAnimationFrame(()=>g.current=!1);return()=>cancelAnimationFrame(y)},[]),l.jsx(cn,{present:s||m,children:({present:y})=>l.jsx(be.div,{"data-state":m?"active":"inactive","data-orientation":c.orientation,role:"tabpanel","aria-labelledby":d,hidden:!y,id:h,tabIndex:0,...a,ref:t,style:{...e.style,animationDuration:g.current?"0s":void 0},children:y&&i})})});MT.displayName=LT;function IT(e,t){return`${e}-trigger-${t}`}function DT(e,t){return`${e}-content-${t}`}var m6=TT,$T=RT,FT=OT,zT=MT;const BT=m6,Ox=p.forwardRef(({className:e,...t},n)=>l.jsx($T,{ref:n,className:ee("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));Ox.displayName=$T.displayName;const Gh=p.forwardRef(({className:e,...t},n)=>l.jsx(FT,{ref:n,className:ee("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",e),...t}));Gh.displayName=FT.displayName;const Zh=p.forwardRef(({className:e,...t},n)=>l.jsx(zT,{ref:n,className:ee("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));Zh.displayName=zT.displayName;const Uo=p.forwardRef(({className:e,...t},n)=>l.jsx("textarea",{className:ee("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:n,...t}));Uo.displayName="Textarea";const Ha=[{task_id:"check_aqi",task_name:"  ",task_description:"     AQI   ",xp_reward:10,coin_reward:5,category:"daily",icon:"",verification_type:"auto_map",difficulty:"easy"},{task_id:"view_recommendations",task_name:" ",task_description:"     ",xp_reward:15,coin_reward:8,category:"health",icon:"",verification_type:"auto_health",difficulty:"easy"},{task_id:"share_data",task_name:" ",task_description:"    ",xp_reward:25,coin_reward:15,category:"social",icon:"",verification_type:"auto_share",difficulty:"medium"},{task_id:"use_public_transport",task_name:"  ",task_description:"     ",xp_reward:30,coin_reward:20,category:"eco",icon:"",verification_type:"manual",difficulty:"medium"},{task_id:"walk_instead_drive",task_name:" ",task_description:"  2      ",xp_reward:35,coin_reward:25,category:"eco",icon:"",verification_type:"manual",difficulty:"medium"},{task_id:"reduce_energy",task_name:" ",task_description:"      2 ",xp_reward:20,coin_reward:12,category:"eco",icon:"",verification_type:"manual",difficulty:"easy"},{task_id:"plant_care",task_name:"  ",task_description:"     ",xp_reward:25,coin_reward:15,category:"eco",icon:"",verification_type:"manual",difficulty:"easy"},{task_id:"invite_friend",task_name:" ",task_description:"    SafeAir Pro",xp_reward:50,coin_reward:30,category:"social",icon:"",verification_type:"manual",difficulty:"medium"},{task_id:"report_pollution",task_name:"  ",task_description:"     ",xp_reward:50,coin_reward:35,category:"social",icon:"",verification_type:"manual",difficulty:"hard"},{task_id:"community_discussion",task_name:"  ",task_description:"     ",xp_reward:20,coin_reward:10,category:"social",icon:"",verification_type:"auto_community",difficulty:"easy"},{task_id:"learn_pm25",task_name:"  PM2.5",task_description:",    PM2.5      ",xp_reward:20,coin_reward:10,category:"learning",icon:"",verification_type:"manual",difficulty:"easy"},{task_id:"learn_sources",task_name:"  ",task_description:"       ",xp_reward:25,coin_reward:15,category:"learning",icon:"",verification_type:"manual",difficulty:"medium"},{task_id:"learn_protection",task_name:" ",task_description:"     ",xp_reward:30,coin_reward:18,category:"learning",icon:"",verification_type:"manual",difficulty:"medium"},{task_id:"ventilate_home",task_name:" ",task_description:"   AQI   (< 50)",xp_reward:15,coin_reward:8,category:"health",icon:"",verification_type:"manual",difficulty:"easy"},{task_id:"wear_mask",task_name:" ",task_description:"     AQI",xp_reward:20,coin_reward:12,category:"health",icon:"",verification_type:"manual",difficulty:"easy"},{task_id:"morning_exercise",task_name:" ",task_description:"     ",xp_reward:25,coin_reward:15,category:"health",icon:"",verification_type:"manual",difficulty:"medium"}];function p6({open:e,onOpenChange:t,taskId:n,taskName:r,onConfirm:s}){const{t:i}=zt(),[a,c]=p.useState(""),[d,h]=p.useState(!1),m=Ha.find(b=>b.task_id===n),g=(m==null?void 0:m.verification_type)==="manual",y=async()=>{h(!0);try{await s(a.trim()||void 0),c(""),t(!1)}finally{h(!1)}},v=()=>{switch(n){case"use_public_transport":return i.tasks.promptPublicTransport;case"walk_instead_drive":return i.tasks.promptWalk;case"reduce_energy":return i.tasks.promptEnergy;case"plant_care":return i.tasks.promptPlant;case"invite_friend":return i.tasks.promptFriend;case"report_pollution":return i.tasks.promptPollution;case"learn_pm25":case"learn_sources":case"learn_protection":return i.tasks.promptLearning;case"ventilate_home":return i.tasks.promptVentilate;case"wear_mask":return i.tasks.promptMask;case"morning_exercise":return i.tasks.promptExercise;default:return i.tasks.promptDefault}};return l.jsx(xn,{open:e,onOpenChange:t,children:l.jsxs(on,{className:"sm:max-w-md",children:[l.jsxs(wn,{children:[l.jsxs(bn,{className:"flex items-center gap-2",children:[g?l.jsx(Di,{className:"w-5 h-5 text-accent"}):l.jsx(Zc,{className:"w-5 h-5 text-primary"}),i.tasks.confirmCompletion]}),l.jsx(Mn,{children:r})]}),l.jsx("div",{className:"space-y-4 py-4",children:g?l.jsxs(l.Fragment,{children:[l.jsx("p",{className:"text-sm text-muted-foreground",children:i.tasks.taskRequiresConfirm}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium",children:v()}),l.jsx(Uo,{value:a,onChange:b=>c(b.target.value),placeholder:i.tasks.exampleDescription,className:"min-h-[80px]",maxLength:200}),l.jsxs("p",{className:"text-xs text-muted-foreground text-right",children:[a.length,"/200"]})]})]}):l.jsxs("div",{className:"flex items-center gap-3 p-4 bg-primary/10 rounded-lg",children:[l.jsx(Zc,{className:"w-8 h-8 text-primary"}),l.jsxs("div",{children:[l.jsx("p",{className:"font-medium",children:i.tasks.autoVerified}),l.jsx("p",{className:"text-sm text-muted-foreground",children:i.tasks.systemRecorded})]})]})}),l.jsxs(rm,{className:"gap-2 sm:gap-0",children:[l.jsx(Te,{variant:"ghost",onClick:()=>t(!1),children:i.tasks.cancel}),l.jsxs(Te,{onClick:y,disabled:d||g&&a.trim().length<3,children:[d?"":""," ",i.tasks.confirm]})]})]})})}function g6({dailyTasks:e,onTaskAdded:t,onTaskCompleted:n,onTaskUncompleted:r,onTaskRemoved:s}){const{user:i}=qt(),{t:a}=zt(),[c,d]=p.useState(!1),[h,m]=p.useState("daily"),[g,y]=p.useState(null),[v,b]=p.useState(null),[x,S]=p.useState(null),[N,w]=p.useState(!1),[k,P]=p.useState(null),T=e.map(A=>A.task_id),R={daily:{name:a.taskCategories.daily,icon:"",color:"bg-primary"},eco:{name:a.taskCategories.eco,icon:"",color:"bg-aqi-good"},social:{name:a.taskCategories.social,icon:"",color:"bg-secondary"},learning:{name:a.taskCategories.learning,icon:"",color:"bg-accent"},health:{name:a.taskCategories.health,icon:"",color:"bg-destructive"}},E={easy:{name:a.taskDifficulty.easy,color:"text-aqi-good"},medium:{name:a.taskDifficulty.medium,color:"text-accent"},hard:{name:a.taskDifficulty.hard,color:"text-destructive"}},M=A=>{const D=A;return a.availableTasks[D]||A},$=A=>{const D=`${A}_desc`;return a.availableTasks[D]||""},V=async A=>{if(i){y(A.task_id);try{const D=new Date().toISOString().split("T")[0],{error:U}=await ve.from("user_daily_tasks").insert({user_id:i.id,task_id:A.task_id,task_name:A.task_name,task_description:A.task_description,xp_reward:A.xp_reward,coin_reward:A.coin_reward,task_date:D});if(U)throw U;Pe.success(a.tasks.taskAdded),t()}catch(D){console.error("Error adding task:",D),Pe.error(a.tasks.failedToAdd)}finally{y(null)}}},Q=async A=>{if(i)try{const D=e.find(re=>re.task_id===A);if(!D)return;const{error:U}=await ve.from("user_daily_tasks").delete().eq("id",D.id);if(U)throw U;Pe.success(a.tasks.taskRemoved),s()}catch(D){console.error("Error removing task:",D),Pe.error(a.tasks.failedToRemove)}},W=(A,D)=>{const U=Ha.find(re=>re.task_id===A);if((U==null?void 0:U.verification_type)!=="manual"){Z(A);return}P({id:A,name:M(A)}),w(!0)},Z=async(A,D)=>{b(A);try{const U=await n(A,D);U.success?U.leveledUp?Pe.success(a.tasks.congratsLevel.replace("{level}",String(U.newLevel))):Pe.success(a.tasks.xpAndCoinsReceived):Pe.error(U.error||a.tasks.failedToComplete)}finally{b(null),P(null)}},B=async A=>{S(A);try{const D=await r(A);D.success?Pe.success(a.tasks.completionCancelled):Pe.error(D.error||a.tasks.failedToCancel)}finally{S(null)}},H=Ha.filter(A=>A.category===h&&!T.includes(A.task_id)),G=e.filter(A=>A.is_completed).length,se=e.length;return l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(y0,{className:"w-5 h-5 text-primary"}),l.jsx("h3",{className:"font-display font-bold text-lg",children:a.tasks.myTasksToday})]}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsxs(mc,{variant:"secondary",className:"text-sm",children:[G,"/",se," ",a.tasks.completed]}),l.jsxs(xn,{open:c,onOpenChange:d,children:[l.jsx(u6,{asChild:!0,children:l.jsxs(Te,{size:"sm",className:"gap-1",children:[l.jsx(jh,{className:"w-4 h-4"}),a.tasks.add]})}),l.jsxs(on,{className:"max-w-2xl max-h-[80vh] overflow-hidden flex flex-col",children:[l.jsxs(wn,{children:[l.jsxs(bn,{className:"flex items-center gap-2",children:[l.jsx(IM,{className:"w-5 h-5 text-accent"}),a.tasks.selectTasks]}),l.jsx(Mn,{children:a.tasks.addTasksToList})]}),l.jsxs(BT,{value:h,onValueChange:m,className:"flex-1 overflow-hidden flex flex-col",children:[l.jsx(Ox,{className:"grid grid-cols-5 w-full",children:Object.entries(R).map(([A,D])=>l.jsxs(Gh,{value:A,className:"text-xs sm:text-sm",children:[l.jsx("span",{className:"mr-1",children:D.icon}),l.jsx("span",{className:"hidden sm:inline",children:D.name})]},A))}),l.jsx("div",{className:"flex-1 overflow-y-auto mt-4",children:Object.keys(R).map(A=>l.jsx(Zh,{value:A,className:"mt-0 space-y-3",children:H.filter(D=>D.category===A).length===0?l.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[l.jsx(Ef,{className:"w-12 h-12 mx-auto mb-2 opacity-50"}),l.jsx("p",{children:a.tasks.allTasksAdded})]}):H.filter(D=>D.category===A).map(D=>l.jsxs("div",{className:"flex items-center gap-4 p-4 bg-muted/50 rounded-xl hover:bg-muted transition-colors",children:[l.jsx("span",{className:"text-2xl",children:D.icon}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[l.jsx("p",{className:"font-medium",children:M(D.task_id)}),l.jsx("span",{className:`text-xs ${E[D.difficulty].color}`,children:E[D.difficulty].name})]}),l.jsx("p",{className:"text-sm text-muted-foreground line-clamp-1",children:$(D.task_id)}),l.jsxs("div",{className:"flex items-center gap-3 mt-1",children:[l.jsxs("span",{className:"text-xs text-primary font-medium",children:["+",D.xp_reward," XP"]}),l.jsxs("span",{className:"text-xs text-accent font-medium",children:["+",D.coin_reward," "]}),D.verification_type!=="manual"&&l.jsx(mc,{variant:"outline",className:"text-xs",children:a.tasks.autoCheck})]})]}),l.jsx(Te,{size:"sm",onClick:()=>V(D),disabled:g===D.task_id,children:g===D.task_id?l.jsx("span",{className:"animate-spin",children:""}):l.jsx(jh,{className:"w-4 h-4"})})]},D.task_id))},A))})]})]})]})]})]}),l.jsx("div",{className:"space-y-3",children:e.length===0?l.jsxs("div",{className:"text-center py-8 bg-muted/30 rounded-xl",children:[l.jsx(y0,{className:"w-12 h-12 mx-auto mb-2 text-muted-foreground/50"}),l.jsx("p",{className:"text-muted-foreground",children:a.tasks.noTasksYet}),l.jsx(Te,{variant:"link",onClick:()=>d(!0),className:"mt-2",children:a.tasks.addFirstTask})]}):e.map(A=>{const D=Ha.find(U=>U.task_id===A.task_id);return l.jsxs("div",{className:`flex items-center gap-3 p-4 rounded-xl transition-all ${A.is_completed?"bg-primary/10 border border-primary/20":"bg-muted/50 hover:bg-muted"}`,children:[l.jsx("span",{className:"text-2xl",children:(D==null?void 0:D.icon)||""}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("p",{className:`font-medium ${A.is_completed?"line-through opacity-60":""}`,children:M(A.task_id)}),l.jsx("p",{className:"text-sm text-muted-foreground line-clamp-1",children:$(A.task_id)}),l.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[l.jsxs("span",{className:"text-xs text-primary",children:["+",A.xp_reward," XP"]}),l.jsxs("span",{className:"text-xs text-accent",children:["+",A.coin_reward," "]}),(D==null?void 0:D.verification_type)!=="manual"&&!A.is_completed&&l.jsx(mc,{variant:"outline",className:"text-xs",children:a.tasks.autoCheck})]})]}),l.jsx("div",{className:"flex items-center gap-2",children:A.is_completed?l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs(mc,{className:"bg-primary text-primary-foreground",children:[l.jsx(Nh,{className:"w-3 h-3 mr-1"}),a.tasks.done]}),l.jsx(Te,{size:"sm",variant:"ghost",onClick:()=>B(A.task_id),disabled:x===A.task_id,title:a.tasks.undoComplete,children:x===A.task_id?l.jsx("span",{className:"animate-spin",children:""}):l.jsx(AM,{className:"w-4 h-4 text-muted-foreground"})})]}):l.jsxs(l.Fragment,{children:[l.jsx(Te,{size:"sm",onClick:()=>W(A.task_id,A.task_name),disabled:v===A.task_id,children:v===A.task_id?l.jsx("span",{className:"animate-spin",children:""}):l.jsxs(l.Fragment,{children:[l.jsx(Nh,{className:"w-4 h-4 mr-1"}),a.tasks.done]})}),l.jsx(Te,{size:"sm",variant:"ghost",onClick:()=>Q(A.task_id),children:l.jsx(Ws,{className:"w-4 h-4 text-muted-foreground"})})]})})]},A.id)})}),se>0&&G===se&&l.jsx("div",{className:"p-4 bg-gradient-to-r from-primary/20 to-accent/20 rounded-xl border border-primary/30",children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("span",{className:"text-3xl",children:""}),l.jsxs("div",{children:[l.jsx("p",{className:"font-bold",children:a.tasks.allTasksCompleted}),l.jsx("p",{className:"text-sm text-muted-foreground",children:a.tasks.greatWork})]})]})}),k&&l.jsx(p6,{open:N,onOpenChange:w,taskId:k.id,taskName:k.name,onConfirm:A=>Z(k.id,A)})]})}const v6=Ha.filter(e=>["check_aqi","view_recommendations","share_data"].includes(e.task_id)).map(e=>({task_id:e.task_id,task_name:e.task_name,task_description:e.task_description,xp_reward:e.xp_reward,coin_reward:e.coin_reward}));function y6(){const{user:e,isAuthenticated:t}=qt(),[n,r]=p.useState({progress:null,achievements:[],dailyTasks:[],recentActions:[],isLoading:!0,error:null}),s=p.useCallback(async()=>{if(!e){r(b=>({...b,isLoading:!1}));return}r(b=>({...b,isLoading:!0,error:null}));try{const[b,x,S,N]=await Promise.all([ve.from("user_progress").select("*").eq("user_id",e.id).maybeSingle(),ve.from("user_achievements").select("*").eq("user_id",e.id).order("unlocked_at",{ascending:!1}),ve.from("user_daily_tasks").select("*").eq("user_id",e.id).eq("task_date",new Date().toISOString().split("T")[0]).order("task_id"),ve.from("user_actions").select("*").eq("user_id",e.id).order("created_at",{ascending:!1}).limit(10)]);if(b.error)throw b.error;if(x.error)throw x.error;if(S.error)throw S.error;if(N.error)throw N.error;let w=S.data;if(w.length===0&&b.data){const{count:k}=await ve.from("user_daily_tasks").select("*",{count:"exact",head:!0}).eq("user_id",e.id);if(k===0){const P=new Date().toISOString().split("T")[0],T=v6.map(M=>({...M,user_id:e.id,task_date:P})),{data:R,error:E}=await ve.from("user_daily_tasks").insert(T).select();!E&&R&&(w=R)}}r({progress:b.data,achievements:x.data,dailyTasks:w,recentActions:N.data,isLoading:!1,error:null})}catch(b){console.error("Error fetching progress:",b),r(x=>({...x,isLoading:!1,error:b instanceof Error?b.message:"Failed to fetch progress"}))}},[e]);p.useEffect(()=>{t?s():r({progress:null,achievements:[],dailyTasks:[],recentActions:[],isLoading:!1,error:null})},[t,s]);const i=async(b,x=0,S="generic",N)=>{if(!e)return{success:!1,error:"Not authenticated"};try{const{data:w,error:k}=await ve.rpc("add_user_xp",{_user_id:e.id,_xp:b,_coins:x,_action_type:S,_description:N||null});if(k)throw k;await s();const P=w==null?void 0:w[0];return{success:!0,leveledUp:(P==null?void 0:P.leveled_up)||!1,newLevel:P==null?void 0:P.new_level,newXp:P==null?void 0:P.new_xp,newCoins:P==null?void 0:P.new_coins}}catch(w){return console.error("Error adding XP:",w),{success:!1,error:w instanceof Error?w.message:"Failed to add XP"}}},a=async(b,x)=>{if(!e)return{success:!1,error:"Not authenticated"};const S=n.dailyTasks.find(w=>w.task_id===b);if(!S||S.is_completed)return{success:!1,error:"Task not found or already completed"};const N=Ha.find(w=>w.task_id===b);if((N==null?void 0:N.verification_type)==="manual"&&(!x||x.length<3))return{success:!1,error:"  "};try{const{error:w}=await ve.from("user_daily_tasks").update({is_completed:!0,completed_at:new Date().toISOString()}).eq("id",S.id);if(w)throw w;const k=x?` : ${S.task_name} (${x})`:` : ${S.task_name}`,P=await i(S.xp_reward,S.coin_reward,"daily_task",k);return await d(),P}catch(w){return console.error("Error completing task:",w),{success:!1,error:w instanceof Error?w.message:"Failed to complete task"}}},c=async b=>{var S,N,w,k;if(!e)return{success:!1,error:"Not authenticated"};const x=n.dailyTasks.find(P=>P.task_id===b);if(!x||!x.is_completed)return{success:!1,error:"      "};try{const{error:P}=await ve.from("user_daily_tasks").update({is_completed:!1,completed_at:null}).eq("id",x.id);if(P)throw P;const{error:T}=await ve.from("user_progress").update({xp:Math.max(0,(((S=n.progress)==null?void 0:S.xp)||0)-x.xp_reward),eco_coins:Math.max(0,(((N=n.progress)==null?void 0:N.eco_coins)||0)-x.coin_reward),total_xp_earned:Math.max(0,(((w=n.progress)==null?void 0:w.total_xp_earned)||0)-x.xp_reward),total_coins_earned:Math.max(0,(((k=n.progress)==null?void 0:k.total_coins_earned)||0)-x.coin_reward)}).eq("user_id",e.id);if(T)throw T;return await ve.from("user_actions").insert({user_id:e.id,action_type:"task_uncomplete",action_description:` : ${x.task_name}`,xp_earned:-x.xp_reward,coins_earned:-x.coin_reward}),await s(),{success:!0}}catch(P){return console.error("Error uncompleting task:",P),{success:!1,error:P instanceof Error?P.message:"   "}}},d=async()=>{if(!e||!n.progress)return;const b=n.achievements.map(S=>S.achievement_id),x=n.dailyTasks.filter(S=>S.is_completed).length+1;x>=1&&!b.includes("first_task")&&await m("first_task"," ","  ",""),x>=5&&!b.includes("five_tasks")&&await m("five_tasks",""," 5 ",""),n.progress.level>=5&&!b.includes("level_5")&&await m("level_5"," "," 5 ",""),n.progress.level>=10&&!b.includes("level_10")&&await m("level_10","-"," 10 ",""),n.progress.streak_days>=3&&!b.includes("streak_3")&&await m("streak_3","","3   ",""),n.progress.streak_days>=7&&!b.includes("streak_7")&&await m("streak_7"," ","7   ","")},h=async()=>{if(!e)return 0;try{const{data:b,error:x}=await ve.rpc("update_user_streak",{_user_id:e.id});if(x)throw x;return await s(),b}catch(b){return console.error("Error updating streak:",b),0}},m=async(b,x,S,N)=>{if(!e)return{success:!1,error:"Not authenticated"};if(n.achievements.some(w=>w.achievement_id===b))return{success:!1,error:"Achievement already unlocked"};try{const{error:w}=await ve.from("user_achievements").insert({user_id:e.id,achievement_id:b,achievement_name:x,achievement_description:S,achievement_icon:N});if(w)throw w;return await s(),{success:!0}}catch(w){return console.error("Error unlocking achievement:",w),{success:!1,error:w instanceof Error?w.message:"Failed to unlock achievement"}}},g=async b=>{if(!e)return{success:!1,error:"Not authenticated"};const x=n.dailyTasks.find(S=>S.task_id===b);if(!x)return{success:!1,error:"Task not found"};try{const{error:S}=await ve.from("user_daily_tasks").delete().eq("id",x.id);if(S)throw S;return await s(),{success:!0}}catch(S){return console.error("Error removing task:",S),{success:!1,error:S instanceof Error?S.message:"Failed to remove task"}}},y=()=>n.progress?Math.round(n.progress.xp/n.progress.xp_to_next_level*100):0,v=()=>n.dailyTasks.filter(b=>b.is_completed).length;return{...n,addXP:i,completeTask:a,uncompleteTask:c,removeTask:g,updateStreak:h,unlockAchievement:m,refreshProgress:s,progressPercentage:y(),completedTasksCount:v(),totalTasksCount:n.dailyTasks.length}}const x6=()=>{const e=jl(),{t,language:n}=zt(),{isAuthenticated:r,isLoading:s}=qt(),{progress:i,achievements:a,dailyTasks:c,recentActions:d,isLoading:h,completeTask:m,uncompleteTask:g,refreshProgress:y,updateStreak:v}=y6(),b=p.useRef(!1);p.useEffect(()=>{r&&!b.current&&(b.current=!0,v())},[r]);const x=w=>{if(n==="en")return w===1?"day":"days";if(n==="kz")return"";const k=w%10,P=w%100;return P>=11&&P<=14?"":k===1?"":k>=2&&k<=4?"":""},S=()=>{switch(n){case"en":return"en-US";case"kz":return"kk-KZ";default:return"ru-RU"}};if(!s&&!r)return l.jsx("div",{className:"p-6 max-w-6xl mx-auto",children:l.jsxs("div",{className:"glass-card rounded-2xl p-12 text-center",children:[l.jsx(Fs,{className:"w-16 h-16 text-accent mx-auto mb-4"}),l.jsx("h2",{className:"text-2xl font-display font-bold mb-2",children:t.auth.loginToTrack}),l.jsx("p",{className:"text-muted-foreground mb-6",children:t.auth.loginPrompt}),l.jsxs(Te,{onClick:()=>e("/auth"),size:"lg",children:[t.auth.login," / ",t.auth.register]})]})});if(s||h)return l.jsx("div",{className:"p-6 max-w-6xl mx-auto flex items-center justify-center min-h-[60vh]",children:l.jsx(ct,{className:"w-8 h-8 animate-spin text-primary"})});const N=a.map(w=>w.achievement_icon||"").slice(0,5);return l.jsxs("div",{className:"p-6 max-w-6xl mx-auto space-y-6",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsxs("h1",{className:"text-3xl font-display font-bold flex items-center gap-3",children:[l.jsx(Fs,{className:"w-8 h-8 text-accent"}),t.progress.title]}),l.jsx("p",{className:"text-muted-foreground mt-1",children:t.progress.trackAchievements})]}),i&&i.streak_days>0&&l.jsxs("div",{className:"eco-badge text-lg flex items-center gap-2",children:[l.jsx(wM,{className:"w-5 h-5"}),i.streak_days," ",x(i.streak_days)," ",n==="ru"?"":n==="kz"?"":"in a row"]})]}),l.jsx(c6,{level:(i==null?void 0:i.level)||1,xp:(i==null?void 0:i.xp)||0,xpToNext:(i==null?void 0:i.xp_to_next_level)||100,ecoCoins:(i==null?void 0:i.eco_coins)||0,streakDays:(i==null?void 0:i.streak_days)||0,badges:N.length>0?N:[""]}),l.jsx("div",{className:"glass-card rounded-2xl p-6",children:l.jsx(g6,{dailyTasks:c,onTaskAdded:y,onTaskCompleted:m,onTaskUncompleted:g,onTaskRemoved:y})}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[l.jsxs("div",{className:"glass-card rounded-2xl p-6",children:[l.jsxs("h3",{className:"font-display font-bold text-lg flex items-center gap-2 mb-4",children:[l.jsx(v0,{className:"w-5 h-5 text-accent"}),t.progress.myAchievements," (",a.length,")"]}),l.jsx("div",{className:"space-y-3",children:a.length>0?a.map(w=>l.jsxs("div",{className:"flex items-center gap-3 p-3 bg-muted/50 rounded-xl",children:[l.jsx("span",{className:"text-3xl",children:w.achievement_icon||""}),l.jsxs("div",{className:"flex-1",children:[l.jsx("p",{className:"font-medium",children:w.achievement_name}),l.jsx("p",{className:"text-sm text-muted-foreground",children:w.achievement_description}),l.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:new Date(w.unlocked_at).toLocaleDateString(S(),{day:"numeric",month:"long"})})]})]},w.id)):l.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[l.jsx(v0,{className:"w-12 h-12 mx-auto mb-2 opacity-50"}),l.jsx("p",{children:t.progress.completeTasksForAchievements})]})})]}),l.jsxs("div",{className:"glass-card rounded-2xl p-6",children:[l.jsxs("h3",{className:"font-display font-bold text-lg flex items-center gap-2 mb-4",children:[l.jsx(Th,{className:"w-5 h-5 text-primary"}),t.progress.recentActivity]}),d.length>0?l.jsx("div",{className:"space-y-2",children:d.map(w=>l.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-border/50 last:border-0",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm",children:w.action_description||w.action_type}),l.jsx("p",{className:"text-xs text-muted-foreground",children:new Date(w.created_at).toLocaleDateString(S(),{day:"numeric",month:"short",hour:"2-digit",minute:"2-digit"})})]}),l.jsxs("div",{className:"text-right flex items-center gap-2",children:[w.xp_earned>0&&l.jsxs("span",{className:"text-sm text-primary font-medium",children:["+",w.xp_earned," XP"]}),w.coins_earned>0&&l.jsxs("span",{className:"text-sm text-accent font-medium",children:["+",w.coins_earned," "]})]})]},w.id))}):l.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[l.jsx(Th,{className:"w-12 h-12 mx-auto mb-2 opacity-50"}),l.jsx("p",{children:t.progress.startTasksToTrack})]})]})]}),l.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[l.jsxs("div",{className:"glass-card rounded-xl p-4 text-center",children:[l.jsx("p",{className:"text-3xl font-bold text-primary",children:(i==null?void 0:i.total_xp_earned)||0}),l.jsx("p",{className:"text-sm text-muted-foreground",children:t.progress.totalXP})]}),l.jsxs("div",{className:"glass-card rounded-xl p-4 text-center",children:[l.jsx("p",{className:"text-3xl font-bold text-accent",children:(i==null?void 0:i.total_coins_earned)||0}),l.jsx("p",{className:"text-sm text-muted-foreground",children:t.progress.totalCoins})]}),l.jsxs("div",{className:"glass-card rounded-xl p-4 text-center",children:[l.jsx("p",{className:"text-3xl font-bold text-secondary",children:a.length}),l.jsx("p",{className:"text-sm text-muted-foreground",children:t.progress.achievements})]}),l.jsxs("div",{className:"glass-card rounded-xl p-4 text-center",children:[l.jsx("p",{className:"text-3xl font-bold",children:(i==null?void 0:i.level)||1}),l.jsx("p",{className:"text-sm text-muted-foreground",children:t.progress.level})]})]})]})},_6=({aqi:e=null})=>{const{t}=zt(),n=a=>{switch(a){case"safe":return"bg-aqi-good/10 border-aqi-good text-aqi-good";case"caution":return"bg-aqi-moderate/10 border-aqi-moderate text-aqi-moderate";case"warning":return"bg-aqi-unhealthy/10 border-aqi-unhealthy text-aqi-unhealthy";case"danger":return"bg-aqi-hazardous/10 border-aqi-hazardous text-aqi-hazardous"}},r=a=>{switch(a){case"safe":return t.healthRecs.safe;case"caution":return t.healthRecs.caution;case"warning":return t.healthRecs.warning;case"danger":return t.healthRecs.danger}},i=(a=>a===null?[{icon:l.jsx(na,{className:"w-5 h-5"}),group:t.healthRecs.children,status:"caution",advice:t.healthRecs.loadingData}]:a<=50?[{icon:l.jsx(na,{className:"w-5 h-5"}),group:t.healthRecs.children,status:"safe",advice:t.healthRecs.safeForPlay},{icon:l.jsx(ai,{className:"w-5 h-5"}),group:t.healthRecs.elderly,status:"safe",advice:t.healthRecs.greatTimeForWalk},{icon:l.jsx(pa,{className:"w-5 h-5"}),group:t.healthRecs.asthma,status:"safe",advice:t.healthRecs.canDoOutdoor},{icon:l.jsx(js,{className:"w-5 h-5"}),group:t.healthRecs.athletes,status:"safe",advice:t.healthRecs.idealConditions}]:a<=100?[{icon:l.jsx(na,{className:"w-5 h-5"}),group:t.healthRecs.children,status:"safe",advice:t.healthRecs.canWalk},{icon:l.jsx(ai,{className:"w-5 h-5"}),group:t.healthRecs.elderly,status:"caution",advice:t.healthRecs.limitOutdoor},{icon:l.jsx(pa,{className:"w-5 h-5"}),group:t.healthRecs.asthma,status:"caution",advice:t.healthRecs.haveInhaler},{icon:l.jsx(js,{className:"w-5 h-5"}),group:t.healthRecs.athletes,status:"safe",advice:t.healthRecs.canTrainMorning}]:a<=150?[{icon:l.jsx(na,{className:"w-5 h-5"}),group:t.healthRecs.children,status:"caution",advice:t.healthRecs.limitPlay},{icon:l.jsx(ai,{className:"w-5 h-5"}),group:t.healthRecs.elderly,status:"warning",advice:t.healthRecs.stayHomeVentilate},{icon:l.jsx(pa,{className:"w-5 h-5"}),group:t.healthRecs.asthma,status:"warning",advice:t.healthRecs.wearN95},{icon:l.jsx(js,{className:"w-5 h-5"}),group:t.healthRecs.athletes,status:"caution",advice:t.healthRecs.trainIndoorsMorning}]:a<=200?[{icon:l.jsx(na,{className:"w-5 h-5"}),group:t.healthRecs.children,status:"warning",advice:t.healthRecs.avoidWalks},{icon:l.jsx(ai,{className:"w-5 h-5"}),group:t.healthRecs.elderly,status:"danger",advice:t.healthRecs.stayHomeClosed},{icon:l.jsx(pa,{className:"w-5 h-5"}),group:t.healthRecs.asthma,status:"danger",advice:t.healthRecs.doNotGoOut},{icon:l.jsx(js,{className:"w-5 h-5"}),group:t.healthRecs.athletes,status:"warning",advice:t.healthRecs.trainIndoorsOnly}]:[{icon:l.jsx(na,{className:"w-5 h-5"}),group:t.healthRecs.children,status:"danger",advice:t.healthRecs.avoidOutdoor},{icon:l.jsx(ai,{className:"w-5 h-5"}),group:t.healthRecs.elderly,status:"danger",advice:t.healthRecs.dangerStayHome},{icon:l.jsx(pa,{className:"w-5 h-5"}),group:t.healthRecs.asthma,status:"danger",advice:t.healthRecs.extremeDanger},{icon:l.jsx(js,{className:"w-5 h-5"}),group:t.healthRecs.athletes,status:"danger",advice:t.healthRecs.cancelTraining}])(e);return l.jsxs("div",{className:"glass-card rounded-2xl p-6 shadow-elevated animate-slide-up",children:[l.jsxs("div",{className:"flex items-center justify-between mb-6",children:[l.jsxs("h3",{className:"font-display font-bold text-lg flex items-center gap-2",children:[l.jsx(CN,{className:"w-5 h-5 text-primary"}),t.healthRecs.title]}),e!==null&&l.jsxs("span",{className:"text-sm text-muted-foreground",children:["AQI: ",e]})]}),l.jsx("div",{className:"space-y-3",children:i.map((a,c)=>l.jsx("div",{className:`p-4 rounded-xl border-l-4 ${n(a.status)} transition-all hover:scale-[1.01]`,children:l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx("div",{className:"p-2 bg-background rounded-lg",children:a.icon}),l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"flex items-center justify-between mb-1",children:[l.jsx("span",{className:"font-semibold",children:a.group}),l.jsx("span",{className:`text-xs font-medium px-2 py-0.5 rounded-full ${n(a.status)}`,children:r(a.status)})]}),l.jsx("p",{className:"text-sm text-muted-foreground",children:a.advice})]})]})},c))}),l.jsxs("button",{className:"w-full mt-4 p-3 bg-primary/10 text-primary rounded-xl font-medium hover:bg-primary/20 transition-colors flex items-center justify-center gap-2",children:[l.jsx(Di,{className:"w-4 h-4"}),t.healthRecs.setupNotifications]})]})},w6=()=>{const{t:e}=zt(),{environmentData:t,effectiveLocation:n,isLoading:r}=Fo(),s=(t==null?void 0:t.city_name)||(n==null?void 0:n.cityName),i=(t==null?void 0:t.current_aqi)??null,a=(t==null?void 0:t.temperature)??null,c=(t==null?void 0:t.humidity)??null,d=(t==null?void 0:t.uv_index)??null,h=v=>v?v<=50?"text-aqi-good":v<=100?"text-aqi-moderate":v<=150?"text-aqi-unhealthy":v<=200?"text-aqi-very-unhealthy":"text-aqi-hazardous":"text-muted-foreground",m=v=>v?v<=50?"bg-aqi-good/10":v<=100?"bg-aqi-moderate/10":v<=150?"bg-aqi-unhealthy/10":v<=200?"bg-aqi-very-unhealthy/10":"bg-aqi-hazardous/10":"bg-muted",g=v=>v?v<=50?e.health.anyTime:v<=100?e.health.morning:v<=150?e.health.earlyMorning:e.health.notRecommended:"",y=v=>v?v<=2?e.health.uvLow:v<=5?e.health.uvMedium:v<=7?e.health.uvHigh:e.health.uvVeryHigh:"";return l.jsxs("div",{className:"p-6 max-w-6xl mx-auto space-y-6",children:[l.jsxs("div",{children:[l.jsxs("h1",{className:"text-3xl font-display font-bold flex items-center gap-3",children:[l.jsx(ai,{className:"w-8 h-8 text-destructive"}),e.health.title]}),l.jsx("p",{className:"text-muted-foreground mt-1 flex items-center gap-2",children:s?l.jsxs(l.Fragment,{children:[l.jsx(Dr,{className:"w-4 h-4"}),e.health.personalizedFor," ",s]}):e.health.personalizedTips})]}),l.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[l.jsxs("div",{className:`glass-card rounded-2xl p-4 text-center ${m(i)}`,children:[l.jsx(jo,{className:`w-6 h-6 mx-auto mb-2 ${h(i)}`}),r?l.jsx(ct,{className:"w-6 h-6 animate-spin mx-auto"}):l.jsx("p",{className:`text-2xl font-bold ${h(i)}`,children:i??""}),l.jsx("p",{className:"text-xs text-muted-foreground",children:e.map.aqiNow})]}),l.jsxs("div",{className:"glass-card rounded-2xl p-4 text-center",children:[l.jsx(Af,{className:"w-6 h-6 mx-auto mb-2 text-destructive"}),r?l.jsx(ct,{className:"w-6 h-6 animate-spin mx-auto"}):l.jsx("p",{className:"text-2xl font-bold",children:a!==null?`${Math.round(a)}C`:""}),l.jsx("p",{className:"text-xs text-muted-foreground",children:e.health.temperature})]}),l.jsxs("div",{className:"glass-card rounded-2xl p-4 text-center",children:[l.jsx(pa,{className:"w-6 h-6 mx-auto mb-2 text-secondary"}),r?l.jsx(ct,{className:"w-6 h-6 animate-spin mx-auto"}):l.jsx("p",{className:"text-2xl font-bold",children:c!==null?`${c}%`:""}),l.jsx("p",{className:"text-xs text-muted-foreground",children:e.health.humidity})]}),l.jsxs("div",{className:"glass-card rounded-2xl p-4 text-center",children:[l.jsx(Ef,{className:"w-6 h-6 mx-auto mb-2 text-accent"}),l.jsx("p",{className:"text-2xl font-bold",children:g(i)}),l.jsx("p",{className:"text-xs text-muted-foreground",children:e.health.bestTimeForWalk})]})]}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[l.jsx(_6,{aqi:i}),l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"glass-card rounded-2xl p-6",children:[l.jsxs("h3",{className:"font-display font-bold text-lg mb-4",children:[" ",e.health.todayConditions]}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-xl",children:[l.jsx("span",{className:"text-sm",children:e.health.uvIndex}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"font-bold",children:d!==null?d.toFixed(1):""}),l.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full ${d?d<=2?"bg-aqi-good/20 text-aqi-good":d<=5?"bg-aqi-moderate/20 text-aqi-moderate":d<=7?"bg-aqi-unhealthy/20 text-aqi-unhealthy":"bg-aqi-hazardous/20 text-aqi-hazardous":"bg-muted"}`,children:y(d)})]})]}),l.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-xl",children:[l.jsx("span",{className:"text-sm",children:e.health.wind}),l.jsx("div",{className:"flex items-center gap-2",children:l.jsx("span",{className:"font-bold",children:(t==null?void 0:t.wind_speed)!==null&&(t==null?void 0:t.wind_speed)!==void 0?`${t.wind_speed.toFixed(1)} ${e.units.ms}`:""})})]}),l.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-xl",children:[l.jsx("span",{className:"text-sm",children:e.health.airQuality}),l.jsx("div",{className:"flex items-center gap-2",children:l.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full ${m(i)} ${h(i)}`,children:(t==null?void 0:t.aqi_category)||""})})]})]})]}),l.jsxs("div",{className:"glass-card rounded-2xl p-6",children:[l.jsxs("h3",{className:"font-display font-bold text-lg mb-4",children:[" ",e.health.protectionMethods]}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"flex items-start gap-3 p-3 bg-primary/10 rounded-xl",children:[l.jsx("span",{className:"text-xl",children:""}),l.jsxs("div",{children:[l.jsx("p",{className:"font-medium text-sm",children:e.health.maskN95}),l.jsx("p",{className:"text-xs text-muted-foreground",children:e.health.maskDescription})]})]}),l.jsxs("div",{className:"flex items-start gap-3 p-3 bg-secondary/10 rounded-xl",children:[l.jsx("span",{className:"text-xl",children:""}),l.jsxs("div",{children:[l.jsx("p",{className:"font-medium text-sm",children:e.health.airPurifier}),l.jsx("p",{className:"text-xs text-muted-foreground",children:e.health.airPurifierDescription})]})]}),l.jsxs("div",{className:"flex items-start gap-3 p-3 bg-accent/10 rounded-xl",children:[l.jsx("span",{className:"text-xl",children:""}),l.jsxs("div",{children:[l.jsx("p",{className:"font-medium text-sm",children:e.health.housePlants}),l.jsx("p",{className:"text-xs text-muted-foreground",children:e.health.housePlantsDescription})]})]})]})]})]})]}),i!==null&&i>100&&l.jsx("div",{className:`glass-card rounded-2xl p-4 border ${i>150?"bg-aqi-unhealthy/10 border-aqi-unhealthy/30":"bg-aqi-moderate/10 border-aqi-moderate/30"}`,children:l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx(Di,{className:`w-6 h-6 ${i>150?"text-aqi-unhealthy":"text-aqi-moderate"}`}),l.jsxs("div",{className:"flex-1",children:[l.jsx("p",{className:"font-medium",children:i>150?e.health.unhealthyAir:e.health.moderatePollution}),l.jsx("p",{className:"text-sm text-muted-foreground",children:i>150?e.health.unhealthyAdvice:e.health.moderateAdvice})]})]})})]})};function UT(){const{user:e}=qt(),[t,n]=p.useState([]),[r,s]=p.useState(!0),i=p.useCallback(async()=>{try{const{data:h,error:m}=await ve.from("community_posts").select("*").eq("is_hidden",!1).order("created_at",{ascending:!1}).limit(20);if(m)throw m;if(!h||h.length===0){n([]);return}const g=[...new Set(h.map(S=>S.user_id))],{data:y}=await ve.from("profiles").select("user_id, full_name, avatar_url").in("user_id",g),{data:v}=await ve.from("user_progress").select("user_id, level").in("user_id",g);let b=[];if(e){const{data:S}=await ve.from("post_likes").select("post_id").eq("user_id",e.id);b=(S==null?void 0:S.map(N=>N.post_id))||[]}const x=h.map(S=>{const N=y==null?void 0:y.find(k=>k.user_id===S.user_id),w=v==null?void 0:v.find(k=>k.user_id===S.user_id);return{...S,post_type:S.post_type,is_hidden:S.is_hidden??!1,is_pinned:S.is_pinned??!1,pinned_at:S.pinned_at,user_name:(N==null?void 0:N.full_name)||"",user_avatar:(N==null?void 0:N.avatar_url)||null,user_level:(w==null?void 0:w.level)||1,is_liked:b.includes(S.id)}});x.sort((S,N)=>S.is_pinned&&!N.is_pinned?-1:!S.is_pinned&&N.is_pinned?1:new Date(N.created_at).getTime()-new Date(S.created_at).getTime()),n(x)}catch(h){console.error("Error fetching posts:",h)}finally{s(!1)}},[e]);return p.useEffect(()=>{i()},[i]),{posts:t,isLoading:r,refreshPosts:i,likePost:async h=>{if(!e)return;const m=t.find(g=>g.id===h);if(m){n(g=>g.map(y=>y.id===h?{...y,is_liked:!y.is_liked,likes_count:y.is_liked?y.likes_count-1:y.likes_count+1}:y));try{m.is_liked?await ve.from("post_likes").delete().eq("post_id",h).eq("user_id",e.id):await ve.from("post_likes").insert({post_id:h,user_id:e.id})}catch(g){console.error("Error toggling like:",g),n(y=>y.map(v=>v.id===h?{...v,is_liked:m.is_liked,likes_count:m.likes_count}:v))}}},deletePost:async h=>{if(!e)return!1;const m=t.find(g=>g.id===h);if(!m||m.user_id!==e.id)return!1;n(g=>g.filter(y=>y.id!==h));try{const{error:g}=await ve.from("community_posts").delete().eq("id",h).eq("user_id",e.id);if(g)throw g;return!0}catch(g){return console.error("Error deleting post:",g),i(),!1}},pinPost:async(h,m)=>{if(!e)return!1;try{if(m){const y=t.find(x=>x.id===h);if(!y)return!1;const{data:v,error:b}=await ve.functions.invoke("moderate-content",{body:{content:y.content,postType:y.post_type}});if(b||!(v!=null&&v.isAppropriate))return console.error("Content not appropriate for pinning"),!1}const{error:g}=await ve.from("community_posts").update({is_pinned:m,pinned_at:m?new Date().toISOString():null,pinned_by:m?e.id:null}).eq("id",h);if(g)throw g;return await i(),!0}catch(g){return console.error("Error pinning post:",g),!1}}}}function Vt(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function b6(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}const Md=43200,Lb=1440;let S6={};function VT(){return S6}function Mb(e,t){var c,d,h,m;const n=VT(),r=(t==null?void 0:t.weekStartsOn)??((d=(c=t==null?void 0:t.locale)==null?void 0:c.options)==null?void 0:d.weekStartsOn)??n.weekStartsOn??((m=(h=n.locale)==null?void 0:h.options)==null?void 0:m.weekStartsOn)??0,s=Vt(e),i=s.getDay(),a=(i<r?7:0)+i-r;return s.setDate(s.getDate()-a),s.setHours(0,0,0,0),s}function Ib(e){const t=Vt(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function Jd(e,t){const n=Vt(e),r=Vt(t),s=n.getTime()-r.getTime();return s<0?-1:s>0?1:s}function k6(e){return b6(e,Date.now())}function N6(e,t){const n=Vt(e),r=Vt(t),s=n.getFullYear()-r.getFullYear(),i=n.getMonth()-r.getMonth();return s*12+i}function C6(e){return t=>{const r=(e?Math[e]:Math.trunc)(t);return r===0?0:r}}function P6(e,t){return+Vt(e)-+Vt(t)}function j6(e){const t=Vt(e);return t.setHours(23,59,59,999),t}function T6(e){const t=Vt(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(23,59,59,999),t}function E6(e){const t=Vt(e);return+j6(t)==+T6(t)}function R6(e,t){const n=Vt(e),r=Vt(t),s=Jd(n,r),i=Math.abs(N6(n,r));let a;if(i<1)a=0;else{n.getMonth()===1&&n.getDate()>27&&n.setDate(30),n.setMonth(n.getMonth()-s*i);let c=Jd(n,r)===-s;E6(Vt(e))&&i===1&&Jd(e,r)===1&&(c=!1),a=s*(i-Number(c))}return a===0?0:a}function A6(e,t,n){const r=P6(e,t)/1e3;return C6(n==null?void 0:n.roundingMethod)(r)}const O6={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},L6=(e,t,n)=>{let r;const s=O6[e];return typeof s=="string"?r=s:t===1?r=s.one:r=s.other.replace("{{count}}",t.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function Os(e){return(t={})=>{const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const M6={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},I6={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},D6={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},$6={date:Os({formats:M6,defaultWidth:"full"}),time:Os({formats:I6,defaultWidth:"full"}),dateTime:Os({formats:D6,defaultWidth:"full"})},F6={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},z6=(e,t,n,r)=>F6[e];function vn(e){return(t,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let s;if(r==="formatting"&&e.formattingValues){const a=e.defaultFormattingWidth||e.defaultWidth,c=n!=null&&n.width?String(n.width):a;s=e.formattingValues[c]||e.formattingValues[a]}else{const a=e.defaultWidth,c=n!=null&&n.width?String(n.width):e.defaultWidth;s=e.values[c]||e.values[a]}const i=e.argumentCallback?e.argumentCallback(t):t;return s[i]}}const B6={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},U6={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},V6={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},W6={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},q6={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},H6={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},G6=(e,t)=>{const n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},Z6={ordinalNumber:G6,era:vn({values:B6,defaultWidth:"wide"}),quarter:vn({values:U6,defaultWidth:"wide",argumentCallback:e=>e-1}),month:vn({values:V6,defaultWidth:"wide"}),day:vn({values:W6,defaultWidth:"wide"}),dayPeriod:vn({values:q6,defaultWidth:"wide",formattingValues:H6,defaultFormattingWidth:"wide"})};function yn(e){return(t,n={})=>{const r=n.width,s=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],i=t.match(s);if(!i)return null;const a=i[0],c=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],d=Array.isArray(c)?Y6(c,g=>g.test(a)):K6(c,g=>g.test(a));let h;h=e.valueCallback?e.valueCallback(d):d,h=n.valueCallback?n.valueCallback(h):h;const m=t.slice(a.length);return{value:h,rest:m}}}function K6(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n}function Y6(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n}function Lx(e){return(t,n={})=>{const r=t.match(e.matchPattern);if(!r)return null;const s=r[0],i=t.match(e.parsePattern);if(!i)return null;let a=e.valueCallback?e.valueCallback(i[0]):i[0];a=n.valueCallback?n.valueCallback(a):a;const c=t.slice(s.length);return{value:a,rest:c}}}const X6=/^(\d+)(th|st|nd|rd)?/i,Q6=/\d+/i,J6={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},eV={any:[/^b/i,/^(a|c)/i]},tV={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},nV={any:[/1/i,/2/i,/3/i,/4/i]},rV={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},sV={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},iV={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},oV={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},aV={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},lV={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},cV={ordinalNumber:Lx({matchPattern:X6,parsePattern:Q6,valueCallback:e=>parseInt(e,10)}),era:yn({matchPatterns:J6,defaultMatchWidth:"wide",parsePatterns:eV,defaultParseWidth:"any"}),quarter:yn({matchPatterns:tV,defaultMatchWidth:"wide",parsePatterns:nV,defaultParseWidth:"any",valueCallback:e=>e+1}),month:yn({matchPatterns:rV,defaultMatchWidth:"wide",parsePatterns:sV,defaultParseWidth:"any"}),day:yn({matchPatterns:iV,defaultMatchWidth:"wide",parsePatterns:oV,defaultParseWidth:"any"}),dayPeriod:yn({matchPatterns:aV,defaultMatchWidth:"any",parsePatterns:lV,defaultParseWidth:"any"})},Mx={code:"en-US",formatDistance:L6,formatLong:$6,formatRelative:z6,localize:Z6,match:cV,options:{weekStartsOn:0,firstWeekContainsDate:1}};function uV(e,t,n){const r=VT(),s=(n==null?void 0:n.locale)??r.locale??Mx,i=2520,a=Jd(e,t);if(isNaN(a))throw new RangeError("Invalid time value");const c=Object.assign({},n,{addSuffix:n==null?void 0:n.addSuffix,comparison:a});let d,h;a>0?(d=Vt(t),h=Vt(e)):(d=Vt(e),h=Vt(t));const m=A6(h,d),g=(Ib(h)-Ib(d))/1e3,y=Math.round((m-g)/60);let v;if(y<2)return n!=null&&n.includeSeconds?m<5?s.formatDistance("lessThanXSeconds",5,c):m<10?s.formatDistance("lessThanXSeconds",10,c):m<20?s.formatDistance("lessThanXSeconds",20,c):m<40?s.formatDistance("halfAMinute",0,c):m<60?s.formatDistance("lessThanXMinutes",1,c):s.formatDistance("xMinutes",1,c):y===0?s.formatDistance("lessThanXMinutes",1,c):s.formatDistance("xMinutes",y,c);if(y<45)return s.formatDistance("xMinutes",y,c);if(y<90)return s.formatDistance("aboutXHours",1,c);if(y<Lb){const b=Math.round(y/60);return s.formatDistance("aboutXHours",b,c)}else{if(y<i)return s.formatDistance("xDays",1,c);if(y<Md){const b=Math.round(y/Lb);return s.formatDistance("xDays",b,c)}else if(y<Md*2)return v=Math.round(y/Md),s.formatDistance("aboutXMonths",v,c)}if(v=R6(h,d),v<12){const b=Math.round(y/Md);return s.formatDistance("xMonths",b,c)}else{const b=v%12,x=Math.trunc(v/12);return b<3?s.formatDistance("aboutXYears",x,c):b<9?s.formatDistance("overXYears",x,c):s.formatDistance("almostXYears",x+1,c)}}function WT(e,t){return uV(e,k6(e),t)}function Kh(e,t,n){const r=Mb(e,n),s=Mb(t,n);return+r==+s}const dV={lessThanXSeconds:{regular:{one:"1  ",singularNominative:"{{count}}  ",singularGenitive:"{{count}}  ",pluralGenitive:"{{count}}  "},future:{one:"  ",singularNominative:"{{count}}  ",singularGenitive:"{{count}}  ",pluralGenitive:"{{count}}  "}},xSeconds:{regular:{singularNominative:"{{count}} ",singularGenitive:"{{count}} ",pluralGenitive:"{{count}} "},past:{singularNominative:"{{count}}  ",singularGenitive:"{{count}}  ",pluralGenitive:"{{count}}  "},future:{singularNominative:"{{count}}  ",singularGenitive:"{{count}}  ",pluralGenitive:"{{count}}  "}},halfAMinute:e=>e!=null&&e.addSuffix?e.comparison&&e.comparison>0?"  ":"  ":" ",lessThanXMinutes:{regular:{one:"1  ",singularNominative:"{{count}}  ",singularGenitive:"{{count}}  ",pluralGenitive:"{{count}}  "},future:{one:"  ",singularNominative:"{{count}}  ",singularGenitive:"{{count}}  ",pluralGenitive:"{{count}}  "}},xMinutes:{regular:{singularNominative:"{{count}} ",singularGenitive:"{{count}} ",pluralGenitive:"{{count}} "},past:{singularNominative:"{{count}}  ",singularGenitive:"{{count}}  ",pluralGenitive:"{{count}}  "},future:{singularNominative:"{{count}}  ",singularGenitive:"{{count}}  ",pluralGenitive:"{{count}}  "}},aboutXHours:{regular:{singularNominative:" {{count}} ",singularGenitive:" {{count}} ",pluralGenitive:" {{count}} "},future:{singularNominative:" {{count}}  ",singularGenitive:" {{count}}  ",pluralGenitive:" {{count}}  "}},xHours:{regular:{singularNominative:"{{count}} ",singularGenitive:"{{count}} ",pluralGenitive:"{{count}} "}},xDays:{regular:{singularNominative:"{{count}} ",singularGenitive:"{{count}} ",pluralGenitive:"{{count}} "},future:{singularNominative:"{{count}}  ",singularGenitive:"{{count}}  ",pluralGenitive:"{{count}}  "}},aboutXWeeks:{type:"weeks",one:" 1 ",other:" {{count}} "},xWeeks:{type:"weeks",one:"1 ",other:"{{count}} "},aboutXMonths:{regular:{singularNominative:" {{count}} ",singularGenitive:" {{count}} ",pluralGenitive:" {{count}} "},future:{singularNominative:" {{count}}  ",singularGenitive:" {{count}}  ",pluralGenitive:" {{count}}  "}},xMonths:{regular:{singularNominative:"{{count}} ",singularGenitive:"{{count}} ",pluralGenitive:"{{count}} "}},aboutXYears:{regular:{singularNominative:" {{count}} ",singularGenitive:" {{count}} ",pluralGenitive:" {{count}} "},future:{singularNominative:" {{count}}  ",singularGenitive:" {{count}}  ",pluralGenitive:" {{count}}  "}},xYears:{regular:{singularNominative:"{{count}} ",singularGenitive:"{{count}} ",pluralGenitive:"{{count}} "},future:{singularNominative:"{{count}}  ",singularGenitive:"{{count}}  ",pluralGenitive:"{{count}}  "}},overXYears:{regular:{singularNominative:"{{count}}  ",singularGenitive:"{{count}}  ",pluralGenitive:"{{count}}  "},future:{singularNominative:"{{count}}  ",singularGenitive:"{{count}}  ",pluralGenitive:"{{count}}  "}},almostXYears:{regular:{singularNominative:"{{count}}  ",singularGenitive:"{{count}}  ",pluralGenitive:"{{count}}  "},future:{singularNominative:"{{count}}  ",singularGenitive:"{{count}}  ",pluralGenitive:"{{count}}  "}}};function sc(e,t){if(e.one&&t===1)return e.one;const n=t%10,r=t%100;return n===1&&r!==11?e.singularNominative.replace("{{count}}",String(t)):n>=2&&n<=4&&(r<10||r>20)?e.singularGenitive.replace("{{count}}",String(t)):e.pluralGenitive.replace("{{count}}",String(t))}const hV=(e,t,n)=>{const r=dV[e];return typeof r=="function"?r(n):r.type==="weeks"?t===1?r.one:r.other.replace("{{count}}",String(t)):n!=null&&n.addSuffix?n.comparison&&n.comparison>0?r.future?sc(r.future,t):sc(r.regular,t)+" ":r.past?sc(r.past,t):sc(r.regular,t)+" ":sc(r.regular,t)},fV={full:"EEEE, do MMMM y '.'",long:"do MMMM y '.'",medium:"d MMM y '.'",short:"dd.MM.yyyy"},mV={full:"H:mm:ss zzzz",long:"H:mm:ss z",medium:"H:mm:ss",short:"H:mm"},pV={any:"{{date}}, {{time}}"},gV={date:Os({formats:fV,defaultWidth:"full"}),time:Os({formats:mV,defaultWidth:"full"}),dateTime:Os({formats:pV,defaultWidth:"any"})},Ix=["","","","","","",""];function vV(e){return"' "+Ix[e]+" ' p'-'"}function Db(e){return"'"+Ix[e]+" ' p'-'"}function yV(e){return"' "+Ix[e]+" ' p'-'"}const xV={lastWeek:(e,t,n)=>{const r=e.getDay();return Kh(e,t,n)?Db(r):vV(r)},yesterday:"' ' p'-'",today:"' ' p'-'",tomorrow:"' ' p'-'",nextWeek:(e,t,n)=>{const r=e.getDay();return Kh(e,t,n)?Db(r):yV(r)},other:"P"},_V=(e,t,n,r)=>{const s=xV[e];return typeof s=="function"?s(t,n,r):s},wV={narrow:["...",".."],abbreviated:["...",".."],wide:["  "," "]},bV={narrow:["1","2","3","4"],abbreviated:["1- .","2- .","3- .","4- ."],wide:["1- ","2- ","3- ","4- "]},SV={narrow:["","","","","","","","","","","",""],abbreviated:["","","","","","","","","","","",""],wide:["","","","","","","","","","","",""]},kV={narrow:["","","","","","","","","","","",""],abbreviated:["","","","","","","","","","","",""],wide:["","","","","","","","","","","",""]},NV={narrow:["","","","","","",""],short:["","","","","","",""],abbreviated:["","","","","","",""],wide:["","","","","","",""]},CV={narrow:{am:"",pm:"",midnight:" ",noon:"",morning:"",afternoon:"",evening:"",night:""},wide:{am:"",pm:"",midnight:" ",noon:"",morning:"",afternoon:"",evening:"",night:""}},PV={narrow:{am:"",pm:"",midnight:" ",noon:"",morning:"",afternoon:"",evening:"",night:""},wide:{am:"",pm:"",midnight:" ",noon:"",morning:"",afternoon:"",evening:"",night:""}},Bp={0:"-",1:"-",2:"-",3:"-",4:"-",5:"-",6:"-",7:"-",8:"-",9:"-",10:"-",20:"-",30:"-",40:"-",50:"-",60:"-",70:"-",80:"-",90:"-",100:"-"},jV=(e,t)=>{const n=Number(e),r=n%10,s=n>=100?100:null,i=Bp[n]||Bp[r]||s&&Bp[s]||"";return n+i},TV={ordinalNumber:jV,era:vn({values:wV,defaultWidth:"wide"}),quarter:vn({values:bV,defaultWidth:"wide",argumentCallback:e=>e-1}),month:vn({values:SV,defaultWidth:"wide",formattingValues:kV,defaultFormattingWidth:"wide"}),day:vn({values:NV,defaultWidth:"wide"}),dayPeriod:vn({values:CV,defaultWidth:"any",formattingValues:PV,defaultFormattingWidth:"wide"})},EV=/^(\d+)(-?(|))?/i,RV=/\d+/i,AV={narrow:/^(( )?\.?\s?\.?)/i,abbreviated:/^(( )?\.?\s?\.?)/i,wide:/^(  | | )/i},OV={any:[/^/i,/^/i]},LV={narrow:/^[1234]/i,abbreviated:/^[1234](-?)? .?/i,wide:/^[1234](-?)? /i},MV={any:[/1/i,/2/i,/3/i,/4/i]},IV={narrow:/^(|||||||||||)/i,abbreviated:/^(|||||||||||)/i,wide:/^(|||||||||||)/i},DV={narrow:[/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i],abbreviated:[/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i],any:[/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i]},$V={narrow:/^(||||||)/i,short:/^(||||||)/i,wide:/^(||||||)/i},FV={narrow:[/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i],short:[/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i],any:[/^[]/i,/^[]/i,/^e[]/i,/^[]/i,/^[]/i,/^[]/i,/^[]/i]},zV={narrow:/^\.?\s?[]\.?| |((|||||||||||)\.?)/i,wide:/^\.?\s?[]\.?| |((|||||||||||)\.?)/i,any:/^\.?\s?[]\.?| |((|||||||||||)\.?)/i},BV={any:{am:/^/i,pm:/^/i,midnight:/^ /i,noon:/^/i,morning://i,afternoon://i,evening://i,night://i}},UV={ordinalNumber:Lx({matchPattern:EV,parsePattern:RV,valueCallback:e=>parseInt(e,10)}),era:yn({matchPatterns:AV,defaultMatchWidth:"wide",parsePatterns:OV,defaultParseWidth:"any"}),quarter:yn({matchPatterns:LV,defaultMatchWidth:"wide",parsePatterns:MV,defaultParseWidth:"any",valueCallback:e=>e+1}),month:yn({matchPatterns:IV,defaultMatchWidth:"wide",parsePatterns:DV,defaultParseWidth:"any"}),day:yn({matchPatterns:$V,defaultMatchWidth:"wide",parsePatterns:FV,defaultParseWidth:"any"}),dayPeriod:yn({matchPatterns:zV,defaultMatchWidth:"wide",parsePatterns:BV,defaultParseWidth:"any"})},qT={code:"kk",formatDistance:hV,formatLong:gV,formatRelative:_V,localize:TV,match:UV,options:{weekStartsOn:1,firstWeekContainsDate:1}};function ic(e,t){if(e.one!==void 0&&t===1)return e.one;const n=t%10,r=t%100;return n===1&&r!==11?e.singularNominative.replace("{{count}}",String(t)):n>=2&&n<=4&&(r<10||r>20)?e.singularGenitive.replace("{{count}}",String(t)):e.pluralGenitive.replace("{{count}}",String(t))}function hn(e){return(t,n)=>n!=null&&n.addSuffix?n.comparison&&n.comparison>0?e.future?ic(e.future,t):" "+ic(e.regular,t):e.past?ic(e.past,t):ic(e.regular,t)+" ":ic(e.regular,t)}const VV={lessThanXSeconds:hn({regular:{one:" ",singularNominative:" {{count}} ",singularGenitive:" {{count}} ",pluralGenitive:" {{count}} "},future:{one:",   ",singularNominative:",   {{count}} ",singularGenitive:",   {{count}} ",pluralGenitive:",   {{count}} "}}),xSeconds:hn({regular:{singularNominative:"{{count}} ",singularGenitive:"{{count}} ",pluralGenitive:"{{count}} "},past:{singularNominative:"{{count}}  ",singularGenitive:"{{count}}  ",pluralGenitive:"{{count}}  "},future:{singularNominative:" {{count}} ",singularGenitive:" {{count}} ",pluralGenitive:" {{count}} "}}),halfAMinute:(e,t)=>t!=null&&t.addSuffix?t.comparison&&t.comparison>0?" ":" ":"",lessThanXMinutes:hn({regular:{one:" ",singularNominative:" {{count}} ",singularGenitive:" {{count}} ",pluralGenitive:" {{count}} "},future:{one:",   ",singularNominative:",   {{count}} ",singularGenitive:",   {{count}} ",pluralGenitive:",   {{count}} "}}),xMinutes:hn({regular:{singularNominative:"{{count}} ",singularGenitive:"{{count}} ",pluralGenitive:"{{count}} "},past:{singularNominative:"{{count}}  ",singularGenitive:"{{count}}  ",pluralGenitive:"{{count}}  "},future:{singularNominative:" {{count}} ",singularGenitive:" {{count}} ",pluralGenitive:" {{count}} "}}),aboutXHours:hn({regular:{singularNominative:" {{count}} ",singularGenitive:" {{count}} ",pluralGenitive:" {{count}} "},future:{singularNominative:"  {{count}} ",singularGenitive:"  {{count}} ",pluralGenitive:"  {{count}} "}}),xHours:hn({regular:{singularNominative:"{{count}} ",singularGenitive:"{{count}} ",pluralGenitive:"{{count}} "}}),xDays:hn({regular:{singularNominative:"{{count}} ",singularGenitive:"{{count}} ",pluralGenitive:"{{count}} "}}),aboutXWeeks:hn({regular:{singularNominative:" {{count}} ",singularGenitive:" {{count}} ",pluralGenitive:" {{count}} "},future:{singularNominative:"  {{count}} ",singularGenitive:"  {{count}} ",pluralGenitive:"  {{count}} "}}),xWeeks:hn({regular:{singularNominative:"{{count}} ",singularGenitive:"{{count}} ",pluralGenitive:"{{count}} "}}),aboutXMonths:hn({regular:{singularNominative:" {{count}} ",singularGenitive:" {{count}} ",pluralGenitive:" {{count}} "},future:{singularNominative:"  {{count}} ",singularGenitive:"  {{count}} ",pluralGenitive:"  {{count}} "}}),xMonths:hn({regular:{singularNominative:"{{count}} ",singularGenitive:"{{count}} ",pluralGenitive:"{{count}} "}}),aboutXYears:hn({regular:{singularNominative:" {{count}} ",singularGenitive:" {{count}} ",pluralGenitive:" {{count}} "},future:{singularNominative:"  {{count}} ",singularGenitive:"  {{count}} ",pluralGenitive:"  {{count}} "}}),xYears:hn({regular:{singularNominative:"{{count}} ",singularGenitive:"{{count}} ",pluralGenitive:"{{count}} "}}),overXYears:hn({regular:{singularNominative:" {{count}} ",singularGenitive:" {{count}} ",pluralGenitive:" {{count}} "},future:{singularNominative:",   {{count}} ",singularGenitive:",   {{count}} ",pluralGenitive:",   {{count}} "}}),almostXYears:hn({regular:{singularNominative:" {{count}} ",singularGenitive:" {{count}} ",pluralGenitive:" {{count}} "},future:{singularNominative:"  {{count}} ",singularGenitive:"  {{count}} ",pluralGenitive:"  {{count}} "}})},WV=(e,t,n)=>VV[e](t,n),qV={full:"EEEE, d MMMM y '.'",long:"d MMMM y '.'",medium:"d MMM y '.'",short:"dd.MM.y"},HV={full:"H:mm:ss zzzz",long:"H:mm:ss z",medium:"H:mm:ss",short:"H:mm"},GV={any:"{{date}}, {{time}}"},ZV={date:Os({formats:qV,defaultWidth:"full"}),time:Os({formats:HV,defaultWidth:"full"}),dateTime:Os({formats:GV,defaultWidth:"any"})},Dx=["","","","","","",""];function KV(e){const t=Dx[e];switch(e){case 0:return"'  "+t+" ' p";case 1:case 2:case 4:return"'  "+t+" ' p";case 3:case 5:case 6:return"'  "+t+" ' p"}}function $b(e){const t=Dx[e];return e===2?"' "+t+" ' p":"' "+t+" ' p"}function YV(e){const t=Dx[e];switch(e){case 0:return"'  "+t+" ' p";case 1:case 2:case 4:return"'  "+t+" ' p";case 3:case 5:case 6:return"'  "+t+" ' p"}}const XV={lastWeek:(e,t,n)=>{const r=e.getDay();return Kh(e,t,n)?$b(r):KV(r)},yesterday:"' ' p",today:"' ' p",tomorrow:"' ' p",nextWeek:(e,t,n)=>{const r=e.getDay();return Kh(e,t,n)?$b(r):YV(r)},other:"P"},QV=(e,t,n,r)=>{const s=XV[e];return typeof s=="function"?s(t,n,r):s},JV={narrow:[" ..",".."],abbreviated:[" . .",". ."],wide:["  "," "]},e9={narrow:["1","2","3","4"],abbreviated:["1- .","2- .","3- .","4- ."],wide:["1- ","2- ","3- ","4- "]},t9={narrow:["","","","","","","","","","","",""],abbreviated:[".",".","",".","","","",".",".",".",".","."],wide:["","","","","","","","","","","",""]},n9={narrow:["","","","","","","","","","","",""],abbreviated:[".",".",".",".","",".",".",".",".",".",".","."],wide:["","","","","","","","","","","",""]},r9={narrow:["","","","","","",""],short:["","","","","","",""],abbreviated:["","","","","","",""],wide:["","","","","","",""]},s9={narrow:{am:"",pm:"",midnight:".",noon:".",morning:"",afternoon:"",evening:".",night:""},abbreviated:{am:"",pm:"",midnight:".",noon:".",morning:"",afternoon:"",evening:".",night:""},wide:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:"",evening:"",night:""}},i9={narrow:{am:"",pm:"",midnight:".",noon:".",morning:"",afternoon:"",evening:".",night:""},abbreviated:{am:"",pm:"",midnight:".",noon:".",morning:"",afternoon:"",evening:".",night:""},wide:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:"",evening:"",night:""}},o9=(e,t)=>{const n=Number(e),r=t==null?void 0:t.unit;let s;return r==="date"?s="-":r==="week"||r==="minute"||r==="second"?s="-":s="-",n+s},a9={ordinalNumber:o9,era:vn({values:JV,defaultWidth:"wide"}),quarter:vn({values:e9,defaultWidth:"wide",argumentCallback:e=>e-1}),month:vn({values:t9,defaultWidth:"wide",formattingValues:n9,defaultFormattingWidth:"wide"}),day:vn({values:r9,defaultWidth:"wide"}),dayPeriod:vn({values:s9,defaultWidth:"any",formattingValues:i9,defaultFormattingWidth:"wide"})},l9=/^(\d+)(-?(||||||||||))?/i,c9=/\d+/i,u9={narrow:/^(( )?\.?\s?\.?)/i,abbreviated:/^(( )?\.?\s?\.?)/i,wide:/^(  | | )/i},d9={any:[/^/i,/^/i]},h9={narrow:/^[1234]/i,abbreviated:/^[1234](-?[]??)? .?/i,wide:/^[1234](-?[]??)? /i},f9={any:[/1/i,/2/i,/3/i,/4/i]},m9={narrow:/^[]/i,abbreviated:/^(||?||[]|[]?|[]?||?||?|)\.?/i,wide:/^([]|[]|?|[]|[]|[]|[]|?|[]|[]|[]|[]|[])/i},p9={narrow:[/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i],any:[/^/i,/^/i,/^/i,/^/i,/^[]/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i]},g9={narrow:/^[]/i,short:/^(|||||||||||)\.?/i,abbreviated:/^(||||||||||||).?/i,wide:/^([]|?|?|[]|?|[]|[])/i},v9={narrow:[/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i],any:[/^[]/i,/^[]/i,/^/i,/^/i,/^/i,/^[]/i,/^[]/i]},y9={narrow:/^([]|\.?|\.?|[]|||\.?|[])/i,abbreviated:/^([]|\.?|\.?|[]|||\.?|[])/i,wide:/^([]|||[]|||?|[])/i},x9={any:{am:/^/i,pm:/^/i,midnight:/^/i,noon:/^/i,morning:/^/i,afternoon:/^[]/i,evening:/^/i,night:/^/i}},_9={ordinalNumber:Lx({matchPattern:l9,parsePattern:c9,valueCallback:e=>parseInt(e,10)}),era:yn({matchPatterns:u9,defaultMatchWidth:"wide",parsePatterns:d9,defaultParseWidth:"any"}),quarter:yn({matchPatterns:h9,defaultMatchWidth:"wide",parsePatterns:f9,defaultParseWidth:"any",valueCallback:e=>e+1}),month:yn({matchPatterns:m9,defaultMatchWidth:"wide",parsePatterns:p9,defaultParseWidth:"any"}),day:yn({matchPatterns:g9,defaultMatchWidth:"wide",parsePatterns:v9,defaultParseWidth:"any"}),dayPeriod:yn({matchPatterns:y9,defaultMatchWidth:"wide",parsePatterns:x9,defaultParseWidth:"any"})},HT={code:"ru",formatDistance:WV,formatLong:ZV,formatRelative:QV,localize:a9,match:_9,options:{weekStartsOn:1,firstWeekContainsDate:1}};var w9="Label",GT=p.forwardRef((e,t)=>l.jsx(be.label,{...e,ref:t,onMouseDown:n=>{var s;n.target.closest("button, input, select, textarea")||((s=e.onMouseDown)==null||s.call(e,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));GT.displayName=w9;var ZT=GT;const b9=$o("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),fl=p.forwardRef(({className:e,...t},n)=>l.jsx(ZT,{ref:n,className:ee(b9(),e),...t}));fl.displayName=ZT.displayName;function S9({open:e,onOpenChange:t,post:n,onPostUpdated:r}){const[s,i]=p.useState(n.content),[a,c]=p.useState(n.impact_description||""),[d,h]=p.useState(!1),m=async()=>{var g;if(!s.trim()){cr({title:"",description:"  ",variant:"destructive"});return}h(!0);try{const{data:y}=await ve.auth.getSession();if(!((g=y==null?void 0:y.session)!=null&&g.access_token))throw new Error("Not authenticated");const v=await ve.functions.invoke("moderate-content",{body:{content:s.trim(),postId:n.id,action:"check"}});if(v.error)throw new Error(v.error.message);const b=v.data;if(!b.approved){let S=b.reason||"   ";b.actionTaken==="warning"?S+=`

  .`:b.actionTaken==="ban"&&(S+=`

   ${new Date(b.banUntil).toLocaleDateString("ru-RU")}.`),cr({title:" ",description:S,variant:"destructive"}),h(!1);return}const{error:x}=await ve.from("community_posts").update({content:s.trim(),impact_description:a.trim()||null,updated_at:new Date().toISOString()}).eq("id",n.id);if(x)throw x;cr({title:"",description:" "}),r(),t(!1)}catch(y){console.error("Error updating post:",y),cr({title:"",description:y.message||"   ",variant:"destructive"})}finally{h(!1)}};return l.jsx(xn,{open:e,onOpenChange:t,children:l.jsxs(on,{className:"sm:max-w-md",children:[l.jsx(wn,{children:l.jsx(bn,{children:" "})}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(fl,{htmlFor:"content",children:" "}),l.jsx(Uo,{id:"content",value:s,onChange:g=>i(g.target.value),placeholder:"  -...",rows:4,maxLength:500}),l.jsxs("p",{className:"text-xs text-muted-foreground text-right",children:[s.length,"/500"]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(fl,{htmlFor:"impact",children:"- ()"}),l.jsx(Gn,{id:"impact",value:a,onChange:g=>c(g.target.value),placeholder:": -12  CO",maxLength:50})]})]}),l.jsxs(rm,{children:[l.jsx(Te,{variant:"outline",onClick:()=>t(!1),children:""}),l.jsx(Te,{onClick:m,disabled:d,children:d?l.jsxs(l.Fragment,{children:[l.jsx(ct,{className:"w-4 h-4 mr-2 animate-spin"}),"..."]}):l.jsxs(l.Fragment,{children:[l.jsx(OM,{className:"w-4 h-4 mr-2"}),""]})})]})]})})}function KT(e){const t=p.useRef({value:e,previous:e});return p.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var $x="Radio",[k9,YT]=ln($x),[N9,C9]=k9($x),XT=p.forwardRef((e,t)=>{const{__scopeRadio:n,name:r,checked:s=!1,required:i,disabled:a,value:c="on",onCheck:d,form:h,...m}=e,[g,y]=p.useState(null),v=Fe(t,S=>y(S)),b=p.useRef(!1),x=g?h||!!g.closest("form"):!0;return l.jsxs(N9,{scope:n,checked:s,disabled:a,children:[l.jsx(be.button,{type:"button",role:"radio","aria-checked":s,"data-state":tE(s),"data-disabled":a?"":void 0,disabled:a,value:c,...m,ref:v,onClick:ae(e.onClick,S=>{s||d==null||d(),x&&(b.current=S.isPropagationStopped(),b.current||S.stopPropagation())})}),x&&l.jsx(eE,{control:g,bubbles:!b.current,name:r,value:c,checked:s,required:i,disabled:a,form:h,style:{transform:"translateX(-100%)"}})]})});XT.displayName=$x;var QT="RadioIndicator",JT=p.forwardRef((e,t)=>{const{__scopeRadio:n,forceMount:r,...s}=e,i=C9(QT,n);return l.jsx(cn,{present:r||i.checked,children:l.jsx(be.span,{"data-state":tE(i.checked),"data-disabled":i.disabled?"":void 0,...s,ref:t})})});JT.displayName=QT;var P9="RadioBubbleInput",eE=p.forwardRef(({__scopeRadio:e,control:t,checked:n,bubbles:r=!0,...s},i)=>{const a=p.useRef(null),c=Fe(a,i),d=KT(n),h=JN(t);return p.useEffect(()=>{const m=a.current;if(!m)return;const g=window.HTMLInputElement.prototype,v=Object.getOwnPropertyDescriptor(g,"checked").set;if(d!==n&&v){const b=new Event("click",{bubbles:r});v.call(m,n),m.dispatchEvent(b)}},[d,n,r]),l.jsx(be.input,{type:"radio","aria-hidden":!0,defaultChecked:n,...s,tabIndex:-1,ref:c,style:{...s.style,...h,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});eE.displayName=P9;function tE(e){return e?"checked":"unchecked"}var j9=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],im="RadioGroup",[T9,lq]=ln(im,[Al,YT]),nE=Al(),rE=YT(),[E9,R9]=T9(im),sE=p.forwardRef((e,t)=>{const{__scopeRadioGroup:n,name:r,defaultValue:s,value:i,required:a=!1,disabled:c=!1,orientation:d,dir:h,loop:m=!0,onValueChange:g,...y}=e,v=nE(n),b=Rl(h),[x,S]=$s({prop:i,defaultProp:s??null,onChange:g,caller:im});return l.jsx(E9,{scope:n,name:r,required:a,disabled:c,value:x,onValueChange:S,children:l.jsx(ux,{asChild:!0,...v,orientation:d,dir:b,loop:m,children:l.jsx(be.div,{role:"radiogroup","aria-required":a,"aria-orientation":d,"data-disabled":c?"":void 0,dir:b,...y,ref:t})})})});sE.displayName=im;var iE="RadioGroupItem",oE=p.forwardRef((e,t)=>{const{__scopeRadioGroup:n,disabled:r,...s}=e,i=R9(iE,n),a=i.disabled||r,c=nE(n),d=rE(n),h=p.useRef(null),m=Fe(t,h),g=i.value===s.value,y=p.useRef(!1);return p.useEffect(()=>{const v=x=>{j9.includes(x.key)&&(y.current=!0)},b=()=>y.current=!1;return document.addEventListener("keydown",v),document.addEventListener("keyup",b),()=>{document.removeEventListener("keydown",v),document.removeEventListener("keyup",b)}},[]),l.jsx(dx,{asChild:!0,...c,focusable:!a,active:g,children:l.jsx(XT,{disabled:a,required:i.required,checked:g,...d,...s,name:i.name,ref:m,onCheck:()=>i.onValueChange(s.value),onKeyDown:ae(v=>{v.key==="Enter"&&v.preventDefault()}),onFocus:ae(s.onFocus,()=>{var v;y.current&&((v=h.current)==null||v.click())})})})});oE.displayName=iE;var A9="RadioGroupIndicator",aE=p.forwardRef((e,t)=>{const{__scopeRadioGroup:n,...r}=e,s=rE(n);return l.jsx(JT,{...s,...r,ref:t})});aE.displayName=A9;var lE=sE,cE=oE,O9=aE;const uE=p.forwardRef(({className:e,...t},n)=>l.jsx(lE,{className:ee("grid gap-2",e),...t,ref:n}));uE.displayName=lE.displayName;const dE=p.forwardRef(({className:e,...t},n)=>l.jsx(cE,{ref:n,className:ee("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:l.jsx(O9,{className:"flex items-center justify-center",children:l.jsx(bN,{className:"h-2.5 w-2.5 fill-current text-current"})})}));dE.displayName=cE.displayName;const Fb=[{value:"off_topic",label:"   (   )"},{value:"spam",label:"  "},{value:"offensive",label:" "},{value:"misinformation",label:" "},{value:"other",label:""}];function L9({open:e,onOpenChange:t,postId:n,onReported:r}){const[s,i]=p.useState("off_topic"),[a,c]=p.useState(""),[d,h]=p.useState(!1),m=async()=>{h(!0);try{const g=Fb.find(x=>x.value===s),y=a.trim()?`${g==null?void 0:g.label}: ${a.trim()}`:(g==null?void 0:g.label)||" ",v=await ve.functions.invoke("moderate-content",{body:{postId:n,action:"report",reportReason:y}});if(v.error)throw new Error(v.error.message);const b=v.data;b.autoModerated?cr({title:" ",description:b.message}):cr({title:" ",description:b.message}),r(),t(!1),i("off_topic"),c("")}catch(g){console.error("Error reporting post:",g),cr({title:"",description:g.message||"   ",variant:"destructive"})}finally{h(!1)}};return l.jsx(xn,{open:e,onOpenChange:t,children:l.jsxs(on,{className:"sm:max-w-md",children:[l.jsxs(wn,{children:[l.jsxs(bn,{className:"flex items-center gap-2",children:[l.jsx(zg,{className:"w-5 h-5 text-destructive"}),"  "]}),l.jsx(Mn,{children:"  .    ."})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsx(uE,{value:s,onValueChange:i,children:Fb.map(g=>l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(dE,{value:g.value,id:g.value}),l.jsx(fl,{htmlFor:g.value,className:"cursor-pointer",children:g.label})]},g.value))}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(fl,{htmlFor:"additionalInfo",children:"  ()"}),l.jsx(Uo,{id:"additionalInfo",value:a,onChange:g=>c(g.target.value),placeholder:"   ...",rows:3,maxLength:300})]})]}),l.jsxs(rm,{children:[l.jsx(Te,{variant:"outline",onClick:()=>t(!1),children:""}),l.jsx(Te,{variant:"destructive",onClick:m,disabled:d,children:d?l.jsxs(l.Fragment,{children:[l.jsx(ct,{className:"w-4 h-4 mr-2 animate-spin"}),"..."]}):l.jsxs(l.Fragment,{children:[l.jsx(zg,{className:"w-4 h-4 mr-2"})," "]})})]})]})})}const M9=({open:e,onOpenChange:t,onConfirm:n})=>{const{t:r}=zt(),[s,i]=p.useState(!1),a=async()=>{i(!0);const c=await n();i(!1),c&&t(!1)};return l.jsx(_T,{open:e,onOpenChange:t,children:l.jsxs(wx,{children:[l.jsxs(bx,{children:[l.jsx(kx,{children:r.deletePost.title}),l.jsx(Nx,{children:r.deletePost.description})]}),l.jsxs(Sx,{children:[l.jsx(Px,{disabled:s,children:r.deletePost.cancel}),l.jsx(Cx,{onClick:a,disabled:s,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:s?l.jsxs(l.Fragment,{children:[l.jsx(ct,{className:"w-4 h-4 mr-2 animate-spin"}),r.deletePost.deleting]}):r.deletePost.delete})]})]})})},I9=e=>{switch(e){case"tree":return Su;case"transport":return js;case"recycle":return Rf;case"report":return Di;default:return Ty}},D9=e=>{switch(e){case"tree":return"bg-aqi-good text-primary-foreground";case"transport":return"bg-secondary text-secondary-foreground";case"recycle":return"bg-primary text-primary-foreground";case"report":return"bg-accent text-accent-foreground";default:return"bg-muted text-foreground"}},$9=({onRefreshNeeded:e})=>{const{user:t}=qt(),{t:n,language:r}=zt(),{posts:s,isLoading:i,likePost:a,refreshPosts:c,deletePost:d,pinPost:h}=UT(),[m,g]=p.useState(null),[y,v]=p.useState(null),[b,x]=p.useState(null),[S,N]=p.useState(null),w=()=>{switch(r){case"en":return Mx;case"kz":return qT;default:return HT}},k=E=>{t&&a(E)},P=()=>{c()},T=async()=>{if(!b)return!1;const E=await d(b);return cr(E?{title:n.feed.postDeleted,description:n.feed.postDeletedSuccess}:{title:n.toast.error,description:n.editPost.failedToUpdate,variant:"destructive"}),E},R=async(E,M)=>{N(E);const $=await h(E,M);N(null),cr($?{title:M?n.feed.postPinned:n.feed.postUnpinned,description:M?n.feed.postPinnedDesc:n.feed.postUnpinnedDesc}:{title:n.toast.error,description:M?n.feed.pinError:n.feed.unpinError,variant:"destructive"})};return i?l.jsx("div",{className:"glass-card rounded-2xl p-6 shadow-elevated animate-slide-up",children:l.jsx("div",{className:"flex items-center justify-center py-12",children:l.jsx(ct,{className:"w-8 h-8 animate-spin text-primary"})})}):l.jsxs("div",{className:"glass-card rounded-2xl p-6 shadow-elevated animate-slide-up",children:[l.jsxs("div",{className:"flex items-center justify-between mb-6",children:[l.jsxs("h3",{className:"font-display font-bold text-lg",children:[" ",n.feed.ecoCommunity]}),l.jsx("button",{onClick:c,className:"text-sm text-primary font-medium hover:underline",children:n.feed.refresh})]}),l.jsx("div",{className:"space-y-4",children:s.length===0?l.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[l.jsx(Ty,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),l.jsx("p",{children:n.feed.noPosts}),l.jsx("p",{className:"text-sm",children:n.feed.beFirst})]}):s.map(E=>{var Q;const M=I9(E.post_type),$=WT(new Date(E.created_at),{addSuffix:!0,locale:w()}),V=(t==null?void 0:t.id)===E.user_id;return l.jsxs("div",{className:`p-4 rounded-xl hover:bg-muted/50 transition-all ${E.is_pinned?"bg-primary/5 border-2 border-primary/20":"bg-muted/30"}`,children:[E.is_pinned&&l.jsxs("div",{className:"flex items-center gap-1.5 text-primary text-xs font-medium mb-2",children:[l.jsx(p0,{className:"w-3 h-3"}),l.jsx("span",{children:n.feed.pinned})]}),l.jsxs("div",{className:"flex items-start justify-between mb-3",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsxs(ax,{className:"w-10 h-10",children:[l.jsx(lx,{src:E.user_avatar||void 0}),l.jsx(cx,{className:"bg-primary/20 text-primary font-semibold",children:((Q=E.user_name)==null?void 0:Q.charAt(0))||"A"})]}),l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"font-semibold",children:E.user_name}),E.is_verified&&l.jsx(Ch,{className:"w-4 h-4 text-secondary fill-secondary/20"}),l.jsxs("span",{className:"text-xs bg-primary/10 text-primary px-2 py-0.5 rounded-full",children:["Lv.",E.user_level]})]}),l.jsx("span",{className:"text-xs text-muted-foreground",children:$})]})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:`w-8 h-8 rounded-lg ${D9(E.post_type)} flex items-center justify-center`,children:l.jsx(M,{className:"w-4 h-4"})}),t&&l.jsxs(xx,{children:[l.jsx(_x,{className:"p-1 hover:bg-muted rounded-md transition-colors",children:l.jsx(_M,{className:"w-4 h-4 text-muted-foreground"})}),l.jsxs(tm,{align:"end",children:[V&&l.jsxs(l.Fragment,{children:[l.jsxs(Ar,{onClick:()=>g({id:E.id,content:E.content,impact_description:E.impact_description}),children:[l.jsx(TM,{className:"w-4 h-4 mr-2"}),n.feed.edit]}),l.jsxs(Ar,{onClick:()=>x(E.id),className:"text-destructive focus:text-destructive",children:[l.jsx(Ry,{className:"w-4 h-4 mr-2"}),n.feed.delete]})]}),!V&&l.jsxs(l.Fragment,{children:[l.jsxs(Ar,{onClick:()=>v(E.id),className:"text-destructive focus:text-destructive",children:[l.jsx(zg,{className:"w-4 h-4 mr-2"}),n.feed.report]}),l.jsx(qh,{}),l.jsx(Ar,{onClick:()=>R(E.id,!E.is_pinned),disabled:S===E.id,children:E.is_pinned?l.jsxs(l.Fragment,{children:[l.jsx(RM,{className:"w-4 h-4 mr-2"}),n.feed.unpin]}):l.jsxs(l.Fragment,{children:[l.jsx(p0,{className:"w-4 h-4 mr-2"}),n.feed.pin]})})]})]})]})]})]}),l.jsx("p",{className:"text-sm mb-3",children:E.content}),E.image_url&&l.jsx("div",{className:"mb-3",children:l.jsx("img",{src:E.image_url,alt:"Post image",className:"rounded-lg max-h-64 w-auto object-cover",loading:"lazy"})}),E.impact_description&&l.jsxs("div",{className:"inline-flex items-center gap-1.5 px-3 py-1 bg-primary/10 text-primary rounded-full text-sm font-medium mb-4",children:[" ",E.impact_description]}),l.jsxs("div",{className:"flex items-center gap-6 text-muted-foreground",children:[l.jsxs("button",{onClick:()=>k(E.id),className:`flex items-center gap-1.5 transition-colors ${E.is_liked?"text-destructive":"hover:text-destructive"}`,children:[l.jsx(ai,{className:`w-4 h-4 ${E.is_liked?"fill-current":""}`}),l.jsx("span",{className:"text-sm",children:E.likes_count})]}),l.jsxs("button",{className:"flex items-center gap-1.5 hover:text-primary transition-colors",children:[l.jsx(NN,{className:"w-4 h-4"}),l.jsx("span",{className:"text-sm",children:E.comments_count})]}),l.jsx("button",{className:"flex items-center gap-1.5 hover:text-secondary transition-colors",children:l.jsx(MM,{className:"w-4 h-4"})})]})]},E.id)})}),m&&l.jsx(S9,{open:!!m,onOpenChange:E=>!E&&g(null),post:m,onPostUpdated:P}),y&&l.jsx(L9,{open:!!y,onOpenChange:E=>!E&&v(null),postId:y,onReported:P}),l.jsx(M9,{open:!!b,onOpenChange:E=>!E&&x(null),onConfirm:T})]})},zb=[{id:"general",label:"",icon:Ty,color:"bg-muted text-foreground"},{id:"tree",label:"",icon:Su,color:"bg-aqi-good text-primary-foreground"},{id:"transport",label:"",icon:js,color:"bg-secondary text-secondary-foreground"},{id:"recycle",label:"",icon:Rf,color:"bg-primary text-primary-foreground"},{id:"report",label:"",icon:Di,color:"bg-accent text-accent-foreground"}];function F9({open:e,onOpenChange:t,onPostCreated:n}){const{user:r}=qt(),[s,i]=p.useState(""),[a,c]=p.useState("general"),[d,h]=p.useState(""),[m,g]=p.useState(!1),[y,v]=p.useState(null),[b,x]=p.useState(null),S=p.useRef(null),N=R=>{var $;const E=($=R.target.files)==null?void 0:$[0];if(!E)return;if(!E.type.startsWith("image/")){Pe.error(",  ");return}if(E.size>5*1024*1024){Pe.error("     5 ");return}x(E);const M=new FileReader;M.onload=V=>{var Q;v((Q=V.target)==null?void 0:Q.result)},M.readAsDataURL(E)},w=()=>{x(null),v(null),S.current&&(S.current.value="")},k=async R=>{try{const E=R.name.split(".").pop(),M=`${r.id}/${Date.now()}.${E}`,{error:$}=await ve.storage.from("post-images").upload(M,R);if($)return console.error("Upload error:",$),null;const{data:V}=ve.storage.from("post-images").getPublicUrl(M);return V.publicUrl}catch(E){return console.error("Error uploading image:",E),null}},P=async()=>{if(!r){Pe.error("     ");return}if(!s.trim()){Pe.error(" -");return}if(s.trim().length<10){Pe.error("    10 ");return}g(!0);try{const R=await ve.functions.invoke("moderate-content",{body:{content:s.trim(),action:"check"}});if(R.error)throw new Error(R.error.message);const E=R.data;if(!E.approved){let V=E.reason||"   ";E.actionTaken==="warning"?V+=`

  .`:E.actionTaken==="ban"&&(V+=`

   ${new Date(E.banUntil).toLocaleDateString("ru-RU")}.`),Pe.error(V),g(!1);return}let M=null;b&&(M=await k(b));const{error:$}=await ve.from("community_posts").insert({user_id:r.id,content:s.trim(),post_type:a,impact_description:d.trim()||null,image_url:M});if($)throw $;Pe.success(" ! "),i(""),c("general"),h(""),x(null),v(null),t(!1),n()}catch(R){console.error("Error creating post:",R),Pe.error(R.message||"   ")}finally{g(!1)}},T=zb.find(R=>R.id===a);return l.jsx(xn,{open:e,onOpenChange:t,children:l.jsxs(on,{className:"max-w-lg",children:[l.jsxs(wn,{children:[l.jsxs(bn,{className:"flex items-center gap-2",children:[l.jsx(Kc,{className:"w-5 h-5 text-primary"})," "]}),l.jsx(Mn,{children:"  -  "})]}),l.jsxs("div",{className:"space-y-4 mt-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"text-sm font-medium mb-2 block",children:" "}),l.jsx("div",{className:"flex flex-wrap gap-2",children:zb.map(R=>{const E=R.icon,M=a===R.id;return l.jsxs("button",{type:"button",onClick:()=>c(R.id),className:`flex items-center gap-2 px-3 py-2 rounded-lg text-sm font-medium transition-all ${M?R.color:"bg-muted/50 text-muted-foreground hover:bg-muted"}`,children:[l.jsx(E,{className:"w-4 h-4"}),R.label]},R.id)})})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-sm font-medium mb-2 block",children:""}),l.jsx(Uo,{placeholder:"   -...",value:s,onChange:R=>i(R.target.value),rows:4,maxLength:500,className:"resize-none"}),l.jsxs("p",{className:"text-xs text-muted-foreground mt-1 text-right",children:[s.length,"/500"]})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"text-sm font-medium mb-2 block",children:[" ",l.jsx("span",{className:"text-muted-foreground",children:"()"})]}),y?l.jsxs("div",{className:"relative inline-block",children:[l.jsx("img",{src:y,alt:"Preview",className:"max-h-40 rounded-lg object-cover"}),l.jsx("button",{type:"button",onClick:w,className:"absolute -top-2 -right-2 p-1 bg-destructive text-destructive-foreground rounded-full hover:bg-destructive/90",children:l.jsx(Ws,{className:"w-4 h-4"})})]}):l.jsxs("div",{children:[l.jsx("input",{ref:S,type:"file",accept:"image/*",onChange:N,className:"hidden",id:"post-image-input"}),l.jsxs("label",{htmlFor:"post-image-input",className:"flex items-center gap-2 px-4 py-3 border-2 border-dashed border-border rounded-lg cursor-pointer hover:border-primary/50 hover:bg-muted/50 transition-all",children:[l.jsx(SN,{className:"w-5 h-5 text-muted-foreground"}),l.jsx("span",{className:"text-sm text-muted-foreground",children:"    (. 5 )"})]})]})]}),a!=="general"&&l.jsxs("div",{children:[l.jsxs("label",{className:"text-sm font-medium mb-2 block",children:["  ",l.jsx("span",{className:"text-muted-foreground",children:"()"})]}),l.jsx(Gn,{placeholder:": -12  CO, 5  ",value:d,onChange:R=>h(R.target.value),maxLength:100})]}),s.trim()&&l.jsxs("div",{className:"p-4 bg-muted/30 rounded-xl border border-border/50",children:[l.jsx("p",{className:"text-xs text-muted-foreground mb-2",children:":"}),l.jsxs("div",{className:"flex items-start gap-3",children:[T&&l.jsx("div",{className:`w-8 h-8 rounded-lg ${T.color} flex items-center justify-center flex-shrink-0`,children:l.jsx(T.icon,{className:"w-4 h-4"})}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("p",{className:"text-sm",children:s}),y&&l.jsx("img",{src:y,alt:"Preview",className:"max-h-24 rounded-lg object-cover mt-2"}),d&&l.jsxs("div",{className:"inline-flex items-center gap-1.5 px-2 py-0.5 bg-primary/10 text-primary rounded-full text-xs font-medium mt-2",children:[" ",d]})]})]})]}),l.jsx(Te,{onClick:P,disabled:m||!s.trim(),className:"w-full",children:m?l.jsxs(l.Fragment,{children:[l.jsx(ct,{className:"w-4 h-4 mr-2 animate-spin"}),"..."]}):l.jsxs(l.Fragment,{children:[l.jsx(Kc,{className:"w-4 h-4 mr-2"}),""]})})]})]})})}const z9=()=>{const e=jl(),{t}=zt(),{isAuthenticated:n}=qt(),{refreshPosts:r}=UT(),[s,i]=p.useState(!1),a=()=>{if(!n){e("/auth");return}i(!0)};return l.jsxs("div",{className:"p-6 max-w-6xl mx-auto space-y-6",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsxs("h1",{className:"text-3xl font-display font-bold flex items-center gap-3",children:[l.jsx(ll,{className:"w-8 h-8 text-secondary"}),t.community.title]}),l.jsx("p",{className:"text-muted-foreground mt-1",children:t.community.together})]}),l.jsxs(Te,{onClick:a,className:"gap-2",children:[l.jsx(jh,{className:"w-4 h-4"}),t.community.createPost]})]}),l.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[l.jsxs("div",{className:"glass-card rounded-2xl p-4 text-center",children:[l.jsx("p",{className:"text-3xl font-bold text-primary",children:"12,450"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:t.community.activeMembers})]}),l.jsxs("div",{className:"glass-card rounded-2xl p-4 text-center",children:[l.jsx("p",{className:"text-3xl font-bold text-secondary",children:"3,280"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:t.community.treesPlanted})]}),l.jsxs("div",{className:"glass-card rounded-2xl p-4 text-center",children:[l.jsx("p",{className:"text-3xl font-bold text-accent",children:"856"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:t.community.reportsThisWeek})]}),l.jsxs("div",{className:"glass-card rounded-2xl p-4 text-center",children:[l.jsxs("p",{className:"text-3xl font-bold text-aqi-good",children:["45.2 ",t.units.kg]}),l.jsx("p",{className:"text-sm text-muted-foreground",children:t.community.co2Prevented})]})]}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[l.jsx("div",{className:"lg:col-span-2",children:l.jsx($9,{})}),l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"glass-card rounded-2xl p-6",children:[l.jsxs("h3",{className:"font-display font-bold text-lg flex items-center gap-2 mb-4",children:[l.jsx(gM,{className:"w-5 h-5 text-accent"}),t.community.topContributors]}),l.jsx("div",{className:"space-y-3",children:[{name:" .",avatar:"",score:1250,badge:""},{name:" .",avatar:"",score:980,badge:""},{name:" .",avatar:"",score:875,badge:""},{name:" .",avatar:"",score:720,badge:""},{name:t.community.you,avatar:"",score:650,badge:""}].map((c,d)=>l.jsxs("div",{className:`flex items-center gap-3 p-2 rounded-lg ${c.name===t.community.you?"bg-primary/10":""}`,children:[l.jsx("span",{className:"text-lg font-bold text-muted-foreground w-5",children:d+1}),l.jsx("span",{className:"text-2xl",children:c.avatar}),l.jsx("div",{className:"flex-1",children:l.jsxs("p",{className:"font-medium text-sm",children:[c.name," ",c.badge]})}),l.jsx("span",{className:"font-bold text-sm text-primary",children:c.score})]},d))})]}),l.jsxs("div",{className:"glass-card rounded-2xl p-6",children:[l.jsxs("h3",{className:"font-display font-bold text-lg flex items-center gap-2 mb-4",children:[l.jsx(Th,{className:"w-5 h-5 text-primary"}),t.community.activeChallenges]}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"p-3 bg-primary/10 rounded-xl border border-primary/20",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsxs("span",{className:"font-medium text-sm",children:[" ",t.community.weekWithoutCar]}),l.jsxs("span",{className:"text-xs text-primary",children:["4 ",t.community.days]})]}),l.jsx("div",{className:"h-2 bg-muted rounded-full overflow-hidden",children:l.jsx("div",{className:"h-full bg-primary w-[60%]"})}),l.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["342 ",t.community.participants]})]}),l.jsxs("div",{className:"p-3 bg-secondary/10 rounded-xl border border-secondary/20",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsxs("span",{className:"font-medium text-sm",children:[" ",t.community.plant5Trees]}),l.jsxs("span",{className:"text-xs text-secondary",children:["12 ",t.community.days]})]}),l.jsx("div",{className:"h-2 bg-muted rounded-full overflow-hidden",children:l.jsx("div",{className:"h-full bg-secondary w-[30%]"})}),l.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["128 ",t.community.participants]})]})]})]}),l.jsxs("div",{className:"glass-card rounded-2xl p-6",children:[l.jsxs("h3",{className:"font-display font-bold text-lg flex items-center gap-2 mb-4",children:[l.jsx(NN,{className:"w-5 h-5 text-secondary"}),t.community.discussions]}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("button",{className:"w-full text-left p-3 bg-muted/50 rounded-lg hover:bg-muted transition-colors",children:[l.jsxs("p",{className:"font-medium text-sm",children:[" ",t.community.generalChat]}),l.jsxs("p",{className:"text-xs text-muted-foreground",children:["1,234 ",t.community.messages]})]}),l.jsxs("button",{className:"w-full text-left p-3 bg-muted/50 rounded-lg hover:bg-muted transition-colors",children:[l.jsxs("p",{className:"font-medium text-sm",children:[" ",t.community.industrialEmissions]}),l.jsxs("p",{className:"text-xs text-muted-foreground",children:["456 ",t.community.messages]})]}),l.jsxs("button",{className:"w-full text-left p-3 bg-muted/50 rounded-lg hover:bg-muted transition-colors",children:[l.jsxs("p",{className:"font-medium text-sm",children:[" ",t.community.vehicles]}),l.jsxs("p",{className:"text-xs text-muted-foreground",children:["289 ",t.community.messages]})]})]})]})]})]}),l.jsx(F9,{open:s,onOpenChange:i,onPostCreated:r})]})},B9=e=>{switch(e){case 1:return"bg-gradient-to-r from-amber-400 to-amber-500 text-amber-900";case 2:return"bg-gradient-to-r from-gray-300 to-gray-400 text-gray-700";case 3:return"bg-gradient-to-r from-amber-600 to-amber-700 text-amber-100";default:return"bg-muted text-muted-foreground"}},U9=(e,t)=>l.jsx(CM,{className:"w-4 h-4 text-muted-foreground"}),V9=({districts:e,userDistrictId:t,isLoading:n,initialVisibleCount:r=10})=>{const{t:s}=zt(),[i,a]=p.useState(!1),c=i?e:e.slice(0,r),d=e.length>r;return n?l.jsxs("div",{className:"glass-card rounded-2xl p-6 shadow-elevated animate-pulse",children:[l.jsx("div",{className:"h-6 bg-muted rounded w-1/3 mb-6"}),l.jsx("div",{className:"space-y-3",children:[...Array(5)].map((h,m)=>l.jsx("div",{className:"h-16 bg-muted rounded-xl"},m))})]}):l.jsxs("div",{className:"glass-card rounded-2xl p-6 shadow-elevated animate-slide-up",children:[l.jsxs("div",{className:"flex items-center justify-between mb-6",children:[l.jsxs("h3",{className:"font-display font-bold text-lg flex items-center gap-2",children:[l.jsx(Fs,{className:"w-5 h-5 text-accent"}),s.districtBattle.ranking]}),l.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[l.jsx(bM,{className:"w-4 h-4"}),s.districtBattle.prize,": 50,000 Eco-Coins"]})]}),l.jsx("div",{className:"space-y-3",children:c.map(h=>l.jsxs("div",{className:`flex items-center gap-4 p-3 rounded-xl transition-all hover:bg-muted/50 ${h.current_rank===1?"bg-accent/10 border border-accent/20":""} ${t===h.id?"ring-2 ring-primary":""}`,children:[l.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center font-bold text-sm ${B9(h.current_rank)}`,children:h.current_rank<=3?l.jsx(NM,{className:"w-4 h-4"}):h.current_rank}),l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"font-semibold",children:h.name}),t===h.id&&l.jsx("span",{className:"text-xs bg-primary/20 text-primary px-2 py-0.5 rounded-full",children:s.districtBattle.yourDistrict}),U9(h.current_rank)]}),l.jsxs("div",{className:"flex items-center gap-3 text-xs text-muted-foreground",children:[l.jsxs("span",{className:"flex items-center gap-1",children:[l.jsx(ll,{className:"w-3 h-3"}),h.participants_count]}),l.jsxs("span",{children:[" ",h.trees_planted]}),l.jsxs("span",{children:[" ",h.reports_sent]})]})]}),l.jsxs("div",{className:"text-right",children:[l.jsx("p",{className:"font-display font-bold text-lg",children:h.total_score.toLocaleString()}),l.jsx("p",{className:"text-xs text-muted-foreground",children:s.districtBattle.points})]})]},h.id))}),d&&l.jsx(Te,{variant:"ghost",className:"w-full mt-4 text-muted-foreground hover:text-foreground",onClick:()=>a(!i),children:i?l.jsxs(l.Fragment,{children:[l.jsx(wN,{className:"w-4 h-4 mr-2"}),s.districtBattle.hide," (",e.length-r,")"]}):l.jsxs(l.Fragment,{children:[l.jsx(Tf,{className:"w-4 h-4 mr-2"}),s.districtBattle.showMore," (",e.length-r,")"]})})]})};function pv(e,[t,n]){return Math.min(n,Math.max(t,e))}function W9(e,t){return p.useReducer((n,r)=>t[n][r]??n,e)}var Fx="ScrollArea",[hE,cq]=ln(Fx),[q9,mr]=hE(Fx),fE=p.forwardRef((e,t)=>{const{__scopeScrollArea:n,type:r="hover",dir:s,scrollHideDelay:i=600,...a}=e,[c,d]=p.useState(null),[h,m]=p.useState(null),[g,y]=p.useState(null),[v,b]=p.useState(null),[x,S]=p.useState(null),[N,w]=p.useState(0),[k,P]=p.useState(0),[T,R]=p.useState(!1),[E,M]=p.useState(!1),$=Fe(t,Q=>d(Q)),V=Rl(s);return l.jsx(q9,{scope:n,type:r,dir:V,scrollHideDelay:i,scrollArea:c,viewport:h,onViewportChange:m,content:g,onContentChange:y,scrollbarX:v,onScrollbarXChange:b,scrollbarXEnabled:T,onScrollbarXEnabledChange:R,scrollbarY:x,onScrollbarYChange:S,scrollbarYEnabled:E,onScrollbarYEnabledChange:M,onCornerWidthChange:w,onCornerHeightChange:P,children:l.jsx(be.div,{dir:V,...a,ref:$,style:{position:"relative","--radix-scroll-area-corner-width":N+"px","--radix-scroll-area-corner-height":k+"px",...e.style}})})});fE.displayName=Fx;var mE="ScrollAreaViewport",pE=p.forwardRef((e,t)=>{const{__scopeScrollArea:n,children:r,nonce:s,...i}=e,a=mr(mE,n),c=p.useRef(null),d=Fe(t,c,a.onViewportChange);return l.jsxs(l.Fragment,{children:[l.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),l.jsx(be.div,{"data-radix-scroll-area-viewport":"",...i,ref:d,style:{overflowX:a.scrollbarXEnabled?"scroll":"hidden",overflowY:a.scrollbarYEnabled?"scroll":"hidden",...e.style},children:l.jsx("div",{ref:a.onContentChange,style:{minWidth:"100%",display:"table"},children:r})})]})});pE.displayName=mE;var ms="ScrollAreaScrollbar",zx=p.forwardRef((e,t)=>{const{forceMount:n,...r}=e,s=mr(ms,e.__scopeScrollArea),{onScrollbarXEnabledChange:i,onScrollbarYEnabledChange:a}=s,c=e.orientation==="horizontal";return p.useEffect(()=>(c?i(!0):a(!0),()=>{c?i(!1):a(!1)}),[c,i,a]),s.type==="hover"?l.jsx(H9,{...r,ref:t,forceMount:n}):s.type==="scroll"?l.jsx(G9,{...r,ref:t,forceMount:n}):s.type==="auto"?l.jsx(gE,{...r,ref:t,forceMount:n}):s.type==="always"?l.jsx(Bx,{...r,ref:t}):null});zx.displayName=ms;var H9=p.forwardRef((e,t)=>{const{forceMount:n,...r}=e,s=mr(ms,e.__scopeScrollArea),[i,a]=p.useState(!1);return p.useEffect(()=>{const c=s.scrollArea;let d=0;if(c){const h=()=>{window.clearTimeout(d),a(!0)},m=()=>{d=window.setTimeout(()=>a(!1),s.scrollHideDelay)};return c.addEventListener("pointerenter",h),c.addEventListener("pointerleave",m),()=>{window.clearTimeout(d),c.removeEventListener("pointerenter",h),c.removeEventListener("pointerleave",m)}}},[s.scrollArea,s.scrollHideDelay]),l.jsx(cn,{present:n||i,children:l.jsx(gE,{"data-state":i?"visible":"hidden",...r,ref:t})})}),G9=p.forwardRef((e,t)=>{const{forceMount:n,...r}=e,s=mr(ms,e.__scopeScrollArea),i=e.orientation==="horizontal",a=am(()=>d("SCROLL_END"),100),[c,d]=W9("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return p.useEffect(()=>{if(c==="idle"){const h=window.setTimeout(()=>d("HIDE"),s.scrollHideDelay);return()=>window.clearTimeout(h)}},[c,s.scrollHideDelay,d]),p.useEffect(()=>{const h=s.viewport,m=i?"scrollLeft":"scrollTop";if(h){let g=h[m];const y=()=>{const v=h[m];g!==v&&(d("SCROLL"),a()),g=v};return h.addEventListener("scroll",y),()=>h.removeEventListener("scroll",y)}},[s.viewport,i,d,a]),l.jsx(cn,{present:n||c!=="hidden",children:l.jsx(Bx,{"data-state":c==="hidden"?"hidden":"visible",...r,ref:t,onPointerEnter:ae(e.onPointerEnter,()=>d("POINTER_ENTER")),onPointerLeave:ae(e.onPointerLeave,()=>d("POINTER_LEAVE"))})})}),gE=p.forwardRef((e,t)=>{const n=mr(ms,e.__scopeScrollArea),{forceMount:r,...s}=e,[i,a]=p.useState(!1),c=e.orientation==="horizontal",d=am(()=>{if(n.viewport){const h=n.viewport.offsetWidth<n.viewport.scrollWidth,m=n.viewport.offsetHeight<n.viewport.scrollHeight;a(c?h:m)}},10);return ml(n.viewport,d),ml(n.content,d),l.jsx(cn,{present:r||i,children:l.jsx(Bx,{"data-state":i?"visible":"hidden",...s,ref:t})})}),Bx=p.forwardRef((e,t)=>{const{orientation:n="vertical",...r}=e,s=mr(ms,e.__scopeScrollArea),i=p.useRef(null),a=p.useRef(0),[c,d]=p.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),h=wE(c.viewport,c.content),m={...r,sizes:c,onSizesChange:d,hasThumb:h>0&&h<1,onThumbChange:y=>i.current=y,onThumbPointerUp:()=>a.current=0,onThumbPointerDown:y=>a.current=y};function g(y,v){return J9(y,a.current,c,v)}return n==="horizontal"?l.jsx(Z9,{...m,ref:t,onThumbPositionChange:()=>{if(s.viewport&&i.current){const y=s.viewport.scrollLeft,v=Bb(y,c,s.dir);i.current.style.transform=`translate3d(${v}px, 0, 0)`}},onWheelScroll:y=>{s.viewport&&(s.viewport.scrollLeft=y)},onDragScroll:y=>{s.viewport&&(s.viewport.scrollLeft=g(y,s.dir))}}):n==="vertical"?l.jsx(K9,{...m,ref:t,onThumbPositionChange:()=>{if(s.viewport&&i.current){const y=s.viewport.scrollTop,v=Bb(y,c);i.current.style.transform=`translate3d(0, ${v}px, 0)`}},onWheelScroll:y=>{s.viewport&&(s.viewport.scrollTop=y)},onDragScroll:y=>{s.viewport&&(s.viewport.scrollTop=g(y))}}):null}),Z9=p.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...s}=e,i=mr(ms,e.__scopeScrollArea),[a,c]=p.useState(),d=p.useRef(null),h=Fe(t,d,i.onScrollbarXChange);return p.useEffect(()=>{d.current&&c(getComputedStyle(d.current))},[d]),l.jsx(yE,{"data-orientation":"horizontal",...s,ref:h,sizes:n,style:{bottom:0,left:i.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:i.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":om(n)+"px",...e.style},onThumbPointerDown:m=>e.onThumbPointerDown(m.x),onDragScroll:m=>e.onDragScroll(m.x),onWheelScroll:(m,g)=>{if(i.viewport){const y=i.viewport.scrollLeft+m.deltaX;e.onWheelScroll(y),SE(y,g)&&m.preventDefault()}},onResize:()=>{d.current&&i.viewport&&a&&r({content:i.viewport.scrollWidth,viewport:i.viewport.offsetWidth,scrollbar:{size:d.current.clientWidth,paddingStart:Xh(a.paddingLeft),paddingEnd:Xh(a.paddingRight)}})}})}),K9=p.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...s}=e,i=mr(ms,e.__scopeScrollArea),[a,c]=p.useState(),d=p.useRef(null),h=Fe(t,d,i.onScrollbarYChange);return p.useEffect(()=>{d.current&&c(getComputedStyle(d.current))},[d]),l.jsx(yE,{"data-orientation":"vertical",...s,ref:h,sizes:n,style:{top:0,right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":om(n)+"px",...e.style},onThumbPointerDown:m=>e.onThumbPointerDown(m.y),onDragScroll:m=>e.onDragScroll(m.y),onWheelScroll:(m,g)=>{if(i.viewport){const y=i.viewport.scrollTop+m.deltaY;e.onWheelScroll(y),SE(y,g)&&m.preventDefault()}},onResize:()=>{d.current&&i.viewport&&a&&r({content:i.viewport.scrollHeight,viewport:i.viewport.offsetHeight,scrollbar:{size:d.current.clientHeight,paddingStart:Xh(a.paddingTop),paddingEnd:Xh(a.paddingBottom)}})}})}),[Y9,vE]=hE(ms),yE=p.forwardRef((e,t)=>{const{__scopeScrollArea:n,sizes:r,hasThumb:s,onThumbChange:i,onThumbPointerUp:a,onThumbPointerDown:c,onThumbPositionChange:d,onDragScroll:h,onWheelScroll:m,onResize:g,...y}=e,v=mr(ms,n),[b,x]=p.useState(null),S=Fe(t,$=>x($)),N=p.useRef(null),w=p.useRef(""),k=v.viewport,P=r.content-r.viewport,T=kt(m),R=kt(d),E=am(g,10);function M($){if(N.current){const V=$.clientX-N.current.left,Q=$.clientY-N.current.top;h({x:V,y:Q})}}return p.useEffect(()=>{const $=V=>{const Q=V.target;(b==null?void 0:b.contains(Q))&&T(V,P)};return document.addEventListener("wheel",$,{passive:!1}),()=>document.removeEventListener("wheel",$,{passive:!1})},[k,b,P,T]),p.useEffect(R,[r,R]),ml(b,E),ml(v.content,E),l.jsx(Y9,{scope:n,scrollbar:b,hasThumb:s,onThumbChange:kt(i),onThumbPointerUp:kt(a),onThumbPositionChange:R,onThumbPointerDown:kt(c),children:l.jsx(be.div,{...y,ref:S,style:{position:"absolute",...y.style},onPointerDown:ae(e.onPointerDown,$=>{$.button===0&&($.target.setPointerCapture($.pointerId),N.current=b.getBoundingClientRect(),w.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",v.viewport&&(v.viewport.style.scrollBehavior="auto"),M($))}),onPointerMove:ae(e.onPointerMove,M),onPointerUp:ae(e.onPointerUp,$=>{const V=$.target;V.hasPointerCapture($.pointerId)&&V.releasePointerCapture($.pointerId),document.body.style.webkitUserSelect=w.current,v.viewport&&(v.viewport.style.scrollBehavior=""),N.current=null})})})}),Yh="ScrollAreaThumb",xE=p.forwardRef((e,t)=>{const{forceMount:n,...r}=e,s=vE(Yh,e.__scopeScrollArea);return l.jsx(cn,{present:n||s.hasThumb,children:l.jsx(X9,{ref:t,...r})})}),X9=p.forwardRef((e,t)=>{const{__scopeScrollArea:n,style:r,...s}=e,i=mr(Yh,n),a=vE(Yh,n),{onThumbPositionChange:c}=a,d=Fe(t,g=>a.onThumbChange(g)),h=p.useRef(void 0),m=am(()=>{h.current&&(h.current(),h.current=void 0)},100);return p.useEffect(()=>{const g=i.viewport;if(g){const y=()=>{if(m(),!h.current){const v=eW(g,c);h.current=v,c()}};return c(),g.addEventListener("scroll",y),()=>g.removeEventListener("scroll",y)}},[i.viewport,m,c]),l.jsx(be.div,{"data-state":a.hasThumb?"visible":"hidden",...s,ref:d,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:ae(e.onPointerDownCapture,g=>{const v=g.target.getBoundingClientRect(),b=g.clientX-v.left,x=g.clientY-v.top;a.onThumbPointerDown({x:b,y:x})}),onPointerUp:ae(e.onPointerUp,a.onThumbPointerUp)})});xE.displayName=Yh;var Ux="ScrollAreaCorner",_E=p.forwardRef((e,t)=>{const n=mr(Ux,e.__scopeScrollArea),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?l.jsx(Q9,{...e,ref:t}):null});_E.displayName=Ux;var Q9=p.forwardRef((e,t)=>{const{__scopeScrollArea:n,...r}=e,s=mr(Ux,n),[i,a]=p.useState(0),[c,d]=p.useState(0),h=!!(i&&c);return ml(s.scrollbarX,()=>{var g;const m=((g=s.scrollbarX)==null?void 0:g.offsetHeight)||0;s.onCornerHeightChange(m),d(m)}),ml(s.scrollbarY,()=>{var g;const m=((g=s.scrollbarY)==null?void 0:g.offsetWidth)||0;s.onCornerWidthChange(m),a(m)}),h?l.jsx(be.div,{...r,ref:t,style:{width:i,height:c,position:"absolute",right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function Xh(e){return e?parseInt(e,10):0}function wE(e,t){const n=e/t;return isNaN(n)?0:n}function om(e){const t=wE(e.viewport,e.content),n=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,r=(e.scrollbar.size-n)*t;return Math.max(r,18)}function J9(e,t,n,r="ltr"){const s=om(n),i=s/2,a=t||i,c=s-a,d=n.scrollbar.paddingStart+a,h=n.scrollbar.size-n.scrollbar.paddingEnd-c,m=n.content-n.viewport,g=r==="ltr"?[0,m]:[m*-1,0];return bE([d,h],g)(e)}function Bb(e,t,n="ltr"){const r=om(t),s=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,i=t.scrollbar.size-s,a=t.content-t.viewport,c=i-r,d=n==="ltr"?[0,a]:[a*-1,0],h=pv(e,d);return bE([0,a],[0,c])(h)}function bE(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(n-e[0])}}function SE(e,t){return e>0&&e<t}var eW=(e,t=()=>{})=>{let n={left:e.scrollLeft,top:e.scrollTop},r=0;return function s(){const i={left:e.scrollLeft,top:e.scrollTop},a=n.left!==i.left,c=n.top!==i.top;(a||c)&&t(),n=i,r=window.requestAnimationFrame(s)}(),()=>window.cancelAnimationFrame(r)};function am(e,t){const n=kt(e),r=p.useRef(0);return p.useEffect(()=>()=>window.clearTimeout(r.current),[]),p.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(n,t)},[n,t])}function ml(e,t){const n=kt(t);Et(()=>{let r=0;if(e){const s=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return s.observe(e),()=>{window.cancelAnimationFrame(r),s.unobserve(e)}}},[e,n])}var kE=fE,tW=pE,nW=_E;const NE=p.forwardRef(({className:e,children:t,...n},r)=>l.jsxs(kE,{ref:r,className:ee("relative overflow-hidden",e),...n,children:[l.jsx(tW,{className:"h-full w-full rounded-[inherit]",children:t}),l.jsx(CE,{}),l.jsx(nW,{})]}));NE.displayName=kE.displayName;const CE=p.forwardRef(({className:e,orientation:t="vertical",...n},r)=>l.jsx(zx,{ref:r,orientation:t,className:ee("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...n,children:l.jsx(xE,{className:"relative flex-1 rounded-full bg-border"})}));CE.displayName=zx.displayName;const Ub={:{city:"",lat:[43.21,43.28],lng:[76.89,76.98]},:{city:"",lat:[43.23,43.35],lng:[76.92,77.05]},:{city:"",lat:[43.24,43.28],lng:[76.9,76.96]},:{city:"",lat:[43.18,43.25],lng:[76.75,76.88]},:{city:"",lat:[43.2,43.26],lng:[76.82,76.92]},:{city:"",lat:[43.16,43.24],lng:[76.82,76.95]},:{city:"",lat:[43.26,43.32],lng:[76.88,76.98]},:{city:"",lat:[43.28,43.35],lng:[76.9,77.02]},:{city:"",lat:[51.12,51.18],lng:[71.4,71.5]},:{city:"",lat:[51.1,51.16],lng:[71.42,71.52]},:{city:"",lat:[51.14,51.2],lng:[71.38,71.48]},:{city:"",lat:[51.08,51.14],lng:[71.35,71.45]},"-":{city:"",lat:[42.3,42.36],lng:[69.55,69.65]},:{city:"",lat:[42.28,42.34],lng:[69.58,69.68]},:{city:"",lat:[42.32,42.38],lng:[69.52,69.62]},:{city:"",lat:[42.26,42.32],lng:[69.5,69.6]}};function rW(e,t){for(const[i,a]of Object.entries(Ub))if(e>=a.lat[0]&&e<=a.lat[1]&&t>=a.lng[0]&&t<=a.lng[1])return{district:i,city:a.city};let n=null,r=null,s=1/0;for(const[i,a]of Object.entries(Ub)){const c=(a.lat[0]+a.lat[1])/2,d=(a.lng[0]+a.lng[1])/2,h=Math.sqrt(Math.pow(e-c,2)+Math.pow(t-d,2));h<s&&h<.5&&(s=h,n=i,r=a.city)}return n&&r?{district:n,city:r}:null}function sW({open:e,onOpenChange:t,districts:n,onJoin:r,isJoining:s}){const{location:i,isLoading:a,error:c,requestLocation:d}=Fo(),[h,m]=p.useState(null),[g,y]=p.useState(null),[v,b]=p.useState(null),[x,S]=p.useState(!1),[N,w]=p.useState(!1),[k,P]=p.useState(""),T=p.useMemo(()=>{const Z=new Set(n.map(B=>B.city));return Array.from(Z)},[n]),R=p.useMemo(()=>{if(!k.trim())return n;const Z=k.toLowerCase();return n.filter(B=>B.name.toLowerCase().includes(Z)||B.city.toLowerCase().includes(Z))},[n,k]),E=p.useMemo(()=>{const Z={};return R.forEach(B=>{Z[B.city]||(Z[B.city]=[]),Z[B.city].push(B)}),Z},[R]);p.useEffect(()=>{if(e&&(i!=null&&i.latitude)&&(i!=null&&i.longitude)){w(!0);const Z=rW(i.latitude,i.longitude);if(Z){y(Z.district),b(Z.city);const B=n.find(H=>H.name===Z.district&&H.city===Z.city);B&&m(B.id)}w(!1)}},[e,i,n]),p.useEffect(()=>{e||(m(null),y(null),b(null),S(!1),P(""))},[e]);const M=async()=>{w(!0),await d(),w(!1)},$=async()=>{if(!h)return;await r(h)&&t(!1)},V=async()=>{h&&await $()},Q=Z=>Z===1?"":Z===2?"":Z===3?"":`#${Z}`,W=n.find(Z=>Z.id===h);return a||N?l.jsx(xn,{open:e,onOpenChange:t,children:l.jsx(on,{className:"max-w-md",children:l.jsxs("div",{className:"flex flex-col items-center justify-center py-12 gap-4",children:[l.jsx(ct,{className:"w-12 h-12 animate-spin text-primary"}),l.jsx("p",{className:"text-muted-foreground",children:"  ..."})]})})}):!x&&!c&&(i!=null&&i.latitude)&&(i!=null&&i.longitude)&&g&&W?l.jsx(xn,{open:e,onOpenChange:t,children:l.jsxs(on,{className:"max-w-md",children:[l.jsxs(wn,{children:[l.jsxs(bn,{className:"flex items-center gap-2",children:[l.jsx(Bg,{className:"w-5 h-5 text-primary"})," !"]}),l.jsx(Mn,{children:"     :"})]}),l.jsxs("div",{className:"p-6 bg-primary/10 rounded-2xl border-2 border-primary text-center",children:[l.jsxs("p",{className:"text-sm text-muted-foreground mb-1",children:[l.jsx(vp,{className:"w-4 h-4 inline mr-1"}),v]}),l.jsxs("p",{className:"text-3xl font-bold mb-2",children:[Q(W.current_rank)," ",W.name]}),l.jsxs("div",{className:"flex items-center justify-center gap-4 text-sm text-muted-foreground",children:[l.jsxs("span",{className:"flex items-center gap-1",children:[l.jsx(ll,{className:"w-4 h-4"}),W.participants_count," "]}),l.jsxs("span",{children:[" ",W.trees_planted]})]}),l.jsxs("p",{className:"text-2xl font-bold text-primary mt-3",children:[W.total_score.toLocaleString()," "]})]}),l.jsxs("div",{className:"flex flex-col gap-3 pt-4",children:[l.jsx(Te,{size:"lg",onClick:V,disabled:s,className:"w-full",children:s?l.jsxs(l.Fragment,{children:[l.jsx(ct,{className:"w-4 h-4 mr-2 animate-spin"}),"..."]}):l.jsxs(l.Fragment,{children:[l.jsx(Ch,{className:"w-4 h-4 mr-2"}),"  ",W.name]})}),l.jsxs(Te,{variant:"outline",onClick:()=>S(!0),children:[l.jsx(Dr,{className:"w-4 h-4 mr-2"}),"  "]})]})]})}):!x&&(!(i!=null&&i.latitude)||!(i!=null&&i.longitude)||c)?l.jsx(xn,{open:e,onOpenChange:t,children:l.jsxs(on,{className:"max-w-md",children:[l.jsxs(wn,{children:[l.jsxs(bn,{className:"flex items-center gap-2",children:[l.jsx(Dr,{className:"w-5 h-5 text-primary"}),"  ?"]}),l.jsx(Mn,{children:"          ."})]}),c&&l.jsxs("div",{className:"p-4 bg-destructive/10 border border-destructive/20 rounded-xl flex items-start gap-3",children:[l.jsx(Di,{className:"w-5 h-5 text-destructive flex-shrink-0 mt-0.5"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-destructive",children:" "}),l.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:c})]})]}),l.jsxs("div",{className:"flex flex-col gap-3 pt-4",children:[l.jsx(Te,{size:"lg",onClick:M,disabled:N,children:N?l.jsxs(l.Fragment,{children:[l.jsx(ct,{className:"w-4 h-4 mr-2 animate-spin"}),"..."]}):l.jsxs(l.Fragment,{children:[l.jsx(Bg,{className:"w-4 h-4 mr-2"}),"  "]})}),l.jsxs(Te,{variant:"outline",onClick:()=>S(!0),children:[l.jsx(Dr,{className:"w-4 h-4 mr-2"}),"  "]})]})]})}):l.jsx(xn,{open:e,onOpenChange:t,children:l.jsxs(on,{className:"max-w-lg",children:[l.jsxs(wn,{children:[l.jsxs(bn,{className:"flex items-center gap-2",children:[l.jsx(Fs,{className:"w-5 h-5 text-accent"}),"  "]}),l.jsx(Mn,{children:"         !"})]}),l.jsxs("div",{className:"relative",children:[l.jsx(g0,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),l.jsx(Gn,{placeholder:"    ...",value:k,onChange:Z=>P(Z.target.value),className:"pl-10"})]}),!k&&T.length>1&&l.jsx("div",{className:"flex flex-wrap gap-2",children:T.map(Z=>l.jsxs(Te,{variant:"outline",size:"sm",onClick:()=>P(Z),className:"text-xs",children:[l.jsx(vp,{className:"w-3 h-3 mr-1"}),Z]},Z))}),l.jsx(NE,{className:"max-h-[350px] pr-4",children:Object.keys(E).length===0?l.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[l.jsx(g0,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),l.jsx("p",{children:"  "}),l.jsx("p",{className:"text-sm",children:"   "})]}):l.jsx("div",{className:"space-y-4",children:Object.entries(E).map(([Z,B])=>l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center gap-2 mb-2 sticky top-0 bg-background/95 backdrop-blur py-1",children:[l.jsx(vp,{className:"w-4 h-4 text-primary"}),l.jsx("span",{className:"font-semibold text-sm",children:Z}),l.jsxs("span",{className:"text-xs text-muted-foreground",children:["(",B.length," ",B.length===1?"":"",")"]})]}),l.jsx("div",{className:"space-y-2",children:B.map(H=>l.jsx("button",{onClick:()=>m(H.id),className:`w-full p-4 rounded-xl border-2 transition-all text-left ${h===H.id?"border-primary bg-primary/10":"border-border hover:border-primary/50 hover:bg-muted/50"}`,children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("span",{className:"text-xl font-bold",children:Q(H.current_rank)}),l.jsxs("div",{children:[l.jsxs("p",{className:"font-semibold flex items-center gap-2",children:[H.name,h===H.id&&l.jsx(Ch,{className:"w-4 h-4 text-primary"})]}),l.jsxs("div",{className:"flex items-center gap-3 text-xs text-muted-foreground mt-1",children:[l.jsxs("span",{className:"flex items-center gap-1",children:[l.jsx(ll,{className:"w-3 h-3"}),H.participants_count]}),l.jsxs("span",{children:[" ",H.trees_planted]}),l.jsxs("span",{children:[" ",H.reports_sent]})]})]})]}),l.jsxs("div",{className:"text-right",children:[l.jsx("p",{className:"font-bold text-lg",children:H.total_score.toLocaleString()}),l.jsx("p",{className:"text-xs text-muted-foreground",children:""})]})]})},H.id))})]},Z))})}),l.jsxs("div",{className:"flex gap-3 pt-4",children:[l.jsx(Te,{variant:"outline",className:"flex-1",onClick:()=>{g?(S(!1),P("")):t(!1)},children:g?"":""}),l.jsx(Te,{className:"flex-1",onClick:$,disabled:!h||s,children:s?"...":""})]})]})})}const Vb=[{id:"tree_planted",icon:jN,label:" ",points:100,color:"text-green-500"},{id:"report_sent",icon:hs,label:"  ",points:50,color:"text-amber-500"},{id:"car_free_day",icon:js,label:"  ",points:25,color:"text-blue-500"},{id:"eco_lesson",icon:yN,label:"-",points:20,color:"text-purple-500"},{id:"cleanup",icon:Ry,label:" ",points:75,color:"text-teal-500"},{id:"recycling",icon:Rf,label:" ",points:30,color:"text-emerald-500"}];function iW({open:e,onOpenChange:t,onSubmit:n,isSubmitting:r}){const[s,i]=p.useState(null),[a,c]=p.useState(""),[d,h]=p.useState(null),[m,g]=p.useState(!1),[y,v]=p.useState(null),b=p.useRef(null),{location:x}=Fo(),S=T=>{var E;const R=(E=T.target.files)==null?void 0:E[0];if(R){const M=new FileReader;M.onload=$=>{var V;h((V=$.target)==null?void 0:V.result)},M.readAsDataURL(R)}},N=()=>{x?(v({lat:x.latitude,lng:x.longitude}),g(!0),Pe.success(" ! ")):navigator.geolocation.getCurrentPosition(T=>{v({lat:T.coords.latitude,lng:T.coords.longitude}),g(!0),Pe.success(" ! ")},T=>{Pe.error("   "),console.error(T)})},w=async()=>{if(!s){Pe.error("  ");return}await n({activity_type:s,description:a.trim()||void 0,photo_url:d||void 0,latitude:y==null?void 0:y.lat,longitude:y==null?void 0:y.lng})&&(t(!1),i(null),c(""),h(null),g(!1),v(null))},k=Vb.find(T=>T.id===s),P=(d?50:0)+(m?50:0);return l.jsx(xn,{open:e,onOpenChange:t,children:l.jsxs(on,{className:"max-w-lg",children:[l.jsxs(wn,{children:[l.jsxs(bn,{className:"flex items-center gap-2",children:[l.jsx(Kc,{className:"w-5 h-5 text-primary"})," "]}),l.jsx(Mn,{children:"      "})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"text-sm font-medium mb-2 block",children:" "}),l.jsx("div",{className:"grid grid-cols-2 gap-2",children:Vb.map(T=>{const R=T.icon;return l.jsx("button",{onClick:()=>i(T.id),className:`p-3 rounded-xl border-2 transition-all text-left ${s===T.id?"border-primary bg-primary/10":"border-border hover:border-primary/50"}`,children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(R,{className:`w-5 h-5 ${T.color}`}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium",children:T.label}),l.jsxs("p",{className:"text-xs text-muted-foreground",children:["+",T.points," "]})]})]})},T.id)})})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-sm font-medium mb-2 block",children:" ()"}),l.jsx(Uo,{value:a,onChange:T=>c(T.target.value),placeholder:"   ...",className:"resize-none",rows:2})]}),l.jsxs("div",{className:"p-4 bg-muted/50 rounded-xl space-y-3",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"text-sm font-medium",children:""}),l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx("div",{className:`w-2 h-2 rounded-full ${P>=50?"bg-amber-500":"bg-muted-foreground/30"}`}),l.jsx("div",{className:`w-2 h-2 rounded-full ${P>=100?"bg-green-500":"bg-muted-foreground/30"}`}),l.jsxs("span",{className:"text-xs text-muted-foreground ml-1",children:[P,"%"]})]})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("input",{type:"file",accept:"image/*",capture:"environment",ref:b,onChange:S,className:"hidden"}),l.jsxs(Te,{variant:d?"default":"outline",size:"sm",className:"flex-1",onClick:()=>{var T;return(T=b.current)==null?void 0:T.click()},children:[l.jsx(za,{className:"w-4 h-4 mr-2"}),d?"  ":" "]}),l.jsxs(Te,{variant:m?"default":"outline",size:"sm",className:"flex-1",onClick:N,children:[l.jsx(Dr,{className:"w-4 h-4 mr-2"}),m?" ":" "]})]}),d&&l.jsxs("div",{className:"relative",children:[l.jsx("img",{src:d,alt:"Preview",className:"w-full h-32 object-cover rounded-lg"}),l.jsx("button",{onClick:()=>h(null),className:"absolute top-2 right-2 p-1 bg-black/50 rounded-full text-white",children:""})]}),l.jsx("p",{className:"text-xs text-muted-foreground",children:P===100?"    ":P>=50?"    ":"       "})]})]}),l.jsxs("div",{className:"flex gap-3 pt-4",children:[l.jsx(Te,{variant:"outline",className:"flex-1",onClick:()=>t(!1),children:""}),l.jsx(Te,{className:"flex-1",onClick:w,disabled:!s||r,children:r?"...":`${k?` (+${k.points})`:""}`})]})]})})}const oW={tree_planted:jN,report_sent:hs,car_free_day:js,eco_lesson:yN,cleanup:Ry,recycling:Rf};function aW({activities:e}){const{t,language:n}=zt(),r={tree_planted:t.districts.plantTree,report_sent:t.districts.sendReport,car_free_day:t.districts.carFreeDay,eco_lesson:t.districts.takeEcoLesson,cleanup:t.districts.areaCleanup,recycling:t.districts.recycling},s={pending:{icon:Ef,label:n==="en"?"Pending":n==="kz"?"":" ",color:"text-amber-500",bg:"bg-amber-500/10"},verified:{icon:Ch,label:n==="en"?"Verified":n==="kz"?"":"",color:"text-green-500",bg:"bg-green-500/10"},rejected:{icon:yM,label:n==="en"?"Rejected":n==="kz"?"":"",color:"text-red-500",bg:"bg-red-500/10"}},i=()=>{switch(n){case"en":return Mx;case"kz":return qT;default:return HT}};return e.length===0?l.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[l.jsx("p",{children:n==="en"?"You have no activities yet":n==="kz"?"   ":"    "}),l.jsx("p",{className:"text-sm mt-1",children:n==="en"?"Submit your first activity to join the battle!":n==="kz"?"     !":"      !"})]}):l.jsx("div",{className:"space-y-3",children:e.map(a=>{const c=oW[a.activity_type]||hs,d=s[a.verification_status];return d.icon,l.jsxs("div",{className:"flex items-start gap-3 p-3 rounded-xl bg-muted/30 hover:bg-muted/50 transition-colors",children:[l.jsx("div",{className:"w-10 h-10 rounded-full bg-primary/10 flex items-center justify-center flex-shrink-0",children:l.jsx(c,{className:"w-5 h-5 text-primary"})}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"font-medium",children:r[a.activity_type]||a.activity_type}),l.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full ${d.bg} ${d.color}`,children:d.label})]}),a.description&&l.jsx("p",{className:"text-sm text-muted-foreground mt-1 line-clamp-2",children:a.description}),a.rejection_reason&&l.jsxs("p",{className:"text-sm text-red-500 mt-1",children:[n==="en"?"Reason":n==="kz"?"":"",": ",a.rejection_reason]}),l.jsxs("div",{className:"flex items-center gap-3 mt-2 text-xs text-muted-foreground",children:[l.jsx("span",{children:WT(new Date(a.created_at),{addSuffix:!0,locale:i()})}),a.photo_url&&l.jsxs("span",{children:[" ",n==="en"?"Photo":""]})]})]}),l.jsxs("div",{className:"text-right flex-shrink-0",children:[l.jsxs("p",{className:`font-bold ${a.verification_status==="verified"?"text-aqi-good":"text-muted-foreground"}`,children:[a.verification_status==="verified"?"+":"",a.points_awarded]}),l.jsx("p",{className:"text-xs text-muted-foreground",children:t.districtBattle.points})]})]},a.id)})})}function lW(){const{user:e}=qt(),[t,n]=p.useState([]),[r,s]=p.useState(null),[i,a]=p.useState([]),[c,d]=p.useState(!0),[h,m]=p.useState(!1),[g,y]=p.useState(!1),v=p.useCallback(async()=>{const{data:P,error:T}=await ve.from("districts").select("*").order("total_score",{ascending:!1});if(T){console.error("Error fetching districts:",T);return}const R=(P||[]).map((E,M)=>({...E,current_rank:M+1}));n(R)},[]),b=p.useCallback(async()=>{if(!e){s(null);return}const{data:P,error:T}=await ve.from("user_district_participation").select("*, district:districts(*)").eq("user_id",e.id).maybeSingle();if(T){console.error("Error fetching participation:",T);return}s(P?{id:P.id,district_id:P.district_id,joined_at:P.joined_at,total_contribution:P.total_contribution,district:P.district}:null)},[e]),x=p.useCallback(async()=>{if(!e){a([]);return}const{data:P,error:T}=await ve.from("challenge_activities").select("*").eq("user_id",e.id).order("created_at",{ascending:!1}).limit(20);if(T){console.error("Error fetching activities:",T);return}a(P||[])},[e]);return p.useEffect(()=>{(async()=>{d(!0),await Promise.all([v(),b(),x()]),d(!1)})()},[v,b,x]),{districts:t,userParticipation:r,userActivities:i,isLoading:c,isJoining:h,isSubmitting:g,joinDistrict:async P=>{if(!e)return Pe.error("    "),!1;if(r)return Pe.error("     "),!1;m(!0);try{const{error:T}=await ve.from("user_district_participation").insert({user_id:e.id,district_id:P});if(T)throw T;return Pe.success("    ! "),await Promise.all([v(),b()]),!0}catch(T){return console.error("Error joining district:",T),Pe.error("  "),!1}finally{m(!1)}},leaveDistrict:async()=>{if(!e||!r)return!1;try{const{error:P}=await ve.from("user_district_participation").delete().eq("user_id",e.id);if(P)throw P;return Pe.success("   "),await Promise.all([v(),b()]),!0}catch(P){return console.error("Error leaving district:",P),Pe.error("  "),!1}},submitActivity:async P=>{if(!e||!r)return Pe.error("    "),!1;const R={tree_planted:100,report_sent:50,car_free_day:25,eco_lesson:20,cleanup:75,recycling:30}[P.activity_type]||10;y(!0);try{const{error:E}=await ve.from("challenge_activities").insert({user_id:e.id,district_id:r.district_id,activity_type:P.activity_type,description:P.description||null,photo_url:P.photo_url||null,latitude:P.latitude||null,longitude:P.longitude||null,points_awarded:R,verification_status:"pending"});if(E)throw E;return Pe.success("   ! ",{description:` : +${R}`}),await x(),!0}catch(E){return console.error("Error submitting activity:",E),Pe.error("   "),!1}finally{y(!1)}},autoVerifyActivity:async P=>{const T=i.find(E=>E.id===P);if(!T)return!1;if(T.photo_url&&T.latitude&&T.longitude)try{const{error:E}=await ve.from("challenge_activities").update({verification_status:"verified",verified_at:new Date().toISOString()}).eq("id",P);if(E)throw E;return Pe.success(" ! "),await Promise.all([v(),x()]),!0}catch(E){return console.error("Error verifying activity:",E),!1}return!1},refreshData:()=>Promise.all([v(),b(),x()])}}const cW=()=>{var S;const{isAuthenticated:e}=qt(),{districts:t,userParticipation:n,userActivities:r,isLoading:s,isJoining:i,isSubmitting:a,joinDistrict:c,leaveDistrict:d,submitActivity:h}=lW(),[m,g]=p.useState(!1),[y,v]=p.useState(!1),b=n==null?void 0:n.district,x=(S=t.find(N=>N.id===(n==null?void 0:n.district_id)))==null?void 0:S.current_rank;return l.jsxs("div",{className:"p-6 max-w-6xl mx-auto space-y-6",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsxs("h1",{className:"text-3xl font-display font-bold flex items-center gap-3",children:[l.jsx(PN,{className:"w-8 h-8 text-accent"})," "]}),l.jsx("p",{className:"text-muted-foreground mt-1",children:"    -"})]}),l.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 bg-accent/20 rounded-xl",children:[l.jsx(xN,{className:"w-4 h-4 text-accent"}),l.jsx("span",{className:"text-sm font-medium",children:" : 18 "})]})]}),l.jsx("div",{className:"glass-card rounded-2xl p-6 bg-gradient-to-r from-primary/20 to-secondary/20 border border-primary/30",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-xl font-display font-bold",children:"   "}),l.jsx("p",{className:"text-muted-foreground mt-1",children:" : 50,000 Eco-Coins    -"})]}),l.jsxs("div",{className:"text-right",children:[l.jsx("p",{className:"text-sm text-muted-foreground",children:""}),l.jsxs("p",{className:"text-2xl font-bold",children:[t.length," "]})]})]})}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[l.jsx("div",{className:"lg:col-span-2",children:l.jsx(V9,{districts:t,userDistrictId:n==null?void 0:n.district_id,isLoading:s})}),l.jsxs("div",{className:"space-y-6",children:[n&&b?l.jsxs("div",{className:"glass-card rounded-2xl p-6 border-2 border-primary/30",children:[l.jsxs("h3",{className:"font-display font-bold text-lg flex items-center gap-2 mb-4",children:[l.jsx(Ph,{className:"w-5 h-5 text-primary"})," : ",b.name]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"text-muted-foreground",children:""}),l.jsxs("span",{className:"font-bold text-xl text-primary",children:["#",x," ",x===1&&""]})]}),l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"text-muted-foreground",children:" "}),l.jsx("span",{className:"font-bold",children:b.total_score.toLocaleString()})]}),l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"text-muted-foreground",children:" "}),l.jsxs("span",{className:"font-bold text-accent",children:["+",n.total_contribution]})]}),l.jsx("div",{className:"h-px bg-border"}),l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"text-muted-foreground",children:" "}),l.jsxs("span",{className:"font-bold",children:[b.trees_planted," "]})]}),l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"text-muted-foreground",children:" "}),l.jsxs("span",{className:"font-bold",children:[b.reports_sent," "]})]})]}),l.jsxs("div",{className:"mt-4 space-y-2",children:[l.jsxs(Te,{className:"w-full",onClick:()=>v(!0),children:[l.jsx(Kc,{className:"w-4 h-4 mr-2"})," "]}),l.jsxs(Te,{variant:"outline",className:"w-full text-destructive hover:text-destructive",onClick:d,children:[l.jsx(kN,{className:"w-4 h-4 mr-2"})," "]})]})]}):l.jsxs("div",{className:"glass-card rounded-2xl p-6 border-2 border-dashed border-primary/30",children:[l.jsxs("h3",{className:"font-display font-bold text-lg flex items-center gap-2 mb-4",children:[l.jsx(Ph,{className:"w-5 h-5 text-primary"}),"!"]}),l.jsx("p",{className:"text-muted-foreground mb-4",children:"        "}),l.jsxs(Te,{className:"w-full",onClick:()=>g(!0),disabled:!e,children:[l.jsx(jh,{className:"w-4 h-4 mr-2"}),e?" ":"  "]})]}),l.jsxs("div",{className:"glass-card rounded-2xl p-6",children:[l.jsxs("h3",{className:"font-display font-bold text-lg flex items-center gap-2 mb-4",children:[l.jsx(Th,{className:"w-5 h-5 text-secondary"}),"  "]}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("span",{className:"text-lg",children:""}),l.jsx("div",{className:"flex-1",children:l.jsx("p",{className:"text-sm",children:" "})}),l.jsx("span",{className:"font-bold text-aqi-good",children:"+100"})]}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("span",{className:"text-lg",children:""}),l.jsx("div",{className:"flex-1",children:l.jsx("p",{className:"text-sm",children:" "})}),l.jsx("span",{className:"font-bold text-aqi-good",children:"+75"})]}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("span",{className:"text-lg",children:""}),l.jsx("div",{className:"flex-1",children:l.jsx("p",{className:"text-sm",children:" "})}),l.jsx("span",{className:"font-bold text-aqi-good",children:"+50"})]}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("span",{className:"text-lg",children:""}),l.jsx("div",{className:"flex-1",children:l.jsx("p",{className:"text-sm",children:" "})}),l.jsx("span",{className:"font-bold text-aqi-good",children:"+30"})]}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("span",{className:"text-lg",children:""}),l.jsx("div",{className:"flex-1",children:l.jsx("p",{className:"text-sm",children:"  "})}),l.jsx("span",{className:"font-bold text-aqi-good",children:"+25"})]}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("span",{className:"text-lg",children:""}),l.jsx("div",{className:"flex-1",children:l.jsx("p",{className:"text-sm",children:" -"})}),l.jsx("span",{className:"font-bold text-aqi-good",children:"+20"})]})]})]}),n&&r.length>0&&l.jsxs("div",{className:"glass-card rounded-2xl p-6",children:[l.jsxs("h3",{className:"font-display font-bold text-lg flex items-center gap-2 mb-4",children:[l.jsx(Fs,{className:"w-5 h-5 text-accent"})," "]}),l.jsx(aW,{activities:r})]}),l.jsxs("div",{className:"glass-card rounded-2xl p-6",children:[l.jsxs("h3",{className:"font-display font-bold text-lg flex items-center gap-2 mb-4",children:[l.jsx(Fs,{className:"w-5 h-5 text-accent"})," "]}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"flex items-center gap-3 p-2 bg-accent/10 rounded-lg",children:[l.jsx("span",{className:"text-lg",children:""}),l.jsxs("div",{className:"flex-1",children:[l.jsx("p",{className:"font-medium text-sm",children:""}),l.jsx("p",{className:"text-xs text-muted-foreground",children:" 2024"})]})]}),l.jsxs("div",{className:"flex items-center gap-3 p-2 bg-muted/50 rounded-lg",children:[l.jsx("span",{className:"text-lg",children:""}),l.jsxs("div",{className:"flex-1",children:[l.jsx("p",{className:"font-medium text-sm",children:""}),l.jsx("p",{className:"text-xs text-muted-foreground",children:" 2024"})]})]}),l.jsxs("div",{className:"flex items-center gap-3 p-2 bg-muted/50 rounded-lg",children:[l.jsx("span",{className:"text-lg",children:""}),l.jsxs("div",{className:"flex-1",children:[l.jsx("p",{className:"font-medium text-sm",children:""}),l.jsx("p",{className:"text-xs text-muted-foreground",children:" 2024"})]})]})]})]})]})]}),l.jsx(sW,{open:m,onOpenChange:g,districts:t,onJoin:c,isJoining:i}),l.jsx(iW,{open:y,onOpenChange:v,onSubmit:h,isSubmitting:a})]})};var uW=[" ","Enter","ArrowUp","ArrowDown"],dW=[" ","Enter"],Ro="Select",[lm,cm,hW]=Cf(Ro),[Ol,uq]=ln(Ro,[hW,Cl]),um=Cl(),[fW,Bi]=Ol(Ro),[mW,pW]=Ol(Ro),PE=e=>{const{__scopeSelect:t,children:n,open:r,defaultOpen:s,onOpenChange:i,value:a,defaultValue:c,onValueChange:d,dir:h,name:m,autoComplete:g,disabled:y,required:v,form:b}=e,x=um(t),[S,N]=p.useState(null),[w,k]=p.useState(null),[P,T]=p.useState(!1),R=Rl(h),[E,M]=$s({prop:r,defaultProp:s??!1,onChange:i,caller:Ro}),[$,V]=$s({prop:a,defaultProp:c,onChange:d,caller:Ro}),Q=p.useRef(null),W=S?b||!!S.closest("form"):!0,[Z,B]=p.useState(new Set),H=Array.from(Z).map(G=>G.props.value).join(";");return l.jsx(Uy,{...x,children:l.jsxs(fW,{required:v,scope:t,trigger:S,onTriggerChange:N,valueNode:w,onValueNodeChange:k,valueNodeHasChildren:P,onValueNodeHasChildrenChange:T,contentId:$r(),value:$,onValueChange:V,open:E,onOpenChange:M,dir:R,triggerPointerDownPosRef:Q,disabled:y,children:[l.jsx(lm.Provider,{scope:t,children:l.jsx(mW,{scope:e.__scopeSelect,onNativeOptionAdd:p.useCallback(G=>{B(se=>new Set(se).add(G))},[]),onNativeOptionRemove:p.useCallback(G=>{B(se=>{const A=new Set(se);return A.delete(G),A})},[]),children:n})}),W?l.jsxs(XE,{"aria-hidden":!0,required:v,tabIndex:-1,name:m,autoComplete:g,value:$,onChange:G=>V(G.target.value),disabled:y,form:b,children:[$===void 0?l.jsx("option",{value:""}):null,Array.from(Z)]},H):null]})})};PE.displayName=Ro;var jE="SelectTrigger",TE=p.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:r=!1,...s}=e,i=um(n),a=Bi(jE,n),c=a.disabled||r,d=Fe(t,a.onTriggerChange),h=cm(n),m=p.useRef("touch"),[g,y,v]=JE(x=>{const S=h().filter(k=>!k.disabled),N=S.find(k=>k.value===a.value),w=e2(S,x,N);w!==void 0&&a.onValueChange(w.value)}),b=x=>{c||(a.onOpenChange(!0),v()),x&&(a.triggerPointerDownPosRef.current={x:Math.round(x.pageX),y:Math.round(x.pageY)})};return l.jsx(Vy,{asChild:!0,...i,children:l.jsx(be.button,{type:"button",role:"combobox","aria-controls":a.contentId,"aria-expanded":a.open,"aria-required":a.required,"aria-autocomplete":"none",dir:a.dir,"data-state":a.open?"open":"closed",disabled:c,"data-disabled":c?"":void 0,"data-placeholder":QE(a.value)?"":void 0,...s,ref:d,onClick:ae(s.onClick,x=>{x.currentTarget.focus(),m.current!=="mouse"&&b(x)}),onPointerDown:ae(s.onPointerDown,x=>{m.current=x.pointerType;const S=x.target;S.hasPointerCapture(x.pointerId)&&S.releasePointerCapture(x.pointerId),x.button===0&&x.ctrlKey===!1&&x.pointerType==="mouse"&&(b(x),x.preventDefault())}),onKeyDown:ae(s.onKeyDown,x=>{const S=g.current!=="";!(x.ctrlKey||x.altKey||x.metaKey)&&x.key.length===1&&y(x.key),!(S&&x.key===" ")&&uW.includes(x.key)&&(b(),x.preventDefault())})})})});TE.displayName=jE;var EE="SelectValue",RE=p.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:s,children:i,placeholder:a="",...c}=e,d=Bi(EE,n),{onValueNodeHasChildrenChange:h}=d,m=i!==void 0,g=Fe(t,d.onValueNodeChange);return Et(()=>{h(m)},[h,m]),l.jsx(be.span,{...c,ref:g,style:{pointerEvents:"none"},children:QE(d.value)?l.jsx(l.Fragment,{children:a}):i})});RE.displayName=EE;var gW="SelectIcon",AE=p.forwardRef((e,t)=>{const{__scopeSelect:n,children:r,...s}=e;return l.jsx(be.span,{"aria-hidden":!0,...s,ref:t,children:r||""})});AE.displayName=gW;var vW="SelectPortal",OE=e=>l.jsx(wu,{asChild:!0,...e});OE.displayName=vW;var Ao="SelectContent",LE=p.forwardRef((e,t)=>{const n=Bi(Ao,e.__scopeSelect),[r,s]=p.useState();if(Et(()=>{s(new DocumentFragment)},[]),!n.open){const i=r;return i?Io.createPortal(l.jsx(ME,{scope:e.__scopeSelect,children:l.jsx(lm.Slot,{scope:e.__scopeSelect,children:l.jsx("div",{children:e.children})})}),i):null}return l.jsx(IE,{...e,ref:t})});LE.displayName=Ao;var kr=10,[ME,Ui]=Ol(Ao),yW="SelectContentImpl",xW=Po("SelectContent.RemoveScroll"),IE=p.forwardRef((e,t)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:i,onPointerDownOutside:a,side:c,sideOffset:d,align:h,alignOffset:m,arrowPadding:g,collisionBoundary:y,collisionPadding:v,sticky:b,hideWhenDetached:x,avoidCollisions:S,...N}=e,w=Bi(Ao,n),[k,P]=p.useState(null),[T,R]=p.useState(null),E=Fe(t,te=>P(te)),[M,$]=p.useState(null),[V,Q]=p.useState(null),W=cm(n),[Z,B]=p.useState(!1),H=p.useRef(!1);p.useEffect(()=>{if(k)return ex(k)},[k]),Jy();const G=p.useCallback(te=>{const[Oe,...We]=W().map(ze=>ze.ref.current),[De]=We.slice(-1),Ue=document.activeElement;for(const ze of te)if(ze===Ue||(ze==null||ze.scrollIntoView({block:"nearest"}),ze===Oe&&T&&(T.scrollTop=0),ze===De&&T&&(T.scrollTop=T.scrollHeight),ze==null||ze.focus(),document.activeElement!==Ue))return},[W,T]),se=p.useCallback(()=>G([M,k]),[G,M,k]);p.useEffect(()=>{Z&&se()},[Z,se]);const{onOpenChange:A,triggerPointerDownPosRef:D}=w;p.useEffect(()=>{if(k){let te={x:0,y:0};const Oe=De=>{var Ue,ze;te={x:Math.abs(Math.round(De.pageX)-(((Ue=D.current)==null?void 0:Ue.x)??0)),y:Math.abs(Math.round(De.pageY)-(((ze=D.current)==null?void 0:ze.y)??0))}},We=De=>{te.x<=10&&te.y<=10?De.preventDefault():k.contains(De.target)||A(!1),document.removeEventListener("pointermove",Oe),D.current=null};return D.current!==null&&(document.addEventListener("pointermove",Oe),document.addEventListener("pointerup",We,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Oe),document.removeEventListener("pointerup",We,{capture:!0})}}},[k,A,D]),p.useEffect(()=>{const te=()=>A(!1);return window.addEventListener("blur",te),window.addEventListener("resize",te),()=>{window.removeEventListener("blur",te),window.removeEventListener("resize",te)}},[A]);const[U,re]=JE(te=>{const Oe=W().filter(Ue=>!Ue.disabled),We=Oe.find(Ue=>Ue.ref.current===document.activeElement),De=e2(Oe,te,We);De&&setTimeout(()=>De.ref.current.focus())}),le=p.useCallback((te,Oe,We)=>{const De=!H.current&&!We;(w.value!==void 0&&w.value===Oe||De)&&($(te),De&&(H.current=!0))},[w.value]),_e=p.useCallback(()=>k==null?void 0:k.focus(),[k]),me=p.useCallback((te,Oe,We)=>{const De=!H.current&&!We;(w.value!==void 0&&w.value===Oe||De)&&Q(te)},[w.value]),Se=r==="popper"?gv:DE,xe=Se===gv?{side:c,sideOffset:d,align:h,alignOffset:m,arrowPadding:g,collisionBoundary:y,collisionPadding:v,sticky:b,hideWhenDetached:x,avoidCollisions:S}:{};return l.jsx(ME,{scope:n,content:k,viewport:T,onViewportChange:R,itemRefCallback:le,selectedItem:M,onItemLeave:_e,itemTextRefCallback:me,focusSelectedItem:se,selectedItemText:V,position:r,isPositioned:Z,searchRef:U,children:l.jsx(Kf,{as:xW,allowPinchZoom:!0,children:l.jsx(Gf,{asChild:!0,trapped:w.open,onMountAutoFocus:te=>{te.preventDefault()},onUnmountAutoFocus:ae(s,te=>{var Oe;(Oe=w.trigger)==null||Oe.focus({preventScroll:!0}),te.preventDefault()}),children:l.jsx(bl,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:a,onFocusOutside:te=>te.preventDefault(),onDismiss:()=>w.onOpenChange(!1),children:l.jsx(Se,{role:"listbox",id:w.contentId,"data-state":w.open?"open":"closed",dir:w.dir,onContextMenu:te=>te.preventDefault(),...N,...xe,onPlaced:()=>B(!0),ref:E,style:{display:"flex",flexDirection:"column",outline:"none",...N.style},onKeyDown:ae(N.onKeyDown,te=>{const Oe=te.ctrlKey||te.altKey||te.metaKey;if(te.key==="Tab"&&te.preventDefault(),!Oe&&te.key.length===1&&re(te.key),["ArrowUp","ArrowDown","Home","End"].includes(te.key)){let De=W().filter(Ue=>!Ue.disabled).map(Ue=>Ue.ref.current);if(["ArrowUp","End"].includes(te.key)&&(De=De.slice().reverse()),["ArrowUp","ArrowDown"].includes(te.key)){const Ue=te.target,ze=De.indexOf(Ue);De=De.slice(ze+1)}setTimeout(()=>G(De)),te.preventDefault()}})})})})})})});IE.displayName=yW;var _W="SelectItemAlignedPosition",DE=p.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:r,...s}=e,i=Bi(Ao,n),a=Ui(Ao,n),[c,d]=p.useState(null),[h,m]=p.useState(null),g=Fe(t,E=>m(E)),y=cm(n),v=p.useRef(!1),b=p.useRef(!0),{viewport:x,selectedItem:S,selectedItemText:N,focusSelectedItem:w}=a,k=p.useCallback(()=>{if(i.trigger&&i.valueNode&&c&&h&&x&&S&&N){const E=i.trigger.getBoundingClientRect(),M=h.getBoundingClientRect(),$=i.valueNode.getBoundingClientRect(),V=N.getBoundingClientRect();if(i.dir!=="rtl"){const Ue=V.left-M.left,ze=$.left-Ue,xt=E.left-ze,Ht=E.width+xt,In=Math.max(Ht,M.width),Dn=window.innerWidth-kr,$n=pv(ze,[kr,Math.max(kr,Dn-In)]);c.style.minWidth=Ht+"px",c.style.left=$n+"px"}else{const Ue=M.right-V.right,ze=window.innerWidth-$.right-Ue,xt=window.innerWidth-E.right-ze,Ht=E.width+xt,In=Math.max(Ht,M.width),Dn=window.innerWidth-kr,$n=pv(ze,[kr,Math.max(kr,Dn-In)]);c.style.minWidth=Ht+"px",c.style.right=$n+"px"}const Q=y(),W=window.innerHeight-kr*2,Z=x.scrollHeight,B=window.getComputedStyle(h),H=parseInt(B.borderTopWidth,10),G=parseInt(B.paddingTop,10),se=parseInt(B.borderBottomWidth,10),A=parseInt(B.paddingBottom,10),D=H+G+Z+A+se,U=Math.min(S.offsetHeight*5,D),re=window.getComputedStyle(x),le=parseInt(re.paddingTop,10),_e=parseInt(re.paddingBottom,10),me=E.top+E.height/2-kr,Se=W-me,xe=S.offsetHeight/2,te=S.offsetTop+xe,Oe=H+G+te,We=D-Oe;if(Oe<=me){const Ue=Q.length>0&&S===Q[Q.length-1].ref.current;c.style.bottom="0px";const ze=h.clientHeight-x.offsetTop-x.offsetHeight,xt=Math.max(Se,xe+(Ue?_e:0)+ze+se),Ht=Oe+xt;c.style.height=Ht+"px"}else{const Ue=Q.length>0&&S===Q[0].ref.current;c.style.top="0px";const xt=Math.max(me,H+x.offsetTop+(Ue?le:0)+xe)+We;c.style.height=xt+"px",x.scrollTop=Oe-me+x.offsetTop}c.style.margin=`${kr}px 0`,c.style.minHeight=U+"px",c.style.maxHeight=W+"px",r==null||r(),requestAnimationFrame(()=>v.current=!0)}},[y,i.trigger,i.valueNode,c,h,x,S,N,i.dir,r]);Et(()=>k(),[k]);const[P,T]=p.useState();Et(()=>{h&&T(window.getComputedStyle(h).zIndex)},[h]);const R=p.useCallback(E=>{E&&b.current===!0&&(k(),w==null||w(),b.current=!1)},[k,w]);return l.jsx(bW,{scope:n,contentWrapper:c,shouldExpandOnScrollRef:v,onScrollButtonChange:R,children:l.jsx("div",{ref:d,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:P},children:l.jsx(be.div,{...s,ref:g,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});DE.displayName=_W;var wW="SelectPopperPosition",gv=p.forwardRef((e,t)=>{const{__scopeSelect:n,align:r="start",collisionPadding:s=kr,...i}=e,a=um(n);return l.jsx(Wy,{...a,...i,ref:t,align:r,collisionPadding:s,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});gv.displayName=wW;var[bW,Vx]=Ol(Ao,{}),vv="SelectViewport",$E=p.forwardRef((e,t)=>{const{__scopeSelect:n,nonce:r,...s}=e,i=Ui(vv,n),a=Vx(vv,n),c=Fe(t,i.onViewportChange),d=p.useRef(0);return l.jsxs(l.Fragment,{children:[l.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),l.jsx(lm.Slot,{scope:n,children:l.jsx(be.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:c,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:ae(s.onScroll,h=>{const m=h.currentTarget,{contentWrapper:g,shouldExpandOnScrollRef:y}=a;if(y!=null&&y.current&&g){const v=Math.abs(d.current-m.scrollTop);if(v>0){const b=window.innerHeight-kr*2,x=parseFloat(g.style.minHeight),S=parseFloat(g.style.height),N=Math.max(x,S);if(N<b){const w=N+v,k=Math.min(b,w),P=w-k;g.style.height=k+"px",g.style.bottom==="0px"&&(m.scrollTop=P>0?P:0,g.style.justifyContent="flex-end")}}}d.current=m.scrollTop})})})]})});$E.displayName=vv;var FE="SelectGroup",[SW,kW]=Ol(FE),NW=p.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,s=$r();return l.jsx(SW,{scope:n,id:s,children:l.jsx(be.div,{role:"group","aria-labelledby":s,...r,ref:t})})});NW.displayName=FE;var zE="SelectLabel",BE=p.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,s=kW(zE,n);return l.jsx(be.div,{id:s.id,...r,ref:t})});BE.displayName=zE;var Qh="SelectItem",[CW,UE]=Ol(Qh),VE=p.forwardRef((e,t)=>{const{__scopeSelect:n,value:r,disabled:s=!1,textValue:i,...a}=e,c=Bi(Qh,n),d=Ui(Qh,n),h=c.value===r,[m,g]=p.useState(i??""),[y,v]=p.useState(!1),b=Fe(t,w=>{var k;return(k=d.itemRefCallback)==null?void 0:k.call(d,w,r,s)}),x=$r(),S=p.useRef("touch"),N=()=>{s||(c.onValueChange(r),c.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return l.jsx(CW,{scope:n,value:r,disabled:s,textId:x,isSelected:h,onItemTextChange:p.useCallback(w=>{g(k=>k||((w==null?void 0:w.textContent)??"").trim())},[]),children:l.jsx(lm.ItemSlot,{scope:n,value:r,disabled:s,textValue:m,children:l.jsx(be.div,{role:"option","aria-labelledby":x,"data-highlighted":y?"":void 0,"aria-selected":h&&y,"data-state":h?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...a,ref:b,onFocus:ae(a.onFocus,()=>v(!0)),onBlur:ae(a.onBlur,()=>v(!1)),onClick:ae(a.onClick,()=>{S.current!=="mouse"&&N()}),onPointerUp:ae(a.onPointerUp,()=>{S.current==="mouse"&&N()}),onPointerDown:ae(a.onPointerDown,w=>{S.current=w.pointerType}),onPointerMove:ae(a.onPointerMove,w=>{var k;S.current=w.pointerType,s?(k=d.onItemLeave)==null||k.call(d):S.current==="mouse"&&w.currentTarget.focus({preventScroll:!0})}),onPointerLeave:ae(a.onPointerLeave,w=>{var k;w.currentTarget===document.activeElement&&((k=d.onItemLeave)==null||k.call(d))}),onKeyDown:ae(a.onKeyDown,w=>{var P;((P=d.searchRef)==null?void 0:P.current)!==""&&w.key===" "||(dW.includes(w.key)&&N(),w.key===" "&&w.preventDefault())})})})})});VE.displayName=Qh;var pc="SelectItemText",WE=p.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:s,...i}=e,a=Bi(pc,n),c=Ui(pc,n),d=UE(pc,n),h=pW(pc,n),[m,g]=p.useState(null),y=Fe(t,N=>g(N),d.onItemTextChange,N=>{var w;return(w=c.itemTextRefCallback)==null?void 0:w.call(c,N,d.value,d.disabled)}),v=m==null?void 0:m.textContent,b=p.useMemo(()=>l.jsx("option",{value:d.value,disabled:d.disabled,children:v},d.value),[d.disabled,d.value,v]),{onNativeOptionAdd:x,onNativeOptionRemove:S}=h;return Et(()=>(x(b),()=>S(b)),[x,S,b]),l.jsxs(l.Fragment,{children:[l.jsx(be.span,{id:d.textId,...i,ref:y}),d.isSelected&&a.valueNode&&!a.valueNodeHasChildren?Io.createPortal(i.children,a.valueNode):null]})});WE.displayName=pc;var qE="SelectItemIndicator",HE=p.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return UE(qE,n).isSelected?l.jsx(be.span,{"aria-hidden":!0,...r,ref:t}):null});HE.displayName=qE;var yv="SelectScrollUpButton",GE=p.forwardRef((e,t)=>{const n=Ui(yv,e.__scopeSelect),r=Vx(yv,e.__scopeSelect),[s,i]=p.useState(!1),a=Fe(t,r.onScrollButtonChange);return Et(()=>{if(n.viewport&&n.isPositioned){let c=function(){const h=d.scrollTop>0;i(h)};const d=n.viewport;return c(),d.addEventListener("scroll",c),()=>d.removeEventListener("scroll",c)}},[n.viewport,n.isPositioned]),s?l.jsx(KE,{...e,ref:a,onAutoScroll:()=>{const{viewport:c,selectedItem:d}=n;c&&d&&(c.scrollTop=c.scrollTop-d.offsetHeight)}}):null});GE.displayName=yv;var xv="SelectScrollDownButton",ZE=p.forwardRef((e,t)=>{const n=Ui(xv,e.__scopeSelect),r=Vx(xv,e.__scopeSelect),[s,i]=p.useState(!1),a=Fe(t,r.onScrollButtonChange);return Et(()=>{if(n.viewport&&n.isPositioned){let c=function(){const h=d.scrollHeight-d.clientHeight,m=Math.ceil(d.scrollTop)<h;i(m)};const d=n.viewport;return c(),d.addEventListener("scroll",c),()=>d.removeEventListener("scroll",c)}},[n.viewport,n.isPositioned]),s?l.jsx(KE,{...e,ref:a,onAutoScroll:()=>{const{viewport:c,selectedItem:d}=n;c&&d&&(c.scrollTop=c.scrollTop+d.offsetHeight)}}):null});ZE.displayName=xv;var KE=p.forwardRef((e,t)=>{const{__scopeSelect:n,onAutoScroll:r,...s}=e,i=Ui("SelectScrollButton",n),a=p.useRef(null),c=cm(n),d=p.useCallback(()=>{a.current!==null&&(window.clearInterval(a.current),a.current=null)},[]);return p.useEffect(()=>()=>d(),[d]),Et(()=>{var m;const h=c().find(g=>g.ref.current===document.activeElement);(m=h==null?void 0:h.ref.current)==null||m.scrollIntoView({block:"nearest"})},[c]),l.jsx(be.div,{"aria-hidden":!0,...s,ref:t,style:{flexShrink:0,...s.style},onPointerDown:ae(s.onPointerDown,()=>{a.current===null&&(a.current=window.setInterval(r,50))}),onPointerMove:ae(s.onPointerMove,()=>{var h;(h=i.onItemLeave)==null||h.call(i),a.current===null&&(a.current=window.setInterval(r,50))}),onPointerLeave:ae(s.onPointerLeave,()=>{d()})})}),PW="SelectSeparator",YE=p.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return l.jsx(be.div,{"aria-hidden":!0,...r,ref:t})});YE.displayName=PW;var _v="SelectArrow",jW=p.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,s=um(n),i=Bi(_v,n),a=Ui(_v,n);return i.open&&a.position==="popper"?l.jsx(qy,{...s,...r,ref:t}):null});jW.displayName=_v;var TW="SelectBubbleInput",XE=p.forwardRef(({__scopeSelect:e,value:t,...n},r)=>{const s=p.useRef(null),i=Fe(r,s),a=KT(t);return p.useEffect(()=>{const c=s.current;if(!c)return;const d=window.HTMLSelectElement.prototype,m=Object.getOwnPropertyDescriptor(d,"value").set;if(a!==t&&m){const g=new Event("change",{bubbles:!0});m.call(c,t),c.dispatchEvent(g)}},[a,t]),l.jsx(be.select,{...n,style:{...Kk,...n.style},ref:i,defaultValue:t})});XE.displayName=TW;function QE(e){return e===""||e===void 0}function JE(e){const t=kt(e),n=p.useRef(""),r=p.useRef(0),s=p.useCallback(a=>{const c=n.current+a;t(c),function d(h){n.current=h,window.clearTimeout(r.current),h!==""&&(r.current=window.setTimeout(()=>d(""),1e3))}(c)},[t]),i=p.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return p.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,s,i]}function e2(e,t,n){const s=t.length>1&&Array.from(t).every(h=>h===t[0])?t[0]:t,i=n?e.indexOf(n):-1;let a=EW(e,Math.max(i,0));s.length===1&&(a=a.filter(h=>h!==n));const d=a.find(h=>h.textValue.toLowerCase().startsWith(s.toLowerCase()));return d!==n?d:void 0}function EW(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var RW=PE,t2=TE,AW=RE,OW=AE,LW=OE,n2=LE,MW=$E,r2=BE,s2=VE,IW=WE,DW=HE,i2=GE,o2=ZE,a2=YE;const $W=RW,FW=AW,l2=p.forwardRef(({className:e,children:t,...n},r)=>l.jsxs(t2,{ref:r,className:ee("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...n,children:[t,l.jsx(OW,{asChild:!0,children:l.jsx(Tf,{className:"h-4 w-4 opacity-50"})})]}));l2.displayName=t2.displayName;const c2=p.forwardRef(({className:e,...t},n)=>l.jsx(i2,{ref:n,className:ee("flex cursor-default items-center justify-center py-1",e),...t,children:l.jsx(wN,{className:"h-4 w-4"})}));c2.displayName=i2.displayName;const u2=p.forwardRef(({className:e,...t},n)=>l.jsx(o2,{ref:n,className:ee("flex cursor-default items-center justify-center py-1",e),...t,children:l.jsx(Tf,{className:"h-4 w-4"})}));u2.displayName=o2.displayName;const d2=p.forwardRef(({className:e,children:t,position:n="popper",...r},s)=>l.jsx(LW,{children:l.jsxs(n2,{ref:s,className:ee("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,...r,children:[l.jsx(c2,{}),l.jsx(MW,{className:ee("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),l.jsx(u2,{})]})}));d2.displayName=n2.displayName;const zW=p.forwardRef(({className:e,...t},n)=>l.jsx(r2,{ref:n,className:ee("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));zW.displayName=r2.displayName;const h2=p.forwardRef(({className:e,children:t,...n},r)=>l.jsxs(s2,{ref:r,className:ee("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e),...n,children:[l.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:l.jsx(DW,{children:l.jsx(Nh,{className:"h-4 w-4"})})}),l.jsx(IW,{children:t})]}));h2.displayName=s2.displayName;const BW=p.forwardRef(({className:e,...t},n)=>l.jsx(a2,{ref:n,className:ee("-mx-1 my-1 h-px bg-muted",e),...t}));BW.displayName=a2.displayName;const Wb=[{id:"industrial",label:"  ",points:50},{id:"transport",label:"  ",points:30},{id:"burning",label:"  ",points:40},{id:"construction",label:"  ",points:35},{id:"other",label:" ",points:25}];function f2({open:e,onOpenChange:t}){const{user:n}=qt(),{location:r,requestLocation:s}=Fo(),[i,a]=p.useState(""),[c,d]=p.useState(""),[h,m]=p.useState(!1),[g,y]=p.useState(null),[v,b]=p.useState(null),x=p.useRef(null),S=P=>{var E;const T=(E=P.target.files)==null?void 0:E[0];if(!T)return;if(!T.type.startsWith("image/")){Pe.error(",  ");return}if(T.size>5*1024*1024){Pe.error("     5 ");return}b(T);const R=new FileReader;R.onload=M=>{var $;return y(($=M.target)==null?void 0:$.result)},R.readAsDataURL(T)},N=()=>{b(null),y(null),x.current&&(x.current.value="")},w=async P=>{try{const T=P.name.split(".").pop(),R=`reports/${n.id}/${Date.now()}.${T}`,{error:E}=await ve.storage.from("post-images").upload(R,P);if(E)return console.error("Upload error:",E),null;const{data:M}=ve.storage.from("post-images").getPublicUrl(R);return M.publicUrl}catch(T){return console.error("Error uploading image:",T),null}},k=async()=>{if(!n){Pe.error("     ");return}if(!i){Pe.error("  ");return}if(!c.trim()||c.length<10){Pe.error("  ( 10 )");return}m(!0);try{let P=null;v&&(P=await w(v));const T=Wb.find(E=>E.id===i),{error:R}=await ve.from("community_posts").insert({user_id:n.id,content:`   : ${T==null?void 0:T.label}

${c}${r?`

 : ${r.latitude.toFixed(4)}, ${r.longitude.toFixed(4)}`:""}`,post_type:"report",image_url:P,impact_description:"  "});if(R)throw R;await ve.rpc("add_user_xp",{_user_id:n.id,_xp:(T==null?void 0:T.points)||25,_coins:10,_action_type:"violation_report",_description:`  : ${T==null?void 0:T.label}`}),Pe.success(` ! +${(T==null?void 0:T.points)||25} XP`),a(""),d(""),b(null),y(null),t(!1)}catch(P){console.error("Error submitting report:",P),Pe.error(P.message||"   ")}finally{m(!1)}};return l.jsx(xn,{open:e,onOpenChange:t,children:l.jsxs(on,{className:"max-w-lg",children:[l.jsxs(wn,{children:[l.jsxs(bn,{className:"flex items-center gap-2",children:[l.jsx(hs,{className:"w-5 h-5 text-destructive"}),"  "]}),l.jsx(Mn,{children:"    "})]}),l.jsxs("div",{className:"space-y-4 mt-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"text-sm font-medium mb-2 block",children:" "}),l.jsxs($W,{value:i,onValueChange:a,children:[l.jsx(l2,{children:l.jsx(FW,{placeholder:"  "})}),l.jsx(d2,{children:Wb.map(P=>l.jsxs(h2,{value:P.id,children:[P.label," (+",P.points," XP)"]},P.id))})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-sm font-medium mb-2 block",children:""}),l.jsx(Uo,{placeholder:"  :   ,   ...",value:c,onChange:P=>d(P.target.value),rows:4,maxLength:500}),l.jsxs("p",{className:"text-xs text-muted-foreground mt-1 text-right",children:[c.length,"/500"]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-sm font-medium mb-2 block",children:""}),r?l.jsxs("div",{className:"flex items-center gap-2 p-3 bg-aqi-good/10 rounded-lg text-sm",children:[l.jsx(Dr,{className:"w-4 h-4 text-aqi-good"}),l.jsxs("span",{children:[" : ",r.latitude.toFixed(4),", ",r.longitude.toFixed(4)]})]}):l.jsxs(Te,{variant:"outline",onClick:s,className:"w-full",children:[l.jsx(Dr,{className:"w-4 h-4 mr-2"})," "]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-sm font-medium mb-2 block",children:" "}),g?l.jsxs("div",{className:"relative inline-block",children:[l.jsx("img",{src:g,alt:"Preview",className:"max-h-40 rounded-lg object-cover"}),l.jsx("button",{type:"button",onClick:N,className:"absolute -top-2 -right-2 p-1 bg-destructive text-destructive-foreground rounded-full",children:l.jsx(Ws,{className:"w-4 h-4"})})]}):l.jsxs("div",{children:[l.jsx("input",{ref:x,type:"file",accept:"image/*",onChange:S,className:"hidden",id:"report-image-input"}),l.jsxs("label",{htmlFor:"report-image-input",className:"flex items-center gap-2 px-4 py-3 border-2 border-dashed border-border rounded-lg cursor-pointer hover:border-destructive/50 hover:bg-destructive/5 transition-all",children:[l.jsx(za,{className:"w-5 h-5 text-muted-foreground"}),l.jsx("span",{className:"text-sm text-muted-foreground",children:"  ()"})]})]})]}),l.jsx(Te,{onClick:k,disabled:h,className:"w-full bg-destructive hover:bg-destructive/90",children:h?l.jsxs(l.Fragment,{children:[l.jsx(ct,{className:"w-4 h-4 mr-2 animate-spin"}),"..."]}):l.jsxs(l.Fragment,{children:[l.jsx(Kc,{className:"w-4 h-4 mr-2"})," "]})})]})]})})}function m2({open:e,onOpenChange:t}){const{location:n,requestLocation:r,isLoading:s}=Fo(),[i,a]=p.useState(""),[c,d]=p.useState(""),[h,m]=p.useState(!1),[g,y]=p.useState(null),v=async()=>{await r(),n&&(a(`${n.latitude.toFixed(4)}, ${n.longitude.toFixed(4)}`),Pe.success("  "))},b=async()=>{if(!i.trim()){Pe.error("  ");return}if(!c.trim()){Pe.error("  ");return}m(!0),await new Promise(w=>setTimeout(w,1500)),y([{distance:"3.2 ",duration:"12 ",aqiLevel:"good",recommendation:"        ",waypoints:[" ",". "," "]},{distance:"2.8 ",duration:"10 ",aqiLevel:"moderate",recommendation:" ,      ",waypoints:[" ",""]},{distance:"4.1 ",duration:"15 ",aqiLevel:"bad",recommendation:"   -     ",waypoints:["",""]}][0]),m(!1)},x=N=>{switch(N){case"good":return"text-aqi-good bg-aqi-good/10";case"moderate":return"text-aqi-moderate bg-aqi-moderate/10";case"bad":return"text-aqi-unhealthy bg-aqi-unhealthy/10";default:return"text-muted-foreground bg-muted"}},S=N=>{switch(N){case"good":return" ";case"moderate":return" ";case"bad":return" ";default:return""}};return l.jsx(xn,{open:e,onOpenChange:t,children:l.jsxs(on,{className:"max-w-lg",children:[l.jsxs(wn,{children:[l.jsxs(bn,{className:"flex items-center gap-2",children:[l.jsx(Ey,{className:"w-5 h-5 text-primary"})," "]}),l.jsx(Mn,{children:"      "})]}),l.jsxs("div",{className:"space-y-4 mt-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"text-sm font-medium mb-2 block",children:""}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx(Gn,{placeholder:"  ",value:i,onChange:N=>a(N.target.value),className:"flex-1"}),l.jsx(Te,{variant:"outline",size:"icon",onClick:v,disabled:s,children:s?l.jsx(ct,{className:"w-4 h-4 animate-spin"}):l.jsx(Dr,{className:"w-4 h-4"})})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-sm font-medium mb-2 block",children:""}),l.jsx(Gn,{placeholder:" ",value:c,onChange:N=>d(N.target.value)})]}),l.jsx(Te,{onClick:b,disabled:h,className:"w-full",children:h?l.jsxs(l.Fragment,{children:[l.jsx(ct,{className:"w-4 h-4 mr-2 animate-spin"})," ..."]}):l.jsxs(l.Fragment,{children:[l.jsx(Bg,{className:"w-4 h-4 mr-2"})," "]})}),g&&l.jsxs("div",{className:"space-y-4 pt-4 border-t",children:[l.jsxs("h4",{className:"font-medium flex items-center gap-2",children:[l.jsx(jo,{className:"w-4 h-4"})," "]}),l.jsxs("div",{className:`p-4 rounded-xl ${x(g.aqiLevel)}`,children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx("span",{className:"font-medium",children:S(g.aqiLevel)}),l.jsxs("div",{className:"flex gap-4 text-sm",children:[l.jsxs("span",{children:[" ",g.distance]}),l.jsxs("span",{children:[" ",g.duration]})]})]}),l.jsx("p",{className:"text-sm opacity-80",children:g.recommendation})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("p",{className:"text-sm font-medium",children:" :"}),l.jsx("div",{className:"flex flex-wrap gap-2",children:g.waypoints.map((N,w)=>l.jsx("span",{className:"px-3 py-1 bg-muted rounded-full text-xs",children:N},w))})]}),l.jsxs("div",{className:"flex items-start gap-2 p-3 bg-primary/10 rounded-lg",children:[l.jsx(hs,{className:"w-4 h-4 text-primary mt-0.5"}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"        .   ."})]})]})]})]})})}const UW=[{id:"pm25",title:"   PM2.5?",description:"        ",xpReward:20,duration:"5 ",content:["PM2.5       2.5  ( 30    ).","   ,         ."," : , ,  ,  .","  PM2.5     - ."],quiz:[{question:"   PM2.5?",options:[" 10 "," 2.5 "," 1 "],correct:1}]},{id:"sources",title:"  ",description:"      ",xpReward:30,duration:"7 ",content:[":         .",":      ,    .",":          .",":        ."," :  ,  , ."],quiz:[{question:"      ?",options:["","",""],correct:1}]},{id:"protection",title:"   ",description:"      ",xpReward:25,duration:"6 ",content:["     (AQI)      .","  AQI (>100)   N95/KN95    95% .","   ,     .","    HEPA-  .","        ."],quiz:[{question:"    PM2.5?",options:[" "," "," N95/KN95"],correct:2}]},{id:"aqi",title:"   AQI",description:"      ",xpReward:35,duration:"8 ",content:["AQI (Air Quality Index)     0  500+    .","0-50 ():  ,    .","51-100 ():     .","101-150 (  ):     .","151-200 ():      .","201-300 ( ):      .","300+ ():  ,   ."],quiz:[{question:"  AQI     ?",options:["0-50","51-100","101-150  "],correct:2}]}];function p2({open:e,onOpenChange:t}){const{user:n}=qt(),[r,s]=p.useState(null),[i,a]=p.useState(0),[c,d]=p.useState(null),[h,m]=p.useState([]),[g,y]=p.useState(!1),v=w=>{s(w),a(0),d(null)},b=()=>{r&&i<r.content.length&&a(i+1)},x=async w=>{if(!r||!n)return;if(d(w),w===r.quiz[0].correct){y(!0);try{await ve.rpc("add_user_xp",{_user_id:n.id,_xp:r.xpReward,_coins:Math.floor(r.xpReward/2),_action_type:"eco_lesson",_description:`: ${r.title}`}),m([...h,r.id]),Pe.success(` ! +${r.xpReward} XP`)}catch(P){console.error("Error awarding XP:",P)}finally{y(!1)}}},S=()=>{s(null),a(0),d(null)},N=r?(i+1)/(r.content.length+1)*100:0;return l.jsx(xn,{open:e,onOpenChange:t,children:l.jsxs(on,{className:"max-w-lg max-h-[80vh] overflow-y-auto",children:[l.jsxs(wn,{children:[l.jsxs(bn,{className:"flex items-center gap-2",children:[l.jsx(jy,{className:"w-5 h-5 text-secondary"}),r?r.title:"-"]}),l.jsx(Mn,{children:r?` ${i+1}  ${r.content.length+1}`:"    XP"})]}),r?l.jsxs("div",{className:"space-y-4 mt-4",children:[l.jsx(nm,{value:N,className:"h-2"}),i<r.content.length?l.jsxs("div",{className:"space-y-4",children:[l.jsx("div",{className:"p-4 bg-secondary/10 rounded-xl",children:l.jsx("p",{className:"text-sm leading-relaxed",children:r.content[i]})}),l.jsxs(Te,{onClick:b,className:"w-full",children:["",l.jsx(_N,{className:"w-4 h-4 ml-2"})]})]}):l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"p-4 bg-primary/10 rounded-xl",children:[l.jsx("p",{className:"font-medium mb-4",children:r.quiz[0].question}),l.jsx("div",{className:"space-y-2",children:r.quiz[0].options.map((w,k)=>l.jsxs("button",{onClick:()=>x(k),disabled:c!==null||g,className:`w-full p-3 rounded-lg text-left text-sm transition-all ${c===null?"bg-muted hover:bg-muted/80":k===r.quiz[0].correct?"bg-aqi-good/20 text-aqi-good border border-aqi-good":c===k?"bg-destructive/20 text-destructive border border-destructive":"bg-muted opacity-50"}`,children:[w,c!==null&&k===r.quiz[0].correct&&l.jsx(Zc,{className:"w-4 h-4 inline ml-2"})]},k))})]}),c!==null&&l.jsx("div",{className:`p-4 rounded-xl ${c===r.quiz[0].correct?"bg-aqi-good/10 text-aqi-good":"bg-destructive/10 text-destructive"}`,children:c===r.quiz[0].correct?l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Fs,{className:"w-5 h-5"}),l.jsxs("span",{children:["! +",r.xpReward," XP"]})]}):l.jsx("span",{children:".   !"})}),l.jsx(Te,{onClick:S,variant:"outline",className:"w-full",children:"  "})]})]}):l.jsx("div",{className:"space-y-3 mt-4",children:UW.map(w=>{const k=h.includes(w.id);return l.jsxs("button",{onClick:()=>v(w),className:`w-full p-4 rounded-xl text-left transition-all ${k?"bg-aqi-good/10 border border-aqi-good/30":"bg-muted/50 hover:bg-muted"}`,children:[l.jsxs("div",{className:"flex items-center justify-between mb-1",children:[l.jsxs("span",{className:"font-medium flex items-center gap-2",children:[k&&l.jsx(Zc,{className:"w-4 h-4 text-aqi-good"}),w.title]}),l.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full ${k?"bg-aqi-good/20 text-aqi-good":"bg-primary/20 text-primary"}`,children:k?"":`+${w.xpReward} XP`})]}),l.jsx("p",{className:"text-sm text-muted-foreground",children:w.description}),l.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[" ",w.duration]})]},w.id)})})]})})}const VW=[{id:"green-city-jan",title:"   ",date:"2026-02-01",time:"10:00",location:" , ",participants:42,maxParticipants:100,xpReward:100,description:"       "},{id:"eco-marathon",title:" - + ",date:"2026-02-08",time:"09:00",location:"  ",participants:28,maxParticipants:50,xpReward:150,description:"  5    .     !"},{id:"school-action",title:"  ",date:"2026-02-15",time:"11:00",location:" 125,  ",participants:15,maxParticipants:30,xpReward:75,description:"     "},{id:"corporate",title:"  ",date:"2026-02-22",time:"14:00",location:"- Nurly Tau",participants:8,maxParticipants:40,xpReward:80,description:"  -.    !"}];function g2({open:e,onOpenChange:t}){const{user:n}=qt(),[r,s]=p.useState([]),[i,a]=p.useState(null),c=async m=>{if(!n){Pe.error("      ");return}if(r.includes(m.id)){Pe.info("     ");return}a(m.id);try{await ve.from("community_posts").insert({user_id:n.id,content:`    "${m.title}"

 ${d(m.date)}  ${m.time}
 ${m.location}

!    !`,post_type:"tree",impact_description:"   "}),await ve.rpc("add_user_xp",{_user_id:n.id,_xp:15,_coins:5,_action_type:"tree_planting_registration",_description:`  : ${m.title}`}),s([...r,m.id]),Pe.success(`   ! +15 XP (${m.xpReward} XP  )`)}catch(g){console.error("Error registering:",g),Pe.error("    ")}finally{a(null)}},d=m=>new Date(m).toLocaleDateString("ru-RU",{day:"numeric",month:"long",weekday:"long"}),h=m=>{const g=m.maxParticipants-m.participants;return g<=0?{text:" ",color:"text-destructive"}:g<=10?{text:` ${g} `,color:"text-aqi-moderate"}:{text:`${g}  `,color:"text-aqi-good"}};return l.jsx(xn,{open:e,onOpenChange:t,children:l.jsxs(on,{className:"max-w-lg max-h-[80vh] overflow-y-auto",children:[l.jsxs(wn,{children:[l.jsxs(bn,{className:"flex items-center gap-2",children:[l.jsx(Su,{className:"w-5 h-5 text-aqi-good"})," "]}),l.jsx(Mn,{children:"      "})]}),l.jsxs("div",{className:"space-y-4 mt-4",children:[VW.map(m=>{const g=r.includes(m.id),y=h(m),v=m.participants>=m.maxParticipants;return l.jsxs("div",{className:`p-4 rounded-xl border transition-all ${g?"bg-aqi-good/10 border-aqi-good/30":"bg-muted/30 border-border hover:border-aqi-good/50"}`,children:[l.jsxs("div",{className:"flex items-start justify-between mb-2",children:[l.jsx("h4",{className:"font-medium",children:m.title}),l.jsxs("span",{className:"text-xs px-2 py-0.5 rounded-full bg-aqi-good/20 text-aqi-good",children:["+",m.xpReward," XP"]})]}),l.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:m.description}),l.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs text-muted-foreground mb-3",children:[l.jsxs("div",{className:"flex items-center gap-1.5",children:[l.jsx(xN,{className:"w-3.5 h-3.5"}),d(m.date),", ",m.time]}),l.jsxs("div",{className:"flex items-center gap-1.5",children:[l.jsx(Dr,{className:"w-3.5 h-3.5"}),m.location]}),l.jsxs("div",{className:"flex items-center gap-1.5",children:[l.jsx(ll,{className:"w-3.5 h-3.5"}),m.participants,"/",m.maxParticipants," "]}),l.jsx("div",{className:`flex items-center gap-1.5 ${y.color}`,children:y.text})]}),g?l.jsxs("div",{className:"flex items-center gap-2 p-2 bg-aqi-good/20 rounded-lg text-aqi-good text-sm",children:[l.jsx(Zc,{className:"w-4 h-4"}),"    "]}):l.jsx(Te,{onClick:()=>c(m),disabled:v||i===m.id,className:"w-full bg-aqi-good hover:bg-aqi-good/90 text-white",children:i===m.id?l.jsxs(l.Fragment,{children:[l.jsx(ct,{className:"w-4 h-4 mr-2 animate-spin"}),"..."]}):v?" ":""})]},m.id)}),l.jsx("div",{className:"p-4 bg-primary/10 rounded-xl",children:l.jsxs("p",{className:"text-sm text-muted-foreground",children:[" ",l.jsx("strong",{children:":"}),"          ,     XP   !"]})})]})]})})}const WW=$o("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),Wx=p.forwardRef(({className:e,variant:t,...n},r)=>l.jsx("div",{ref:r,role:"alert",className:ee(WW({variant:t}),e),...n}));Wx.displayName="Alert";const qW=p.forwardRef(({className:e,...t},n)=>l.jsx("h5",{ref:n,className:ee("mb-1 font-medium leading-none tracking-tight",e),...t}));qW.displayName="AlertTitle";const qx=p.forwardRef(({className:e,...t},n)=>l.jsx("div",{ref:n,className:ee("text-sm [&_p]:leading-relaxed",e),...t}));qx.displayName="AlertDescription";function HW({open:e,onOpenChange:t}){const{user:n}=qt(),{location:r,requestLocation:s,isLoading:i}=Fo(),[a,c]=p.useState(!1),[d,h]=p.useState(!1),[m,g]=p.useState(0),[y,v]=p.useState(null),[b,x]=p.useState(!1),[S,N]=p.useState(null),[w,k]=p.useState(null),[P,T]=p.useState(null),[R,E]=p.useState(!1),M=p.useRef(null),$=async H=>{try{const{data:G,error:se}=await ve.functions.invoke("analyze-ar-image",{body:{imageBase64:H}});return se?(console.error("Validation error:",se),{isValid:!1,reason:"   .   ."}):{isValid:G.isValid,reason:G.reason}}catch(G){return console.error("Validation request failed:",G),{isValid:!1,reason:" .     ."}}},V=async H=>{var A;const G=(A=H.target.files)==null?void 0:A[0];if(!G)return;if(!G.type.startsWith("image/")){Pe.error(",  ");return}if(G.size>10*1024*1024){Pe.error("     10 ");return}T(null),E(!1),k(G);const se=new FileReader;se.onload=async D=>{var le;const U=(le=D.target)==null?void 0:le.result;N(U),h(!0);const re=await $(U);h(!1),re.isValid?(E(!0),Pe.success("   !")):(T(re.reason||"    "),E(!1))},se.readAsDataURL(G)},Q=()=>{k(null),N(null),T(null),E(!1),M.current&&(M.current.value="")},W=H=>H<=50?{aqiCategory:"",color:"text-aqi-good",recommendation:"  !         ."}:H<=100?{aqiCategory:"",color:"text-aqi-moderate",recommendation:"  .      ."}:H<=150?{aqiCategory:"  ",color:"text-aqi-sensitive",recommendation:"        ."}:H<=200?{aqiCategory:"",color:"text-aqi-unhealthy",recommendation:"     .    ."}:H<=300?{aqiCategory:" ",color:"text-aqi-very-unhealthy",recommendation:"   .     N95."}:{aqiCategory:"",color:"text-aqi-hazardous",recommendation:" !    ."},Z=async()=>{if(!r&&(await s(),!r)){Pe.error("   ");return}c(!0),g(0),v(null);const H=setInterval(()=>{g(G=>G>=100?(clearInterval(H),100):G+10)},200);try{const{data:G,error:se}=await ve.functions.invoke("user-environment",{body:{latitude:(r==null?void 0:r.latitude)||43.238949,longitude:(r==null?void 0:r.longitude)||76.945465}});if(se)throw se;const A=W(G.aqi||75);v({aqi:G.aqi||75,aqiCategory:A.aqiCategory||"",pm25:G.pm25||Math.round(Math.random()*50+10),pm10:G.pm10||Math.round(Math.random()*80+20),temperature:G.temperature||5,humidity:G.humidity||65,visibility:G.visibility?`${(G.visibility/1e3).toFixed(1)} `:"8.5 ",recommendation:A.recommendation||"",color:A.color||"text-aqi-moderate"}),n&&!b&&(await ve.rpc("add_user_xp",{_user_id:n.id,_xp:10,_coins:3,_action_type:"ar_scan",_description:"AR-  "}),x(!0),Pe.success(" ! +10 XP"))}catch(G){console.error("Error fetching environment data:",G);const se=Math.round(Math.random()*100+30),A=W(se);v({aqi:se,aqiCategory:A.aqiCategory||"",pm25:Math.round(Math.random()*50+10),pm10:Math.round(Math.random()*80+20),temperature:Math.round(Math.random()*10-5),humidity:Math.round(Math.random()*30+50),visibility:`${(Math.random()*5+5).toFixed(1)} `,recommendation:A.recommendation||"",color:A.color||"text-aqi-moderate"})}finally{c(!1)}},B=()=>{v(null),g(0),N(null),k(null),T(null),E(!1),M.current&&(M.current.value="")};return l.jsx(xn,{open:e,onOpenChange:t,children:l.jsxs(on,{className:"max-w-lg",children:[l.jsxs(wn,{children:[l.jsxs(bn,{className:"flex items-center gap-2",children:[l.jsx(za,{className:"w-5 h-5 text-accent"}),"AR  "]}),l.jsx(Mn,{children:"     "})]}),l.jsx("div",{className:"space-y-4 mt-4",children:y?l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"p-6 rounded-xl bg-gradient-to-br from-background to-muted text-center",children:[l.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"  "}),l.jsx("p",{className:`text-5xl font-bold ${y.color}`,children:y.aqi}),l.jsx("p",{className:`text-lg font-medium ${y.color}`,children:y.aqiCategory})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[l.jsxs("div",{className:"p-3 bg-muted/50 rounded-xl",children:[l.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground mb-1",children:[l.jsx(jo,{className:"w-4 h-4"}),l.jsx("span",{className:"text-xs",children:"PM2.5"})]}),l.jsxs("p",{className:"text-lg font-semibold",children:[y.pm25," g/m"]})]}),l.jsxs("div",{className:"p-3 bg-muted/50 rounded-xl",children:[l.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground mb-1",children:[l.jsx(jo,{className:"w-4 h-4"}),l.jsx("span",{className:"text-xs",children:"PM10"})]}),l.jsxs("p",{className:"text-lg font-semibold",children:[y.pm10," g/m"]})]}),l.jsxs("div",{className:"p-3 bg-muted/50 rounded-xl",children:[l.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground mb-1",children:[l.jsx(Af,{className:"w-4 h-4"}),l.jsx("span",{className:"text-xs",children:""})]}),l.jsxs("p",{className:"text-lg font-semibold",children:[y.temperature,"C"]})]}),l.jsxs("div",{className:"p-3 bg-muted/50 rounded-xl",children:[l.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground mb-1",children:[l.jsx(Py,{className:"w-4 h-4"}),l.jsx("span",{className:"text-xs",children:""})]}),l.jsxs("p",{className:"text-lg font-semibold",children:[y.humidity,"%"]})]})]}),l.jsx("div",{className:`p-4 rounded-xl border ${y.aqi<=50?"bg-aqi-good/10 border-aqi-good/30":y.aqi<=100?"bg-aqi-moderate/10 border-aqi-moderate/30":"bg-aqi-unhealthy/10 border-aqi-unhealthy/30"}`,children:l.jsxs("div",{className:"flex items-start gap-2",children:[l.jsx(hs,{className:"w-5 h-5 mt-0.5 flex-shrink-0"}),l.jsx("p",{className:"text-sm",children:y.recommendation})]})}),l.jsxs(Te,{onClick:B,variant:"outline",className:"w-full",children:[l.jsx(Ug,{className:"w-4 h-4 mr-2"})," "]})]}):l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"aspect-video bg-gradient-to-br from-accent/20 to-primary/20 rounded-xl flex items-center justify-center relative overflow-hidden",children:[a||d?l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"w-24 h-24 border-4 border-accent border-t-transparent rounded-full animate-spin mx-auto mb-4"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:d?" ...":" ..."}),a&&l.jsxs("p",{className:"text-2xl font-bold mt-2",children:[m,"%"]})]}):S?l.jsxs("div",{className:"relative w-full h-full",children:[l.jsx("img",{src:S,alt:"Preview",className:`w-full h-full object-cover ${P?"opacity-50":""}`}),l.jsx("button",{type:"button",onClick:Q,className:"absolute top-2 right-2 p-1.5 bg-destructive text-destructive-foreground rounded-full shadow-lg hover:bg-destructive/90 transition-colors",children:l.jsx(Ws,{className:"w-4 h-4"})}),R&&l.jsxs("div",{className:"absolute bottom-2 left-2 px-2 py-1 bg-aqi-good/90 text-white text-xs rounded-full flex items-center gap-1",children:[l.jsx(za,{className:"w-3 h-3"})," "]}),l.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-accent/10 to-transparent pointer-events-none"})]}):l.jsxs("div",{className:"text-center",children:[l.jsx("input",{ref:M,type:"file",accept:"image/*",onChange:V,className:"hidden",id:"ar-scanner-image-input"}),l.jsxs("label",{htmlFor:"ar-scanner-image-input",className:"cursor-pointer flex flex-col items-center",children:[l.jsx("div",{className:"w-20 h-20 rounded-full bg-accent/20 flex items-center justify-center mb-4 hover:bg-accent/30 transition-colors",children:l.jsx(SN,{className:"w-10 h-10 text-accent"})}),l.jsx("p",{className:"text-muted-foreground font-medium",children:"   "}),l.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:" ,   "})]})]}),a&&l.jsxs("div",{className:"absolute inset-0 pointer-events-none",children:[l.jsx("div",{className:"absolute top-0 left-0 right-0 h-1 bg-gradient-to-r from-transparent via-accent to-transparent animate-pulse"}),l.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-1 bg-gradient-to-r from-transparent via-accent to-transparent animate-pulse"})]})]}),P&&l.jsxs(Wx,{variant:"destructive",children:[l.jsx(Di,{className:"h-4 w-4"}),l.jsxs(qx,{children:[P,". ,   ,   ."]})]}),a&&l.jsx(nm,{value:m,className:"h-2"}),l.jsxs("div",{className:"flex gap-2",children:[S?P?l.jsxs(Te,{variant:"outline",onClick:()=>{var H;return(H=M.current)==null?void 0:H.click()},disabled:a||d||i,className:"flex-1",children:[l.jsx(Ug,{className:"w-4 h-4 mr-2"}),"  "]}):null:l.jsxs(Te,{variant:"outline",onClick:()=>{var H;return(H=M.current)==null?void 0:H.click()},disabled:a||d||i,className:"flex-1",children:[l.jsx(DM,{className:"w-4 h-4 mr-2"})," "]}),S&&R&&l.jsx(Te,{onClick:Z,disabled:a||d||i||!R,className:"flex-1",children:i?l.jsxs(l.Fragment,{children:[l.jsx(ct,{className:"w-4 h-4 mr-2 animate-spin"}),"..."]}):a?l.jsxs(l.Fragment,{children:[l.jsx(ct,{className:"w-4 h-4 mr-2 animate-spin"}),"..."]}):l.jsxs(l.Fragment,{children:[l.jsx(za,{className:"w-4 h-4 mr-2"})," "]})})]})]})})]})})}const GW=()=>{const e=jl(),{t}=zt(),[n,r]=p.useState(!1),[s,i]=p.useState(!1),[a,c]=p.useState(!1),[d,h]=p.useState(!1),[m,g]=p.useState(!1),y=[{id:"report",icon:l.jsx(hs,{className:"w-6 h-6"}),label:t.actions.report,description:t.actions.aboutViolation,color:"text-destructive",bgColor:"bg-destructive/10 hover:bg-destructive/20"},{id:"route",icon:l.jsx(Ey,{className:"w-6 h-6"}),label:t.actions.route,description:t.actions.safePath,color:"text-primary",bgColor:"bg-primary/10 hover:bg-primary/20"},{id:"education",icon:l.jsx(jy,{className:"w-6 h-6"}),label:t.actions.education,description:t.actions.ecoLessons,color:"text-secondary",bgColor:"bg-secondary/10 hover:bg-secondary/20"},{id:"plant",icon:l.jsx(Su,{className:"w-6 h-6"}),label:t.actions.plant,description:t.actions.signUp,color:"text-aqi-good",bgColor:"bg-aqi-good/10 hover:bg-aqi-good/20"},{id:"scanner",icon:l.jsx(za,{className:"w-6 h-6"}),label:t.actions.arScanner,description:t.actions.airAnalysis,color:"text-accent",bgColor:"bg-accent/10 hover:bg-accent/20"},{id:"map",icon:l.jsx(Ph,{className:"w-6 h-6"}),label:t.actions.mapAction,description:t.actions.allSources,color:"text-muted-foreground",bgColor:"bg-muted hover:bg-muted/80"}],v=b=>{switch(b){case"report":r(!0);break;case"route":i(!0);break;case"education":c(!0);break;case"plant":h(!0);break;case"scanner":g(!0);break;case"map":e("/map");break}};return l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"glass-card rounded-2xl p-6 shadow-elevated animate-scale-in",children:[l.jsxs("h3",{className:"font-display font-bold text-lg mb-4",children:[" ",t.actions.title]}),l.jsx("div",{className:"grid grid-cols-3 sm:grid-cols-6 gap-3",children:y.map(b=>l.jsxs("button",{onClick:()=>v(b.id),className:`flex flex-col items-center justify-center p-4 rounded-xl ${b.bgColor} ${b.color} transition-all hover-lift cursor-pointer`,children:[b.icon,l.jsx("span",{className:"text-sm font-medium mt-2",children:b.label}),l.jsx("span",{className:"text-xs text-muted-foreground",children:b.description})]},b.id))})]}),l.jsx(f2,{open:n,onOpenChange:r}),l.jsx(m2,{open:s,onOpenChange:i}),l.jsx(p2,{open:a,onOpenChange:c}),l.jsx(g2,{open:d,onOpenChange:h}),l.jsx(HW,{open:m,onOpenChange:g})]})},ZW=()=>{const{t:e}=zt(),[t,n]=p.useState(!1),[r,s]=p.useState(!1),[i,a]=p.useState(!1),[c,d]=p.useState(!1);return l.jsxs("div",{className:"p-6 max-w-6xl mx-auto space-y-6",children:[l.jsxs("div",{children:[l.jsxs("h1",{className:"text-3xl font-display font-bold flex items-center gap-3",children:[l.jsx(EN,{className:"w-8 h-8 text-accent"}),e.actions.title]}),l.jsx("p",{className:"text-muted-foreground mt-1",children:e.actions.contributeToCleanAir})]}),l.jsx(GW,{}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs("div",{className:"glass-card rounded-2xl p-6",children:[l.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[l.jsx("div",{className:"w-12 h-12 bg-destructive/20 rounded-xl flex items-center justify-center",children:l.jsx(hs,{className:"w-6 h-6 text-destructive"})}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-display font-bold text-lg",children:e.actions.reportViolation}),l.jsx("p",{className:"text-sm text-muted-foreground",children:e.actions.helpIdentifySources})]})]}),l.jsxs("div",{className:"space-y-3 mb-4",children:[l.jsxs("p",{className:"text-sm text-muted-foreground",children:[e.actions.violationTypes,":"]}),l.jsxs("div",{className:"flex flex-wrap gap-2",children:[l.jsx("span",{className:"px-3 py-1 bg-muted rounded-full text-xs",children:e.reportViolation.industrial}),l.jsx("span",{className:"px-3 py-1 bg-muted rounded-full text-xs",children:e.reportViolation.smoking}),l.jsx("span",{className:"px-3 py-1 bg-muted rounded-full text-xs",children:e.reportViolation.burning}),l.jsx("span",{className:"px-3 py-1 bg-muted rounded-full text-xs",children:e.reportViolation.construction})]})]}),l.jsxs("button",{onClick:()=>n(!0),className:"w-full py-3 bg-destructive text-destructive-foreground rounded-xl font-medium hover:bg-destructive/90 transition-colors",children:[e.actions.createReport," (+50 XP)"]})]}),l.jsxs("div",{className:"glass-card rounded-2xl p-6",children:[l.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[l.jsx("div",{className:"w-12 h-12 bg-primary/20 rounded-xl flex items-center justify-center",children:l.jsx(Ey,{className:"w-6 h-6 text-primary"})}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-display font-bold text-lg",children:e.actions.safeRoute}),l.jsx("p",{className:"text-sm text-muted-foreground",children:e.actions.findPathMinPollution})]})]}),l.jsx("div",{className:"space-y-3 mb-4",children:l.jsx("p",{className:"text-sm text-muted-foreground",children:e.actions.algorithmConsiders})}),l.jsx("button",{onClick:()=>s(!0),className:"w-full py-3 bg-primary text-primary-foreground rounded-xl font-medium hover:bg-primary/90 transition-colors",children:e.actions.buildRoute})]}),l.jsxs("div",{className:"glass-card rounded-2xl p-6",children:[l.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[l.jsx("div",{className:"w-12 h-12 bg-secondary/20 rounded-xl flex items-center justify-center",children:l.jsx(jy,{className:"w-6 h-6 text-secondary"})}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-display font-bold text-lg",children:e.actions.ecoEducation}),l.jsx("p",{className:"text-sm text-muted-foreground",children:e.actions.learnMoreAboutAir})]})]}),l.jsxs("div",{className:"space-y-2 mb-4",children:[l.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-lg",children:[l.jsx("span",{className:"text-sm",children:e.actions.whatIsPM25}),l.jsx("span",{className:"text-xs text-aqi-good",children:"+20 XP"})]}),l.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-lg",children:[l.jsx("span",{className:"text-sm",children:e.actions.pollutionSources}),l.jsx("span",{className:"text-xs text-aqi-good",children:"+30 XP"})]}),l.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-lg",children:[l.jsx("span",{className:"text-sm",children:e.actions.howToProtect}),l.jsx("span",{className:"text-xs text-aqi-good",children:"+25 XP"})]})]}),l.jsx("button",{onClick:()=>a(!0),className:"w-full py-3 bg-secondary text-secondary-foreground rounded-xl font-medium hover:bg-secondary/90 transition-colors",children:e.actions.startLearning})]}),l.jsxs("div",{className:"glass-card rounded-2xl p-6",children:[l.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[l.jsx("div",{className:"w-12 h-12 bg-aqi-good/20 rounded-xl flex items-center justify-center",children:l.jsx(Su,{className:"w-6 h-6 text-aqi-good"})}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-display font-bold text-lg",children:e.actions.plantTree}),l.jsx("p",{className:"text-sm text-muted-foreground",children:e.actions.signUpForAction})]})]}),l.jsx("div",{className:"space-y-3 mb-4",children:l.jsxs("div",{className:"p-3 bg-aqi-good/10 rounded-lg border border-aqi-good/30",children:[l.jsxs("div",{className:"flex items-center justify-between mb-1",children:[l.jsx("span",{className:"font-medium text-sm",children:e.actions.greenCityAction}),l.jsx("span",{className:"text-xs text-aqi-good",children:"+100 XP"})]}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"1 ,  "}),l.jsxs("p",{className:"text-xs text-muted-foreground",children:["42 ",e.actions.participantsSignedUp]})]})}),l.jsx("button",{onClick:()=>d(!0),className:"w-full py-3 bg-aqi-good text-white rounded-xl font-medium hover:bg-aqi-good/90 transition-colors",children:e.actions.signUpForEvent})]})]}),l.jsxs("div",{className:"glass-card rounded-2xl p-6",children:[l.jsxs("h3",{className:"font-display font-bold text-lg flex items-center gap-2 mb-4",children:[l.jsx(EM,{className:"w-5 h-5 text-destructive"}),e.actions.emergencyContacts]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[l.jsxs("div",{className:"p-4 bg-muted/50 rounded-xl",children:[l.jsx("p",{className:"font-medium",children:e.actions.ecologicalInspection}),l.jsx("a",{href:"tel:+77272619905",className:"text-lg font-bold text-primary hover:underline",children:"+7 727 261-99-05"})]}),l.jsxs("div",{className:"p-4 bg-muted/50 rounded-xl",children:[l.jsx("p",{className:"font-medium",children:e.actions.emergencyServices}),l.jsx("a",{href:"tel:112",className:"text-lg font-bold text-destructive hover:underline",children:"112"})]}),l.jsxs("div",{className:"p-4 bg-muted/50 rounded-xl",children:[l.jsx("p",{className:"font-medium",children:e.actions.mayorHotline}),l.jsx("a",{href:"tel:109",className:"text-lg font-bold text-secondary hover:underline",children:"109"})]})]})]}),l.jsx(f2,{open:t,onOpenChange:n}),l.jsx(m2,{open:r,onOpenChange:s}),l.jsx(p2,{open:i,onOpenChange:a}),l.jsx(g2,{open:c,onOpenChange:d})]})};var et;(function(e){e.assertEqual=s=>{};function t(s){}e.assertIs=t;function n(s){throw new Error}e.assertNever=n,e.arrayToEnum=s=>{const i={};for(const a of s)i[a]=a;return i},e.getValidEnumValues=s=>{const i=e.objectKeys(s).filter(c=>typeof s[s[c]]!="number"),a={};for(const c of i)a[c]=s[c];return e.objectValues(a)},e.objectValues=s=>e.objectKeys(s).map(function(i){return s[i]}),e.objectKeys=typeof Object.keys=="function"?s=>Object.keys(s):s=>{const i=[];for(const a in s)Object.prototype.hasOwnProperty.call(s,a)&&i.push(a);return i},e.find=(s,i)=>{for(const a of s)if(i(a))return a},e.isInteger=typeof Number.isInteger=="function"?s=>Number.isInteger(s):s=>typeof s=="number"&&Number.isFinite(s)&&Math.floor(s)===s;function r(s,i=" | "){return s.map(a=>typeof a=="string"?`'${a}'`:a).join(i)}e.joinValues=r,e.jsonStringifyReplacer=(s,i)=>typeof i=="bigint"?i.toString():i})(et||(et={}));var qb;(function(e){e.mergeShapes=(t,n)=>({...t,...n})})(qb||(qb={}));const we=et.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),si=e=>{switch(typeof e){case"undefined":return we.undefined;case"string":return we.string;case"number":return Number.isNaN(e)?we.nan:we.number;case"boolean":return we.boolean;case"function":return we.function;case"bigint":return we.bigint;case"symbol":return we.symbol;case"object":return Array.isArray(e)?we.array:e===null?we.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?we.promise:typeof Map<"u"&&e instanceof Map?we.map:typeof Set<"u"&&e instanceof Set?we.set:typeof Date<"u"&&e instanceof Date?we.date:we.object;default:return we.unknown}},ie=et.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class Us extends Error{get errors(){return this.issues}constructor(t){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=t}format(t){const n=t||function(i){return i.message},r={_errors:[]},s=i=>{for(const a of i.issues)if(a.code==="invalid_union")a.unionErrors.map(s);else if(a.code==="invalid_return_type")s(a.returnTypeError);else if(a.code==="invalid_arguments")s(a.argumentsError);else if(a.path.length===0)r._errors.push(n(a));else{let c=r,d=0;for(;d<a.path.length;){const h=a.path[d];d===a.path.length-1?(c[h]=c[h]||{_errors:[]},c[h]._errors.push(n(a))):c[h]=c[h]||{_errors:[]},c=c[h],d++}}};return s(this),r}static assert(t){if(!(t instanceof Us))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,et.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=n=>n.message){const n={},r=[];for(const s of this.issues)if(s.path.length>0){const i=s.path[0];n[i]=n[i]||[],n[i].push(t(s))}else r.push(t(s));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}Us.create=e=>new Us(e);const wv=(e,t)=>{let n;switch(e.code){case ie.invalid_type:e.received===we.undefined?n="Required":n=`Expected ${e.expected}, received ${e.received}`;break;case ie.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(e.expected,et.jsonStringifyReplacer)}`;break;case ie.unrecognized_keys:n=`Unrecognized key(s) in object: ${et.joinValues(e.keys,", ")}`;break;case ie.invalid_union:n="Invalid input";break;case ie.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${et.joinValues(e.options)}`;break;case ie.invalid_enum_value:n=`Invalid enum value. Expected ${et.joinValues(e.options)}, received '${e.received}'`;break;case ie.invalid_arguments:n="Invalid function arguments";break;case ie.invalid_return_type:n="Invalid function return type";break;case ie.invalid_date:n="Invalid date";break;case ie.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(n=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?n=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?n=`Invalid input: must end with "${e.validation.endsWith}"`:et.assertNever(e.validation):e.validation!=="regex"?n=`Invalid ${e.validation}`:n="Invalid";break;case ie.too_small:e.type==="array"?n=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?n=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?n=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="bigint"?n=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?n=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:n="Invalid input";break;case ie.too_big:e.type==="array"?n=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?n=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?n=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?n=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?n=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:n="Invalid input";break;case ie.custom:n="Invalid input";break;case ie.invalid_intersection_types:n="Intersection results could not be merged";break;case ie.not_multiple_of:n=`Number must be a multiple of ${e.multipleOf}`;break;case ie.not_finite:n="Number must be finite";break;default:n=t.defaultError,et.assertNever(e)}return{message:n}};let KW=wv;function YW(){return KW}const XW=e=>{const{data:t,path:n,errorMaps:r,issueData:s}=e,i=[...n,...s.path||[]],a={...s,path:i};if(s.message!==void 0)return{...s,path:i,message:s.message};let c="";const d=r.filter(h=>!!h).slice().reverse();for(const h of d)c=h(a,{data:t,defaultError:c}).message;return{...s,path:i,message:c}};function ge(e,t){const n=YW(),r=XW({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,n,n===wv?void 0:wv].filter(s=>!!s)});e.common.issues.push(r)}class Qn{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,n){const r=[];for(const s of n){if(s.status==="aborted")return Le;s.status==="dirty"&&t.dirty(),r.push(s.value)}return{status:t.value,value:r}}static async mergeObjectAsync(t,n){const r=[];for(const s of n){const i=await s.key,a=await s.value;r.push({key:i,value:a})}return Qn.mergeObjectSync(t,r)}static mergeObjectSync(t,n){const r={};for(const s of n){const{key:i,value:a}=s;if(i.status==="aborted"||a.status==="aborted")return Le;i.status==="dirty"&&t.dirty(),a.status==="dirty"&&t.dirty(),i.value!=="__proto__"&&(typeof a.value<"u"||s.alwaysSet)&&(r[i.value]=a.value)}return{status:t.value,value:r}}}const Le=Object.freeze({status:"aborted"}),gc=e=>({status:"dirty",value:e}),pr=e=>({status:"valid",value:e}),Hb=e=>e.status==="aborted",Gb=e=>e.status==="dirty",pl=e=>e.status==="valid",Jh=e=>typeof Promise<"u"&&e instanceof Promise;var ke;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t==null?void 0:t.message})(ke||(ke={}));class Ai{constructor(t,n,r,s){this._cachedPath=[],this.parent=t,this.data=n,this._path=r,this._key=s}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const Zb=(e,t)=>{if(pl(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new Us(e.common.issues);return this._error=n,this._error}}};function Ge(e){if(!e)return{};const{errorMap:t,invalid_type_error:n,required_error:r,description:s}=e;if(t&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:s}:{errorMap:(a,c)=>{const{message:d}=e;return a.code==="invalid_enum_value"?{message:d??c.defaultError}:typeof c.data>"u"?{message:d??r??c.defaultError}:a.code!=="invalid_type"?{message:c.defaultError}:{message:d??n??c.defaultError}},description:s}}class Xe{get description(){return this._def.description}_getType(t){return si(t.data)}_getOrReturnCtx(t,n){return n||{common:t.parent.common,data:t.data,parsedType:si(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new Qn,ctx:{common:t.parent.common,data:t.data,parsedType:si(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const n=this._parse(t);if(Jh(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(t){const n=this._parse(t);return Promise.resolve(n)}parse(t,n){const r=this.safeParse(t,n);if(r.success)return r.data;throw r.error}safeParse(t,n){const r={common:{issues:[],async:(n==null?void 0:n.async)??!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:si(t)},s=this._parseSync({data:t,path:r.path,parent:r});return Zb(r,s)}"~validate"(t){var r,s;const n={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:si(t)};if(!this["~standard"].async)try{const i=this._parseSync({data:t,path:[],parent:n});return pl(i)?{value:i.value}:{issues:n.common.issues}}catch(i){(s=(r=i==null?void 0:i.message)==null?void 0:r.toLowerCase())!=null&&s.includes("encountered")&&(this["~standard"].async=!0),n.common={issues:[],async:!0}}return this._parseAsync({data:t,path:[],parent:n}).then(i=>pl(i)?{value:i.value}:{issues:n.common.issues})}async parseAsync(t,n){const r=await this.safeParseAsync(t,n);if(r.success)return r.data;throw r.error}async safeParseAsync(t,n){const r={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:si(t)},s=this._parse({data:t,path:r.path,parent:r}),i=await(Jh(s)?s:Promise.resolve(s));return Zb(r,i)}refine(t,n){const r=s=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(s):n;return this._refinement((s,i)=>{const a=t(s),c=()=>i.addIssue({code:ie.custom,...r(s)});return typeof Promise<"u"&&a instanceof Promise?a.then(d=>d?!0:(c(),!1)):a?!0:(c(),!1)})}refinement(t,n){return this._refinement((r,s)=>t(r)?!0:(s.addIssue(typeof n=="function"?n(r,s):n),!1))}_refinement(t){return new vl({schema:this,typeName:Me.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:n=>this["~validate"](n)}}optional(){return Pi.create(this,this._def)}nullable(){return yl.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return us.create(this)}promise(){return rf.create(this,this._def)}or(t){return tf.create([this,t],this._def)}and(t){return nf.create(this,t,this._def)}transform(t){return new vl({...Ge(this._def),schema:this,typeName:Me.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const n=typeof t=="function"?t:()=>t;return new Sv({...Ge(this._def),innerType:this,defaultValue:n,typeName:Me.ZodDefault})}brand(){return new _7({typeName:Me.ZodBranded,type:this,...Ge(this._def)})}catch(t){const n=typeof t=="function"?t:()=>t;return new kv({...Ge(this._def),innerType:this,catchValue:n,typeName:Me.ZodCatch})}describe(t){const n=this.constructor;return new n({...this._def,description:t})}pipe(t){return Hx.create(this,t)}readonly(){return Nv.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const QW=/^c[^\s-]{8,}$/i,JW=/^[0-9a-z]+$/,e7=/^[0-9A-HJKMNP-TV-Z]{26}$/i,t7=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,n7=/^[a-z0-9_-]{21}$/i,r7=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,s7=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,i7=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,o7="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Up;const a7=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,l7=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,c7=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,u7=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,d7=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,h7=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,v2="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",f7=new RegExp(`^${v2}$`);function y2(e){let t="[0-5]\\d";e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`);const n=e.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${t})${n}`}function m7(e){return new RegExp(`^${y2(e)}$`)}function p7(e){let t=`${v2}T${y2(e)}`;const n=[];return n.push(e.local?"Z?":"Z"),e.offset&&n.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${n.join("|")})`,new RegExp(`^${t}$`)}function g7(e,t){return!!((t==="v4"||!t)&&a7.test(e)||(t==="v6"||!t)&&c7.test(e))}function v7(e,t){if(!r7.test(e))return!1;try{const[n]=e.split(".");if(!n)return!1;const r=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),s=JSON.parse(atob(r));return!(typeof s!="object"||s===null||"typ"in s&&(s==null?void 0:s.typ)!=="JWT"||!s.alg||t&&s.alg!==t)}catch{return!1}}function y7(e,t){return!!((t==="v4"||!t)&&l7.test(e)||(t==="v6"||!t)&&u7.test(e))}class vi extends Xe{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==we.string){const i=this._getOrReturnCtx(t);return ge(i,{code:ie.invalid_type,expected:we.string,received:i.parsedType}),Le}const r=new Qn;let s;for(const i of this._def.checks)if(i.kind==="min")t.data.length<i.value&&(s=this._getOrReturnCtx(t,s),ge(s,{code:ie.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if(i.kind==="max")t.data.length>i.value&&(s=this._getOrReturnCtx(t,s),ge(s,{code:ie.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if(i.kind==="length"){const a=t.data.length>i.value,c=t.data.length<i.value;(a||c)&&(s=this._getOrReturnCtx(t,s),a?ge(s,{code:ie.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):c&&ge(s,{code:ie.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),r.dirty())}else if(i.kind==="email")i7.test(t.data)||(s=this._getOrReturnCtx(t,s),ge(s,{validation:"email",code:ie.invalid_string,message:i.message}),r.dirty());else if(i.kind==="emoji")Up||(Up=new RegExp(o7,"u")),Up.test(t.data)||(s=this._getOrReturnCtx(t,s),ge(s,{validation:"emoji",code:ie.invalid_string,message:i.message}),r.dirty());else if(i.kind==="uuid")t7.test(t.data)||(s=this._getOrReturnCtx(t,s),ge(s,{validation:"uuid",code:ie.invalid_string,message:i.message}),r.dirty());else if(i.kind==="nanoid")n7.test(t.data)||(s=this._getOrReturnCtx(t,s),ge(s,{validation:"nanoid",code:ie.invalid_string,message:i.message}),r.dirty());else if(i.kind==="cuid")QW.test(t.data)||(s=this._getOrReturnCtx(t,s),ge(s,{validation:"cuid",code:ie.invalid_string,message:i.message}),r.dirty());else if(i.kind==="cuid2")JW.test(t.data)||(s=this._getOrReturnCtx(t,s),ge(s,{validation:"cuid2",code:ie.invalid_string,message:i.message}),r.dirty());else if(i.kind==="ulid")e7.test(t.data)||(s=this._getOrReturnCtx(t,s),ge(s,{validation:"ulid",code:ie.invalid_string,message:i.message}),r.dirty());else if(i.kind==="url")try{new URL(t.data)}catch{s=this._getOrReturnCtx(t,s),ge(s,{validation:"url",code:ie.invalid_string,message:i.message}),r.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(t.data)||(s=this._getOrReturnCtx(t,s),ge(s,{validation:"regex",code:ie.invalid_string,message:i.message}),r.dirty())):i.kind==="trim"?t.data=t.data.trim():i.kind==="includes"?t.data.includes(i.value,i.position)||(s=this._getOrReturnCtx(t,s),ge(s,{code:ie.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),r.dirty()):i.kind==="toLowerCase"?t.data=t.data.toLowerCase():i.kind==="toUpperCase"?t.data=t.data.toUpperCase():i.kind==="startsWith"?t.data.startsWith(i.value)||(s=this._getOrReturnCtx(t,s),ge(s,{code:ie.invalid_string,validation:{startsWith:i.value},message:i.message}),r.dirty()):i.kind==="endsWith"?t.data.endsWith(i.value)||(s=this._getOrReturnCtx(t,s),ge(s,{code:ie.invalid_string,validation:{endsWith:i.value},message:i.message}),r.dirty()):i.kind==="datetime"?p7(i).test(t.data)||(s=this._getOrReturnCtx(t,s),ge(s,{code:ie.invalid_string,validation:"datetime",message:i.message}),r.dirty()):i.kind==="date"?f7.test(t.data)||(s=this._getOrReturnCtx(t,s),ge(s,{code:ie.invalid_string,validation:"date",message:i.message}),r.dirty()):i.kind==="time"?m7(i).test(t.data)||(s=this._getOrReturnCtx(t,s),ge(s,{code:ie.invalid_string,validation:"time",message:i.message}),r.dirty()):i.kind==="duration"?s7.test(t.data)||(s=this._getOrReturnCtx(t,s),ge(s,{validation:"duration",code:ie.invalid_string,message:i.message}),r.dirty()):i.kind==="ip"?g7(t.data,i.version)||(s=this._getOrReturnCtx(t,s),ge(s,{validation:"ip",code:ie.invalid_string,message:i.message}),r.dirty()):i.kind==="jwt"?v7(t.data,i.alg)||(s=this._getOrReturnCtx(t,s),ge(s,{validation:"jwt",code:ie.invalid_string,message:i.message}),r.dirty()):i.kind==="cidr"?y7(t.data,i.version)||(s=this._getOrReturnCtx(t,s),ge(s,{validation:"cidr",code:ie.invalid_string,message:i.message}),r.dirty()):i.kind==="base64"?d7.test(t.data)||(s=this._getOrReturnCtx(t,s),ge(s,{validation:"base64",code:ie.invalid_string,message:i.message}),r.dirty()):i.kind==="base64url"?h7.test(t.data)||(s=this._getOrReturnCtx(t,s),ge(s,{validation:"base64url",code:ie.invalid_string,message:i.message}),r.dirty()):et.assertNever(i);return{status:r.value,value:t.data}}_regex(t,n,r){return this.refinement(s=>t.test(s),{validation:n,code:ie.invalid_string,...ke.errToObj(r)})}_addCheck(t){return new vi({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...ke.errToObj(t)})}url(t){return this._addCheck({kind:"url",...ke.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...ke.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...ke.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...ke.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...ke.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...ke.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...ke.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...ke.errToObj(t)})}base64url(t){return this._addCheck({kind:"base64url",...ke.errToObj(t)})}jwt(t){return this._addCheck({kind:"jwt",...ke.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...ke.errToObj(t)})}cidr(t){return this._addCheck({kind:"cidr",...ke.errToObj(t)})}datetime(t){return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,offset:(t==null?void 0:t.offset)??!1,local:(t==null?void 0:t.local)??!1,...ke.errToObj(t==null?void 0:t.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,...ke.errToObj(t==null?void 0:t.message)})}duration(t){return this._addCheck({kind:"duration",...ke.errToObj(t)})}regex(t,n){return this._addCheck({kind:"regex",regex:t,...ke.errToObj(n)})}includes(t,n){return this._addCheck({kind:"includes",value:t,position:n==null?void 0:n.position,...ke.errToObj(n==null?void 0:n.message)})}startsWith(t,n){return this._addCheck({kind:"startsWith",value:t,...ke.errToObj(n)})}endsWith(t,n){return this._addCheck({kind:"endsWith",value:t,...ke.errToObj(n)})}min(t,n){return this._addCheck({kind:"min",value:t,...ke.errToObj(n)})}max(t,n){return this._addCheck({kind:"max",value:t,...ke.errToObj(n)})}length(t,n){return this._addCheck({kind:"length",value:t,...ke.errToObj(n)})}nonempty(t){return this.min(1,ke.errToObj(t))}trim(){return new vi({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new vi({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new vi({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isCIDR(){return!!this._def.checks.find(t=>t.kind==="cidr")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get isBase64url(){return!!this._def.checks.find(t=>t.kind==="base64url")}get minLength(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxLength(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}}vi.create=e=>new vi({checks:[],typeName:Me.ZodString,coerce:(e==null?void 0:e.coerce)??!1,...Ge(e)});function x7(e,t){const n=(e.toString().split(".")[1]||"").length,r=(t.toString().split(".")[1]||"").length,s=n>r?n:r,i=Number.parseInt(e.toFixed(s).replace(".","")),a=Number.parseInt(t.toFixed(s).replace(".",""));return i%a/10**s}class du extends Xe{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==we.number){const i=this._getOrReturnCtx(t);return ge(i,{code:ie.invalid_type,expected:we.number,received:i.parsedType}),Le}let r;const s=new Qn;for(const i of this._def.checks)i.kind==="int"?et.isInteger(t.data)||(r=this._getOrReturnCtx(t,r),ge(r,{code:ie.invalid_type,expected:"integer",received:"float",message:i.message}),s.dirty()):i.kind==="min"?(i.inclusive?t.data<i.value:t.data<=i.value)&&(r=this._getOrReturnCtx(t,r),ge(r,{code:ie.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?t.data>i.value:t.data>=i.value)&&(r=this._getOrReturnCtx(t,r),ge(r,{code:ie.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="multipleOf"?x7(t.data,i.value)!==0&&(r=this._getOrReturnCtx(t,r),ge(r,{code:ie.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):i.kind==="finite"?Number.isFinite(t.data)||(r=this._getOrReturnCtx(t,r),ge(r,{code:ie.not_finite,message:i.message}),s.dirty()):et.assertNever(i);return{status:s.value,value:t.data}}gte(t,n){return this.setLimit("min",t,!0,ke.toString(n))}gt(t,n){return this.setLimit("min",t,!1,ke.toString(n))}lte(t,n){return this.setLimit("max",t,!0,ke.toString(n))}lt(t,n){return this.setLimit("max",t,!1,ke.toString(n))}setLimit(t,n,r,s){return new du({...this._def,checks:[...this._def.checks,{kind:t,value:n,inclusive:r,message:ke.toString(s)}]})}_addCheck(t){return new du({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:ke.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:ke.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:ke.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:ke.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:ke.toString(t)})}multipleOf(t,n){return this._addCheck({kind:"multipleOf",value:t,message:ke.toString(n)})}finite(t){return this._addCheck({kind:"finite",message:ke.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:ke.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:ke.toString(t)})}get minValue(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxValue(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&et.isInteger(t.value))}get isFinite(){let t=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(t===null||r.value<t)&&(t=r.value)}return Number.isFinite(n)&&Number.isFinite(t)}}du.create=e=>new du({checks:[],typeName:Me.ZodNumber,coerce:(e==null?void 0:e.coerce)||!1,...Ge(e)});class hu extends Xe{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce)try{t.data=BigInt(t.data)}catch{return this._getInvalidInput(t)}if(this._getType(t)!==we.bigint)return this._getInvalidInput(t);let r;const s=new Qn;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?t.data<i.value:t.data<=i.value)&&(r=this._getOrReturnCtx(t,r),ge(r,{code:ie.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?t.data>i.value:t.data>=i.value)&&(r=this._getOrReturnCtx(t,r),ge(r,{code:ie.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="multipleOf"?t.data%i.value!==BigInt(0)&&(r=this._getOrReturnCtx(t,r),ge(r,{code:ie.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):et.assertNever(i);return{status:s.value,value:t.data}}_getInvalidInput(t){const n=this._getOrReturnCtx(t);return ge(n,{code:ie.invalid_type,expected:we.bigint,received:n.parsedType}),Le}gte(t,n){return this.setLimit("min",t,!0,ke.toString(n))}gt(t,n){return this.setLimit("min",t,!1,ke.toString(n))}lte(t,n){return this.setLimit("max",t,!0,ke.toString(n))}lt(t,n){return this.setLimit("max",t,!1,ke.toString(n))}setLimit(t,n,r,s){return new hu({...this._def,checks:[...this._def.checks,{kind:t,value:n,inclusive:r,message:ke.toString(s)}]})}_addCheck(t){return new hu({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:ke.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:ke.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:ke.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:ke.toString(t)})}multipleOf(t,n){return this._addCheck({kind:"multipleOf",value:t,message:ke.toString(n)})}get minValue(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxValue(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}}hu.create=e=>new hu({checks:[],typeName:Me.ZodBigInt,coerce:(e==null?void 0:e.coerce)??!1,...Ge(e)});class Kb extends Xe{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==we.boolean){const r=this._getOrReturnCtx(t);return ge(r,{code:ie.invalid_type,expected:we.boolean,received:r.parsedType}),Le}return pr(t.data)}}Kb.create=e=>new Kb({typeName:Me.ZodBoolean,coerce:(e==null?void 0:e.coerce)||!1,...Ge(e)});class ef extends Xe{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==we.date){const i=this._getOrReturnCtx(t);return ge(i,{code:ie.invalid_type,expected:we.date,received:i.parsedType}),Le}if(Number.isNaN(t.data.getTime())){const i=this._getOrReturnCtx(t);return ge(i,{code:ie.invalid_date}),Le}const r=new Qn;let s;for(const i of this._def.checks)i.kind==="min"?t.data.getTime()<i.value&&(s=this._getOrReturnCtx(t,s),ge(s,{code:ie.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),r.dirty()):i.kind==="max"?t.data.getTime()>i.value&&(s=this._getOrReturnCtx(t,s),ge(s,{code:ie.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),r.dirty()):et.assertNever(i);return{status:r.value,value:new Date(t.data.getTime())}}_addCheck(t){return new ef({...this._def,checks:[...this._def.checks,t]})}min(t,n){return this._addCheck({kind:"min",value:t.getTime(),message:ke.toString(n)})}max(t,n){return this._addCheck({kind:"max",value:t.getTime(),message:ke.toString(n)})}get minDate(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t!=null?new Date(t):null}}ef.create=e=>new ef({checks:[],coerce:(e==null?void 0:e.coerce)||!1,typeName:Me.ZodDate,...Ge(e)});class Yb extends Xe{_parse(t){if(this._getType(t)!==we.symbol){const r=this._getOrReturnCtx(t);return ge(r,{code:ie.invalid_type,expected:we.symbol,received:r.parsedType}),Le}return pr(t.data)}}Yb.create=e=>new Yb({typeName:Me.ZodSymbol,...Ge(e)});class Xb extends Xe{_parse(t){if(this._getType(t)!==we.undefined){const r=this._getOrReturnCtx(t);return ge(r,{code:ie.invalid_type,expected:we.undefined,received:r.parsedType}),Le}return pr(t.data)}}Xb.create=e=>new Xb({typeName:Me.ZodUndefined,...Ge(e)});class Qb extends Xe{_parse(t){if(this._getType(t)!==we.null){const r=this._getOrReturnCtx(t);return ge(r,{code:ie.invalid_type,expected:we.null,received:r.parsedType}),Le}return pr(t.data)}}Qb.create=e=>new Qb({typeName:Me.ZodNull,...Ge(e)});class Jb extends Xe{constructor(){super(...arguments),this._any=!0}_parse(t){return pr(t.data)}}Jb.create=e=>new Jb({typeName:Me.ZodAny,...Ge(e)});class e1 extends Xe{constructor(){super(...arguments),this._unknown=!0}_parse(t){return pr(t.data)}}e1.create=e=>new e1({typeName:Me.ZodUnknown,...Ge(e)});class Oi extends Xe{_parse(t){const n=this._getOrReturnCtx(t);return ge(n,{code:ie.invalid_type,expected:we.never,received:n.parsedType}),Le}}Oi.create=e=>new Oi({typeName:Me.ZodNever,...Ge(e)});class t1 extends Xe{_parse(t){if(this._getType(t)!==we.undefined){const r=this._getOrReturnCtx(t);return ge(r,{code:ie.invalid_type,expected:we.void,received:r.parsedType}),Le}return pr(t.data)}}t1.create=e=>new t1({typeName:Me.ZodVoid,...Ge(e)});class us extends Xe{_parse(t){const{ctx:n,status:r}=this._processInputParams(t),s=this._def;if(n.parsedType!==we.array)return ge(n,{code:ie.invalid_type,expected:we.array,received:n.parsedType}),Le;if(s.exactLength!==null){const a=n.data.length>s.exactLength.value,c=n.data.length<s.exactLength.value;(a||c)&&(ge(n,{code:a?ie.too_big:ie.too_small,minimum:c?s.exactLength.value:void 0,maximum:a?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),r.dirty())}if(s.minLength!==null&&n.data.length<s.minLength.value&&(ge(n,{code:ie.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),r.dirty()),s.maxLength!==null&&n.data.length>s.maxLength.value&&(ge(n,{code:ie.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((a,c)=>s.type._parseAsync(new Ai(n,a,n.path,c)))).then(a=>Qn.mergeArray(r,a));const i=[...n.data].map((a,c)=>s.type._parseSync(new Ai(n,a,n.path,c)));return Qn.mergeArray(r,i)}get element(){return this._def.type}min(t,n){return new us({...this._def,minLength:{value:t,message:ke.toString(n)}})}max(t,n){return new us({...this._def,maxLength:{value:t,message:ke.toString(n)}})}length(t,n){return new us({...this._def,exactLength:{value:t,message:ke.toString(n)}})}nonempty(t){return this.min(1,t)}}us.create=(e,t)=>new us({type:e,minLength:null,maxLength:null,exactLength:null,typeName:Me.ZodArray,...Ge(t)});function xa(e){if(e instanceof bt){const t={};for(const n in e.shape){const r=e.shape[n];t[n]=Pi.create(xa(r))}return new bt({...e._def,shape:()=>t})}else return e instanceof us?new us({...e._def,type:xa(e.element)}):e instanceof Pi?Pi.create(xa(e.unwrap())):e instanceof yl?yl.create(xa(e.unwrap())):e instanceof Oo?Oo.create(e.items.map(t=>xa(t))):e}class bt extends Xe{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),n=et.objectKeys(t);return this._cached={shape:t,keys:n},this._cached}_parse(t){if(this._getType(t)!==we.object){const h=this._getOrReturnCtx(t);return ge(h,{code:ie.invalid_type,expected:we.object,received:h.parsedType}),Le}const{status:r,ctx:s}=this._processInputParams(t),{shape:i,keys:a}=this._getCached(),c=[];if(!(this._def.catchall instanceof Oi&&this._def.unknownKeys==="strip"))for(const h in s.data)a.includes(h)||c.push(h);const d=[];for(const h of a){const m=i[h],g=s.data[h];d.push({key:{status:"valid",value:h},value:m._parse(new Ai(s,g,s.path,h)),alwaysSet:h in s.data})}if(this._def.catchall instanceof Oi){const h=this._def.unknownKeys;if(h==="passthrough")for(const m of c)d.push({key:{status:"valid",value:m},value:{status:"valid",value:s.data[m]}});else if(h==="strict")c.length>0&&(ge(s,{code:ie.unrecognized_keys,keys:c}),r.dirty());else if(h!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const h=this._def.catchall;for(const m of c){const g=s.data[m];d.push({key:{status:"valid",value:m},value:h._parse(new Ai(s,g,s.path,m)),alwaysSet:m in s.data})}}return s.common.async?Promise.resolve().then(async()=>{const h=[];for(const m of d){const g=await m.key,y=await m.value;h.push({key:g,value:y,alwaysSet:m.alwaysSet})}return h}).then(h=>Qn.mergeObjectSync(r,h)):Qn.mergeObjectSync(r,d)}get shape(){return this._def.shape()}strict(t){return ke.errToObj,new bt({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(n,r)=>{var i,a;const s=((a=(i=this._def).errorMap)==null?void 0:a.call(i,n,r).message)??r.defaultError;return n.code==="unrecognized_keys"?{message:ke.errToObj(t).message??s}:{message:s}}}:{}})}strip(){return new bt({...this._def,unknownKeys:"strip"})}passthrough(){return new bt({...this._def,unknownKeys:"passthrough"})}extend(t){return new bt({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new bt({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:Me.ZodObject})}setKey(t,n){return this.augment({[t]:n})}catchall(t){return new bt({...this._def,catchall:t})}pick(t){const n={};for(const r of et.objectKeys(t))t[r]&&this.shape[r]&&(n[r]=this.shape[r]);return new bt({...this._def,shape:()=>n})}omit(t){const n={};for(const r of et.objectKeys(this.shape))t[r]||(n[r]=this.shape[r]);return new bt({...this._def,shape:()=>n})}deepPartial(){return xa(this)}partial(t){const n={};for(const r of et.objectKeys(this.shape)){const s=this.shape[r];t&&!t[r]?n[r]=s:n[r]=s.optional()}return new bt({...this._def,shape:()=>n})}required(t){const n={};for(const r of et.objectKeys(this.shape))if(t&&!t[r])n[r]=this.shape[r];else{let i=this.shape[r];for(;i instanceof Pi;)i=i._def.innerType;n[r]=i}return new bt({...this._def,shape:()=>n})}keyof(){return x2(et.objectKeys(this.shape))}}bt.create=(e,t)=>new bt({shape:()=>e,unknownKeys:"strip",catchall:Oi.create(),typeName:Me.ZodObject,...Ge(t)});bt.strictCreate=(e,t)=>new bt({shape:()=>e,unknownKeys:"strict",catchall:Oi.create(),typeName:Me.ZodObject,...Ge(t)});bt.lazycreate=(e,t)=>new bt({shape:e,unknownKeys:"strip",catchall:Oi.create(),typeName:Me.ZodObject,...Ge(t)});class tf extends Xe{_parse(t){const{ctx:n}=this._processInputParams(t),r=this._def.options;function s(i){for(const c of i)if(c.result.status==="valid")return c.result;for(const c of i)if(c.result.status==="dirty")return n.common.issues.push(...c.ctx.common.issues),c.result;const a=i.map(c=>new Us(c.ctx.common.issues));return ge(n,{code:ie.invalid_union,unionErrors:a}),Le}if(n.common.async)return Promise.all(r.map(async i=>{const a={...n,common:{...n.common,issues:[]},parent:null};return{result:await i._parseAsync({data:n.data,path:n.path,parent:a}),ctx:a}})).then(s);{let i;const a=[];for(const d of r){const h={...n,common:{...n.common,issues:[]},parent:null},m=d._parseSync({data:n.data,path:n.path,parent:h});if(m.status==="valid")return m;m.status==="dirty"&&!i&&(i={result:m,ctx:h}),h.common.issues.length&&a.push(h.common.issues)}if(i)return n.common.issues.push(...i.ctx.common.issues),i.result;const c=a.map(d=>new Us(d));return ge(n,{code:ie.invalid_union,unionErrors:c}),Le}}get options(){return this._def.options}}tf.create=(e,t)=>new tf({options:e,typeName:Me.ZodUnion,...Ge(t)});function bv(e,t){const n=si(e),r=si(t);if(e===t)return{valid:!0,data:e};if(n===we.object&&r===we.object){const s=et.objectKeys(t),i=et.objectKeys(e).filter(c=>s.indexOf(c)!==-1),a={...e,...t};for(const c of i){const d=bv(e[c],t[c]);if(!d.valid)return{valid:!1};a[c]=d.data}return{valid:!0,data:a}}else if(n===we.array&&r===we.array){if(e.length!==t.length)return{valid:!1};const s=[];for(let i=0;i<e.length;i++){const a=e[i],c=t[i],d=bv(a,c);if(!d.valid)return{valid:!1};s.push(d.data)}return{valid:!0,data:s}}else return n===we.date&&r===we.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class nf extends Xe{_parse(t){const{status:n,ctx:r}=this._processInputParams(t),s=(i,a)=>{if(Hb(i)||Hb(a))return Le;const c=bv(i.value,a.value);return c.valid?((Gb(i)||Gb(a))&&n.dirty(),{status:n.value,value:c.data}):(ge(r,{code:ie.invalid_intersection_types}),Le)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([i,a])=>s(i,a)):s(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}nf.create=(e,t,n)=>new nf({left:e,right:t,typeName:Me.ZodIntersection,...Ge(n)});class Oo extends Xe{_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==we.array)return ge(r,{code:ie.invalid_type,expected:we.array,received:r.parsedType}),Le;if(r.data.length<this._def.items.length)return ge(r,{code:ie.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Le;!this._def.rest&&r.data.length>this._def.items.length&&(ge(r,{code:ie.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const i=[...r.data].map((a,c)=>{const d=this._def.items[c]||this._def.rest;return d?d._parse(new Ai(r,a,r.path,c)):null}).filter(a=>!!a);return r.common.async?Promise.all(i).then(a=>Qn.mergeArray(n,a)):Qn.mergeArray(n,i)}get items(){return this._def.items}rest(t){return new Oo({...this._def,rest:t})}}Oo.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Oo({items:e,typeName:Me.ZodTuple,rest:null,...Ge(t)})};class n1 extends Xe{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==we.map)return ge(r,{code:ie.invalid_type,expected:we.map,received:r.parsedType}),Le;const s=this._def.keyType,i=this._def.valueType,a=[...r.data.entries()].map(([c,d],h)=>({key:s._parse(new Ai(r,c,r.path,[h,"key"])),value:i._parse(new Ai(r,d,r.path,[h,"value"]))}));if(r.common.async){const c=new Map;return Promise.resolve().then(async()=>{for(const d of a){const h=await d.key,m=await d.value;if(h.status==="aborted"||m.status==="aborted")return Le;(h.status==="dirty"||m.status==="dirty")&&n.dirty(),c.set(h.value,m.value)}return{status:n.value,value:c}})}else{const c=new Map;for(const d of a){const h=d.key,m=d.value;if(h.status==="aborted"||m.status==="aborted")return Le;(h.status==="dirty"||m.status==="dirty")&&n.dirty(),c.set(h.value,m.value)}return{status:n.value,value:c}}}}n1.create=(e,t,n)=>new n1({valueType:t,keyType:e,typeName:Me.ZodMap,...Ge(n)});class fu extends Xe{_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==we.set)return ge(r,{code:ie.invalid_type,expected:we.set,received:r.parsedType}),Le;const s=this._def;s.minSize!==null&&r.data.size<s.minSize.value&&(ge(r,{code:ie.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),n.dirty()),s.maxSize!==null&&r.data.size>s.maxSize.value&&(ge(r,{code:ie.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),n.dirty());const i=this._def.valueType;function a(d){const h=new Set;for(const m of d){if(m.status==="aborted")return Le;m.status==="dirty"&&n.dirty(),h.add(m.value)}return{status:n.value,value:h}}const c=[...r.data.values()].map((d,h)=>i._parse(new Ai(r,d,r.path,h)));return r.common.async?Promise.all(c).then(d=>a(d)):a(c)}min(t,n){return new fu({...this._def,minSize:{value:t,message:ke.toString(n)}})}max(t,n){return new fu({...this._def,maxSize:{value:t,message:ke.toString(n)}})}size(t,n){return this.min(t,n).max(t,n)}nonempty(t){return this.min(1,t)}}fu.create=(e,t)=>new fu({valueType:e,minSize:null,maxSize:null,typeName:Me.ZodSet,...Ge(t)});class r1 extends Xe{get schema(){return this._def.getter()}_parse(t){const{ctx:n}=this._processInputParams(t);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}r1.create=(e,t)=>new r1({getter:e,typeName:Me.ZodLazy,...Ge(t)});class s1 extends Xe{_parse(t){if(t.data!==this._def.value){const n=this._getOrReturnCtx(t);return ge(n,{received:n.data,code:ie.invalid_literal,expected:this._def.value}),Le}return{status:"valid",value:t.data}}get value(){return this._def.value}}s1.create=(e,t)=>new s1({value:e,typeName:Me.ZodLiteral,...Ge(t)});function x2(e,t){return new gl({values:e,typeName:Me.ZodEnum,...Ge(t)})}class gl extends Xe{_parse(t){if(typeof t.data!="string"){const n=this._getOrReturnCtx(t),r=this._def.values;return ge(n,{expected:et.joinValues(r),received:n.parsedType,code:ie.invalid_type}),Le}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(t.data)){const n=this._getOrReturnCtx(t),r=this._def.values;return ge(n,{received:n.data,code:ie.invalid_enum_value,options:r}),Le}return pr(t.data)}get options(){return this._def.values}get enum(){const t={};for(const n of this._def.values)t[n]=n;return t}get Values(){const t={};for(const n of this._def.values)t[n]=n;return t}get Enum(){const t={};for(const n of this._def.values)t[n]=n;return t}extract(t,n=this._def){return gl.create(t,{...this._def,...n})}exclude(t,n=this._def){return gl.create(this.options.filter(r=>!t.includes(r)),{...this._def,...n})}}gl.create=x2;class i1 extends Xe{_parse(t){const n=et.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(t);if(r.parsedType!==we.string&&r.parsedType!==we.number){const s=et.objectValues(n);return ge(r,{expected:et.joinValues(s),received:r.parsedType,code:ie.invalid_type}),Le}if(this._cache||(this._cache=new Set(et.getValidEnumValues(this._def.values))),!this._cache.has(t.data)){const s=et.objectValues(n);return ge(r,{received:r.data,code:ie.invalid_enum_value,options:s}),Le}return pr(t.data)}get enum(){return this._def.values}}i1.create=(e,t)=>new i1({values:e,typeName:Me.ZodNativeEnum,...Ge(t)});class rf extends Xe{unwrap(){return this._def.type}_parse(t){const{ctx:n}=this._processInputParams(t);if(n.parsedType!==we.promise&&n.common.async===!1)return ge(n,{code:ie.invalid_type,expected:we.promise,received:n.parsedType}),Le;const r=n.parsedType===we.promise?n.data:Promise.resolve(n.data);return pr(r.then(s=>this._def.type.parseAsync(s,{path:n.path,errorMap:n.common.contextualErrorMap})))}}rf.create=(e,t)=>new rf({type:e,typeName:Me.ZodPromise,...Ge(t)});class vl extends Xe{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Me.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:n,ctx:r}=this._processInputParams(t),s=this._def.effect||null,i={addIssue:a=>{ge(r,a),a.fatal?n.abort():n.dirty()},get path(){return r.path}};if(i.addIssue=i.addIssue.bind(i),s.type==="preprocess"){const a=s.transform(r.data,i);if(r.common.async)return Promise.resolve(a).then(async c=>{if(n.value==="aborted")return Le;const d=await this._def.schema._parseAsync({data:c,path:r.path,parent:r});return d.status==="aborted"?Le:d.status==="dirty"||n.value==="dirty"?gc(d.value):d});{if(n.value==="aborted")return Le;const c=this._def.schema._parseSync({data:a,path:r.path,parent:r});return c.status==="aborted"?Le:c.status==="dirty"||n.value==="dirty"?gc(c.value):c}}if(s.type==="refinement"){const a=c=>{const d=s.refinement(c,i);if(r.common.async)return Promise.resolve(d);if(d instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return c};if(r.common.async===!1){const c=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return c.status==="aborted"?Le:(c.status==="dirty"&&n.dirty(),a(c.value),{status:n.value,value:c.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(c=>c.status==="aborted"?Le:(c.status==="dirty"&&n.dirty(),a(c.value).then(()=>({status:n.value,value:c.value}))))}if(s.type==="transform")if(r.common.async===!1){const a=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!pl(a))return Le;const c=s.transform(a.value,i);if(c instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:c}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(a=>pl(a)?Promise.resolve(s.transform(a.value,i)).then(c=>({status:n.value,value:c})):Le);et.assertNever(s)}}vl.create=(e,t,n)=>new vl({schema:e,typeName:Me.ZodEffects,effect:t,...Ge(n)});vl.createWithPreprocess=(e,t,n)=>new vl({schema:t,effect:{type:"preprocess",transform:e},typeName:Me.ZodEffects,...Ge(n)});class Pi extends Xe{_parse(t){return this._getType(t)===we.undefined?pr(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}Pi.create=(e,t)=>new Pi({innerType:e,typeName:Me.ZodOptional,...Ge(t)});class yl extends Xe{_parse(t){return this._getType(t)===we.null?pr(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}yl.create=(e,t)=>new yl({innerType:e,typeName:Me.ZodNullable,...Ge(t)});class Sv extends Xe{_parse(t){const{ctx:n}=this._processInputParams(t);let r=n.data;return n.parsedType===we.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}Sv.create=(e,t)=>new Sv({innerType:e,typeName:Me.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...Ge(t)});class kv extends Xe{_parse(t){const{ctx:n}=this._processInputParams(t),r={...n,common:{...n.common,issues:[]}},s=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return Jh(s)?s.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new Us(r.common.issues)},input:r.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new Us(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}kv.create=(e,t)=>new kv({innerType:e,typeName:Me.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...Ge(t)});class o1 extends Xe{_parse(t){if(this._getType(t)!==we.nan){const r=this._getOrReturnCtx(t);return ge(r,{code:ie.invalid_type,expected:we.nan,received:r.parsedType}),Le}return{status:"valid",value:t.data}}}o1.create=e=>new o1({typeName:Me.ZodNaN,...Ge(e)});class _7 extends Xe{_parse(t){const{ctx:n}=this._processInputParams(t),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class Hx extends Xe{_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?Le:i.status==="dirty"?(n.dirty(),gc(i.value)):this._def.out._parseAsync({data:i.value,path:r.path,parent:r})})();{const s=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return s.status==="aborted"?Le:s.status==="dirty"?(n.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:r.path,parent:r})}}static create(t,n){return new Hx({in:t,out:n,typeName:Me.ZodPipeline})}}class Nv extends Xe{_parse(t){const n=this._def.innerType._parse(t),r=s=>(pl(s)&&(s.value=Object.freeze(s.value)),s);return Jh(n)?n.then(s=>r(s)):r(n)}unwrap(){return this._def.innerType}}Nv.create=(e,t)=>new Nv({innerType:e,typeName:Me.ZodReadonly,...Ge(t)});bt.lazycreate;var Me;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(Me||(Me={}));const Oa=vi.create;Oi.create;us.create;const _2=bt.create;bt.strictCreate;tf.create;nf.create;Oo.create;gl.create;rf.create;Pi.create;yl.create;var Mu=e=>e.type==="checkbox",fo=e=>e instanceof Date,pn=e=>e==null;const w2=e=>typeof e=="object";var Tt=e=>!pn(e)&&!Array.isArray(e)&&w2(e)&&!fo(e),b2=e=>Tt(e)&&e.target?Mu(e.target)?e.target.checked:e.target.value:e,w7=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,S2=(e,t)=>e.has(w7(t)),b7=e=>{const t=e.constructor&&e.constructor.prototype;return Tt(t)&&t.hasOwnProperty("isPrototypeOf")},Gx=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Dt(e){let t;const n=Array.isArray(e),r=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)t=new Date(e);else if(!(Gx&&(e instanceof Blob||r))&&(n||Tt(e)))if(t=n?[]:{},!n&&!b7(e))t=e;else for(const s in e)e.hasOwnProperty(s)&&(t[s]=Dt(e[s]));else return e;return t}var dm=e=>/^\w*$/.test(e),Pt=e=>e===void 0,Zx=e=>Array.isArray(e)?e.filter(Boolean):[],Kx=e=>Zx(e.replace(/["|']|\]/g,"").split(/\.|\[/)),he=(e,t,n)=>{if(!t||!Tt(e))return n;const r=(dm(t)?[t]:Kx(t)).reduce((s,i)=>pn(s)?s:s[i],e);return Pt(r)||r===e?Pt(e[t])?n:e[t]:r},qn=e=>typeof e=="boolean",rt=(e,t,n)=>{let r=-1;const s=dm(t)?[t]:Kx(t),i=s.length,a=i-1;for(;++r<i;){const c=s[r];let d=n;if(r!==a){const h=e[c];d=Tt(h)||Array.isArray(h)?h:isNaN(+s[r+1])?{}:[]}if(c==="__proto__"||c==="constructor"||c==="prototype")return;e[c]=d,e=e[c]}};const sf={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Or={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},bs={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},Yx=Y.createContext(null);Yx.displayName="HookFormContext";const hm=()=>Y.useContext(Yx),S7=e=>{const{children:t,...n}=e;return Y.createElement(Yx.Provider,{value:n},t)};var k2=(e,t,n,r=!0)=>{const s={defaultValues:t._defaultValues};for(const i in e)Object.defineProperty(s,i,{get:()=>{const a=i;return t._proxyFormState[a]!==Or.all&&(t._proxyFormState[a]=!r||Or.all),n&&(n[a]=!0),e[a]}});return s};const Xx=typeof window<"u"?Y.useLayoutEffect:Y.useEffect;function k7(e){const t=hm(),{control:n=t.control,disabled:r,name:s,exact:i}=e||{},[a,c]=Y.useState(n._formState),d=Y.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return Xx(()=>n._subscribe({name:s,formState:d.current,exact:i,callback:h=>{!r&&c({...n._formState,...h})}}),[s,r,i]),Y.useEffect(()=>{d.current.isValid&&n._setValid(!0)},[n]),Y.useMemo(()=>k2(a,n,d.current,!1),[a,n])}var os=e=>typeof e=="string",N2=(e,t,n,r,s)=>os(e)?(r&&t.watch.add(e),he(n,e,s)):Array.isArray(e)?e.map(i=>(r&&t.watch.add(i),he(n,i))):(r&&(t.watchAll=!0),n),Cv=e=>pn(e)||!w2(e);function Ts(e,t,n=new WeakSet){if(Cv(e)||Cv(t))return e===t;if(fo(e)&&fo(t))return e.getTime()===t.getTime();const r=Object.keys(e),s=Object.keys(t);if(r.length!==s.length)return!1;if(n.has(e)||n.has(t))return!0;n.add(e),n.add(t);for(const i of r){const a=e[i];if(!s.includes(i))return!1;if(i!=="ref"){const c=t[i];if(fo(a)&&fo(c)||Tt(a)&&Tt(c)||Array.isArray(a)&&Array.isArray(c)?!Ts(a,c,n):a!==c)return!1}}return!0}function N7(e){const t=hm(),{control:n=t.control,name:r,defaultValue:s,disabled:i,exact:a,compute:c}=e||{},d=Y.useRef(s),h=Y.useRef(c),m=Y.useRef(void 0);h.current=c;const g=Y.useMemo(()=>n._getWatch(r,d.current),[n,r]),[y,v]=Y.useState(h.current?h.current(g):g);return Xx(()=>n._subscribe({name:r,formState:{values:!0},exact:a,callback:b=>{if(!i){const x=N2(r,n._names,b.values||n._formValues,!1,d.current);if(h.current){const S=h.current(x);Ts(S,m.current)||(v(S),m.current=S)}else v(x)}}}),[n,i,r,a]),Y.useEffect(()=>n._removeUnmounted()),y}function C7(e){const t=hm(),{name:n,disabled:r,control:s=t.control,shouldUnregister:i,defaultValue:a}=e,c=S2(s._names.array,n),d=Y.useMemo(()=>he(s._formValues,n,he(s._defaultValues,n,a)),[s,n,a]),h=N7({control:s,name:n,defaultValue:d,exact:!0}),m=k7({control:s,name:n,exact:!0}),g=Y.useRef(e),y=Y.useRef(s.register(n,{...e.rules,value:h,...qn(e.disabled)?{disabled:e.disabled}:{}}));g.current=e;const v=Y.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!he(m.errors,n)},isDirty:{enumerable:!0,get:()=>!!he(m.dirtyFields,n)},isTouched:{enumerable:!0,get:()=>!!he(m.touchedFields,n)},isValidating:{enumerable:!0,get:()=>!!he(m.validatingFields,n)},error:{enumerable:!0,get:()=>he(m.errors,n)}}),[m,n]),b=Y.useCallback(w=>y.current.onChange({target:{value:b2(w),name:n},type:sf.CHANGE}),[n]),x=Y.useCallback(()=>y.current.onBlur({target:{value:he(s._formValues,n),name:n},type:sf.BLUR}),[n,s._formValues]),S=Y.useCallback(w=>{const k=he(s._fields,n);k&&w&&(k._f.ref={focus:()=>w.focus&&w.focus(),select:()=>w.select&&w.select(),setCustomValidity:P=>w.setCustomValidity(P),reportValidity:()=>w.reportValidity()})},[s._fields,n]),N=Y.useMemo(()=>({name:n,value:h,...qn(r)||m.disabled?{disabled:m.disabled||r}:{},onChange:b,onBlur:x,ref:S}),[n,r,m.disabled,b,x,S,h]);return Y.useEffect(()=>{const w=s._options.shouldUnregister||i;s.register(n,{...g.current.rules,...qn(g.current.disabled)?{disabled:g.current.disabled}:{}});const k=(P,T)=>{const R=he(s._fields,P);R&&R._f&&(R._f.mount=T)};if(k(n,!0),w){const P=Dt(he(s._options.defaultValues,n));rt(s._defaultValues,n,P),Pt(he(s._formValues,n))&&rt(s._formValues,n,P)}return!c&&s.register(n),()=>{(c?w&&!s._state.action:w)?s.unregister(n):k(n,!1)}},[n,s,c,i]),Y.useEffect(()=>{s._setDisabledField({disabled:r,name:n})},[r,n,s]),Y.useMemo(()=>({field:N,formState:m,fieldState:v}),[N,m,v])}const P7=e=>e.render(C7(e));var C2=(e,t,n,r,s)=>t?{...n[e],types:{...n[e]&&n[e].types?n[e].types:{},[r]:s||!0}}:{},Tc=e=>Array.isArray(e)?e:[e],a1=()=>{let e=[];return{get observers(){return e},next:s=>{for(const i of e)i.next&&i.next(s)},subscribe:s=>(e.push(s),{unsubscribe:()=>{e=e.filter(i=>i!==s)}}),unsubscribe:()=>{e=[]}}},jn=e=>Tt(e)&&!Object.keys(e).length,Qx=e=>e.type==="file",Lr=e=>typeof e=="function",of=e=>{if(!Gx)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},P2=e=>e.type==="select-multiple",Jx=e=>e.type==="radio",j7=e=>Jx(e)||Mu(e),Vp=e=>of(e)&&e.isConnected;function T7(e,t){const n=t.slice(0,-1).length;let r=0;for(;r<n;)e=Pt(e)?r++:e[t[r++]];return e}function E7(e){for(const t in e)if(e.hasOwnProperty(t)&&!Pt(e[t]))return!1;return!0}function Ot(e,t){const n=Array.isArray(t)?t:dm(t)?[t]:Kx(t),r=n.length===1?e:T7(e,n),s=n.length-1,i=n[s];return r&&delete r[i],s!==0&&(Tt(r)&&jn(r)||Array.isArray(r)&&E7(r))&&Ot(e,n.slice(0,-1)),e}var j2=e=>{for(const t in e)if(Lr(e[t]))return!0;return!1};function af(e,t={}){const n=Array.isArray(e);if(Tt(e)||n)for(const r in e)Array.isArray(e[r])||Tt(e[r])&&!j2(e[r])?(t[r]=Array.isArray(e[r])?[]:{},af(e[r],t[r])):pn(e[r])||(t[r]=!0);return t}function T2(e,t,n){const r=Array.isArray(e);if(Tt(e)||r)for(const s in e)Array.isArray(e[s])||Tt(e[s])&&!j2(e[s])?Pt(t)||Cv(n[s])?n[s]=Array.isArray(e[s])?af(e[s],[]):{...af(e[s])}:T2(e[s],pn(t)?{}:t[s],n[s]):n[s]=!Ts(e[s],t[s]);return n}var oc=(e,t)=>T2(e,t,af(t));const l1={value:!1,isValid:!1},c1={value:!0,isValid:!0};var E2=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!Pt(e[0].attributes.value)?Pt(e[0].value)||e[0].value===""?c1:{value:e[0].value,isValid:!0}:c1:l1}return l1},R2=(e,{valueAsNumber:t,valueAsDate:n,setValueAs:r})=>Pt(e)?e:t?e===""?NaN:e&&+e:n&&os(e)?new Date(e):r?r(e):e;const u1={isValid:!1,value:null};var A2=e=>Array.isArray(e)?e.reduce((t,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:t,u1):u1;function d1(e){const t=e.ref;return Qx(t)?t.files:Jx(t)?A2(e.refs).value:P2(t)?[...t.selectedOptions].map(({value:n})=>n):Mu(t)?E2(e.refs).value:R2(Pt(t.value)?e.ref.value:t.value,e)}var R7=(e,t,n,r)=>{const s={};for(const i of e){const a=he(t,i);a&&rt(s,i,a._f)}return{criteriaMode:n,names:[...e],fields:s,shouldUseNativeValidation:r}},lf=e=>e instanceof RegExp,ac=e=>Pt(e)?e:lf(e)?e.source:Tt(e)?lf(e.value)?e.value.source:e.value:e,h1=e=>({isOnSubmit:!e||e===Or.onSubmit,isOnBlur:e===Or.onBlur,isOnChange:e===Or.onChange,isOnAll:e===Or.all,isOnTouch:e===Or.onTouched});const f1="AsyncFunction";var A7=e=>!!e&&!!e.validate&&!!(Lr(e.validate)&&e.validate.constructor.name===f1||Tt(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===f1)),O7=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),m1=(e,t,n)=>!n&&(t.watchAll||t.watch.has(e)||[...t.watch].some(r=>e.startsWith(r)&&/^\.\w+/.test(e.slice(r.length))));const Ec=(e,t,n,r)=>{for(const s of n||Object.keys(e)){const i=he(e,s);if(i){const{_f:a,...c}=i;if(a){if(a.refs&&a.refs[0]&&t(a.refs[0],s)&&!r)return!0;if(a.ref&&t(a.ref,a.name)&&!r)return!0;if(Ec(c,t))break}else if(Tt(c)&&Ec(c,t))break}}};function p1(e,t,n){const r=he(e,n);if(r||dm(n))return{error:r,name:n};const s=n.split(".");for(;s.length;){const i=s.join("."),a=he(t,i),c=he(e,i);if(a&&!Array.isArray(a)&&n!==i)return{name:n};if(c&&c.type)return{name:i,error:c};if(c&&c.root&&c.root.type)return{name:`${i}.root`,error:c.root};s.pop()}return{name:n}}var L7=(e,t,n,r)=>{n(e);const{name:s,...i}=e;return jn(i)||Object.keys(i).length>=Object.keys(t).length||Object.keys(i).find(a=>t[a]===(!r||Or.all))},M7=(e,t,n)=>!e||!t||e===t||Tc(e).some(r=>r&&(n?r===t:r.startsWith(t)||t.startsWith(r))),I7=(e,t,n,r,s)=>s.isOnAll?!1:!n&&s.isOnTouch?!(t||e):(n?r.isOnBlur:s.isOnBlur)?!e:(n?r.isOnChange:s.isOnChange)?e:!0,D7=(e,t)=>!Zx(he(e,t)).length&&Ot(e,t),$7=(e,t,n)=>{const r=Tc(he(e,n));return rt(r,"root",t[n]),rt(e,n,r),e},eh=e=>os(e);function g1(e,t,n="validate"){if(eh(e)||Array.isArray(e)&&e.every(eh)||qn(e)&&!e)return{type:n,message:eh(e)?e:"",ref:t}}var fa=e=>Tt(e)&&!lf(e)?e:{value:e,message:""},v1=async(e,t,n,r,s,i)=>{const{ref:a,refs:c,required:d,maxLength:h,minLength:m,min:g,max:y,pattern:v,validate:b,name:x,valueAsNumber:S,mount:N}=e._f,w=he(n,x);if(!N||t.has(x))return{};const k=c?c[0]:a,P=W=>{s&&k.reportValidity&&(k.setCustomValidity(qn(W)?"":W||""),k.reportValidity())},T={},R=Jx(a),E=Mu(a),M=R||E,$=(S||Qx(a))&&Pt(a.value)&&Pt(w)||of(a)&&a.value===""||w===""||Array.isArray(w)&&!w.length,V=C2.bind(null,x,r,T),Q=(W,Z,B,H=bs.maxLength,G=bs.minLength)=>{const se=W?Z:B;T[x]={type:W?H:G,message:se,ref:a,...V(W?H:G,se)}};if(i?!Array.isArray(w)||!w.length:d&&(!M&&($||pn(w))||qn(w)&&!w||E&&!E2(c).isValid||R&&!A2(c).isValid)){const{value:W,message:Z}=eh(d)?{value:!!d,message:d}:fa(d);if(W&&(T[x]={type:bs.required,message:Z,ref:k,...V(bs.required,Z)},!r))return P(Z),T}if(!$&&(!pn(g)||!pn(y))){let W,Z;const B=fa(y),H=fa(g);if(!pn(w)&&!isNaN(w)){const G=a.valueAsNumber||w&&+w;pn(B.value)||(W=G>B.value),pn(H.value)||(Z=G<H.value)}else{const G=a.valueAsDate||new Date(w),se=U=>new Date(new Date().toDateString()+" "+U),A=a.type=="time",D=a.type=="week";os(B.value)&&w&&(W=A?se(w)>se(B.value):D?w>B.value:G>new Date(B.value)),os(H.value)&&w&&(Z=A?se(w)<se(H.value):D?w<H.value:G<new Date(H.value))}if((W||Z)&&(Q(!!W,B.message,H.message,bs.max,bs.min),!r))return P(T[x].message),T}if((h||m)&&!$&&(os(w)||i&&Array.isArray(w))){const W=fa(h),Z=fa(m),B=!pn(W.value)&&w.length>+W.value,H=!pn(Z.value)&&w.length<+Z.value;if((B||H)&&(Q(B,W.message,Z.message),!r))return P(T[x].message),T}if(v&&!$&&os(w)){const{value:W,message:Z}=fa(v);if(lf(W)&&!w.match(W)&&(T[x]={type:bs.pattern,message:Z,ref:a,...V(bs.pattern,Z)},!r))return P(Z),T}if(b){if(Lr(b)){const W=await b(w,n),Z=g1(W,k);if(Z&&(T[x]={...Z,...V(bs.validate,Z.message)},!r))return P(Z.message),T}else if(Tt(b)){let W={};for(const Z in b){if(!jn(W)&&!r)break;const B=g1(await b[Z](w,n),k,Z);B&&(W={...B,...V(Z,B.message)},P(B.message),r&&(T[x]=W))}if(!jn(W)&&(T[x]={ref:k,...W},!r))return T}}return P(!0),T};const F7={mode:Or.onSubmit,reValidateMode:Or.onChange,shouldFocusError:!0};function z7(e={}){let t={...F7,...e},n={submitCount:0,isDirty:!1,isReady:!1,isLoading:Lr(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},r={},s=Tt(t.defaultValues)||Tt(t.values)?Dt(t.defaultValues||t.values)||{}:{},i=t.shouldUnregister?{}:Dt(s),a={action:!1,mount:!1,watch:!1},c={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},d,h=0;const m={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let g={...m};const y={array:a1(),state:a1()},v=t.criteriaMode===Or.all,b=I=>z=>{clearTimeout(h),h=setTimeout(I,z)},x=async I=>{if(!t.disabled&&(m.isValid||g.isValid||I)){const z=t.resolver?jn((await E()).errors):await $(r,!0);z!==n.isValid&&y.state.next({isValid:z})}},S=(I,z)=>{!t.disabled&&(m.isValidating||m.validatingFields||g.isValidating||g.validatingFields)&&((I||Array.from(c.mount)).forEach(K=>{K&&(z?rt(n.validatingFields,K,z):Ot(n.validatingFields,K))}),y.state.next({validatingFields:n.validatingFields,isValidating:!jn(n.validatingFields)}))},N=(I,z=[],K,ce,ue=!0,oe=!0)=>{if(ce&&K&&!t.disabled){if(a.action=!0,oe&&Array.isArray(he(r,I))){const fe=K(he(r,I),ce.argA,ce.argB);ue&&rt(r,I,fe)}if(oe&&Array.isArray(he(n.errors,I))){const fe=K(he(n.errors,I),ce.argA,ce.argB);ue&&rt(n.errors,I,fe),D7(n.errors,I)}if((m.touchedFields||g.touchedFields)&&oe&&Array.isArray(he(n.touchedFields,I))){const fe=K(he(n.touchedFields,I),ce.argA,ce.argB);ue&&rt(n.touchedFields,I,fe)}(m.dirtyFields||g.dirtyFields)&&(n.dirtyFields=oc(s,i)),y.state.next({name:I,isDirty:Q(I,z),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else rt(i,I,z)},w=(I,z)=>{rt(n.errors,I,z),y.state.next({errors:n.errors})},k=I=>{n.errors=I,y.state.next({errors:n.errors,isValid:!1})},P=(I,z,K,ce)=>{const ue=he(r,I);if(ue){const oe=he(i,I,Pt(K)?he(s,I):K);Pt(oe)||ce&&ce.defaultChecked||z?rt(i,I,z?oe:d1(ue._f)):B(I,oe),a.mount&&x()}},T=(I,z,K,ce,ue)=>{let oe=!1,fe=!1;const qe={name:I};if(!t.disabled){if(!K||ce){(m.isDirty||g.isDirty)&&(fe=n.isDirty,n.isDirty=qe.isDirty=Q(),oe=fe!==qe.isDirty);const tt=Ts(he(s,I),z);fe=!!he(n.dirtyFields,I),tt?Ot(n.dirtyFields,I):rt(n.dirtyFields,I,!0),qe.dirtyFields=n.dirtyFields,oe=oe||(m.dirtyFields||g.dirtyFields)&&fe!==!tt}if(K){const tt=he(n.touchedFields,I);tt||(rt(n.touchedFields,I,K),qe.touchedFields=n.touchedFields,oe=oe||(m.touchedFields||g.touchedFields)&&tt!==K)}oe&&ue&&y.state.next(qe)}return oe?qe:{}},R=(I,z,K,ce)=>{const ue=he(n.errors,I),oe=(m.isValid||g.isValid)&&qn(z)&&n.isValid!==z;if(t.delayError&&K?(d=b(()=>w(I,K)),d(t.delayError)):(clearTimeout(h),d=null,K?rt(n.errors,I,K):Ot(n.errors,I)),(K?!Ts(ue,K):ue)||!jn(ce)||oe){const fe={...ce,...oe&&qn(z)?{isValid:z}:{},errors:n.errors,name:I};n={...n,...fe},y.state.next(fe)}},E=async I=>{S(I,!0);const z=await t.resolver(i,t.context,R7(I||c.mount,r,t.criteriaMode,t.shouldUseNativeValidation));return S(I),z},M=async I=>{const{errors:z}=await E(I);if(I)for(const K of I){const ce=he(z,K);ce?rt(n.errors,K,ce):Ot(n.errors,K)}else n.errors=z;return z},$=async(I,z,K={valid:!0})=>{for(const ce in I){const ue=I[ce];if(ue){const{_f:oe,...fe}=ue;if(oe){const qe=c.array.has(oe.name),tt=ue._f&&A7(ue._f);tt&&m.validatingFields&&S([ce],!0);const Jt=await v1(ue,c.disabled,i,v,t.shouldUseNativeValidation&&!z,qe);if(tt&&m.validatingFields&&S([ce]),Jt[oe.name]&&(K.valid=!1,z))break;!z&&(he(Jt,oe.name)?qe?$7(n.errors,Jt,oe.name):rt(n.errors,oe.name,Jt[oe.name]):Ot(n.errors,oe.name))}!jn(fe)&&await $(fe,z,K)}}return K.valid},V=()=>{for(const I of c.unMount){const z=he(r,I);z&&(z._f.refs?z._f.refs.every(K=>!Vp(K)):!Vp(z._f.ref))&&te(I)}c.unMount=new Set},Q=(I,z)=>!t.disabled&&(I&&z&&rt(i,I,z),!Ts(U(),s)),W=(I,z,K)=>N2(I,c,{...a.mount?i:Pt(z)?s:os(I)?{[I]:z}:z},K,z),Z=I=>Zx(he(a.mount?i:s,I,t.shouldUnregister?he(s,I,[]):[])),B=(I,z,K={})=>{const ce=he(r,I);let ue=z;if(ce){const oe=ce._f;oe&&(!oe.disabled&&rt(i,I,R2(z,oe)),ue=of(oe.ref)&&pn(z)?"":z,P2(oe.ref)?[...oe.ref.options].forEach(fe=>fe.selected=ue.includes(fe.value)):oe.refs?Mu(oe.ref)?oe.refs.forEach(fe=>{(!fe.defaultChecked||!fe.disabled)&&(Array.isArray(ue)?fe.checked=!!ue.find(qe=>qe===fe.value):fe.checked=ue===fe.value||!!ue)}):oe.refs.forEach(fe=>fe.checked=fe.value===ue):Qx(oe.ref)?oe.ref.value="":(oe.ref.value=ue,oe.ref.type||y.state.next({name:I,values:Dt(i)})))}(K.shouldDirty||K.shouldTouch)&&T(I,ue,K.shouldTouch,K.shouldDirty,!0),K.shouldValidate&&D(I)},H=(I,z,K)=>{for(const ce in z){if(!z.hasOwnProperty(ce))return;const ue=z[ce],oe=I+"."+ce,fe=he(r,oe);(c.array.has(I)||Tt(ue)||fe&&!fe._f)&&!fo(ue)?H(oe,ue,K):B(oe,ue,K)}},G=(I,z,K={})=>{const ce=he(r,I),ue=c.array.has(I),oe=Dt(z);rt(i,I,oe),ue?(y.array.next({name:I,values:Dt(i)}),(m.isDirty||m.dirtyFields||g.isDirty||g.dirtyFields)&&K.shouldDirty&&y.state.next({name:I,dirtyFields:oc(s,i),isDirty:Q(I,oe)})):ce&&!ce._f&&!pn(oe)?H(I,oe,K):B(I,oe,K),m1(I,c)&&y.state.next({...n,name:I}),y.state.next({name:a.mount?I:void 0,values:Dt(i)})},se=async I=>{a.mount=!0;const z=I.target;let K=z.name,ce=!0;const ue=he(r,K),oe=tt=>{ce=Number.isNaN(tt)||fo(tt)&&isNaN(tt.getTime())||Ts(tt,he(i,K,tt))},fe=h1(t.mode),qe=h1(t.reValidateMode);if(ue){let tt,Jt;const tr=z.type?d1(ue._f):b2(I),Fn=I.type===sf.BLUR||I.type===sf.FOCUS_OUT,Vo=!O7(ue._f)&&!t.resolver&&!he(n.errors,K)&&!ue._f.deps||I7(Fn,he(n.touchedFields,K),n.isSubmitted,qe,fe),Vr=m1(K,c,Fn);rt(i,K,tr),Fn?(ue._f.onBlur&&ue._f.onBlur(I),d&&d(0)):ue._f.onChange&&ue._f.onChange(I);const Cn=T(K,tr,Fn),Vi=!jn(Cn)||Vr;if(!Fn&&y.state.next({name:K,type:I.type,values:Dt(i)}),Vo)return(m.isValid||g.isValid)&&(t.mode==="onBlur"?Fn&&x():Fn||x()),Vi&&y.state.next({name:K,...Vr?{}:Cn});if(!Fn&&Vr&&y.state.next({...n}),t.resolver){const{errors:yr}=await E([K]);if(oe(tr),ce){const ps=p1(n.errors,r,K),Wo=p1(yr,r,ps.name||K);tt=Wo.error,K=Wo.name,Jt=jn(yr)}}else S([K],!0),tt=(await v1(ue,c.disabled,i,v,t.shouldUseNativeValidation))[K],S([K]),oe(tr),ce&&(tt?Jt=!1:(m.isValid||g.isValid)&&(Jt=await $(r,!0)));ce&&(ue._f.deps&&D(ue._f.deps),R(K,Jt,tt,Cn))}},A=(I,z)=>{if(he(n.errors,z)&&I.focus)return I.focus(),1},D=async(I,z={})=>{let K,ce;const ue=Tc(I);if(t.resolver){const oe=await M(Pt(I)?I:ue);K=jn(oe),ce=I?!ue.some(fe=>he(oe,fe)):K}else I?(ce=(await Promise.all(ue.map(async oe=>{const fe=he(r,oe);return await $(fe&&fe._f?{[oe]:fe}:fe)}))).every(Boolean),!(!ce&&!n.isValid)&&x()):ce=K=await $(r);return y.state.next({...!os(I)||(m.isValid||g.isValid)&&K!==n.isValid?{}:{name:I},...t.resolver||!I?{isValid:K}:{},errors:n.errors}),z.shouldFocus&&!ce&&Ec(r,A,I?ue:c.mount),ce},U=I=>{const z={...a.mount?i:s};return Pt(I)?z:os(I)?he(z,I):I.map(K=>he(z,K))},re=(I,z)=>({invalid:!!he((z||n).errors,I),isDirty:!!he((z||n).dirtyFields,I),error:he((z||n).errors,I),isValidating:!!he(n.validatingFields,I),isTouched:!!he((z||n).touchedFields,I)}),le=I=>{I&&Tc(I).forEach(z=>Ot(n.errors,z)),y.state.next({errors:I?n.errors:{}})},_e=(I,z,K)=>{const ce=(he(r,I,{_f:{}})._f||{}).ref,ue=he(n.errors,I)||{},{ref:oe,message:fe,type:qe,...tt}=ue;rt(n.errors,I,{...tt,...z,ref:ce}),y.state.next({name:I,errors:n.errors,isValid:!1}),K&&K.shouldFocus&&ce&&ce.focus&&ce.focus()},me=(I,z)=>Lr(I)?y.state.subscribe({next:K=>"values"in K&&I(W(void 0,z),K)}):W(I,z,!0),Se=I=>y.state.subscribe({next:z=>{M7(I.name,z.name,I.exact)&&L7(z,I.formState||m,$n,I.reRenderRoot)&&I.callback({values:{...i},...n,...z,defaultValues:s})}}).unsubscribe,xe=I=>(a.mount=!0,g={...g,...I.formState},Se({...I,formState:g})),te=(I,z={})=>{for(const K of I?Tc(I):c.mount)c.mount.delete(K),c.array.delete(K),z.keepValue||(Ot(r,K),Ot(i,K)),!z.keepError&&Ot(n.errors,K),!z.keepDirty&&Ot(n.dirtyFields,K),!z.keepTouched&&Ot(n.touchedFields,K),!z.keepIsValidating&&Ot(n.validatingFields,K),!t.shouldUnregister&&!z.keepDefaultValue&&Ot(s,K);y.state.next({values:Dt(i)}),y.state.next({...n,...z.keepDirty?{isDirty:Q()}:{}}),!z.keepIsValid&&x()},Oe=({disabled:I,name:z})=>{(qn(I)&&a.mount||I||c.disabled.has(z))&&(I?c.disabled.add(z):c.disabled.delete(z))},We=(I,z={})=>{let K=he(r,I);const ce=qn(z.disabled)||qn(t.disabled);return rt(r,I,{...K||{},_f:{...K&&K._f?K._f:{ref:{name:I}},name:I,mount:!0,...z}}),c.mount.add(I),K?Oe({disabled:qn(z.disabled)?z.disabled:t.disabled,name:I}):P(I,!0,z.value),{...ce?{disabled:z.disabled||t.disabled}:{},...t.progressive?{required:!!z.required,min:ac(z.min),max:ac(z.max),minLength:ac(z.minLength),maxLength:ac(z.maxLength),pattern:ac(z.pattern)}:{},name:I,onChange:se,onBlur:se,ref:ue=>{if(ue){We(I,z),K=he(r,I);const oe=Pt(ue.value)&&ue.querySelectorAll&&ue.querySelectorAll("input,select,textarea")[0]||ue,fe=j7(oe),qe=K._f.refs||[];if(fe?qe.find(tt=>tt===oe):oe===K._f.ref)return;rt(r,I,{_f:{...K._f,...fe?{refs:[...qe.filter(Vp),oe,...Array.isArray(he(s,I))?[{}]:[]],ref:{type:oe.type,name:I}}:{ref:oe}}}),P(I,!1,void 0,oe)}else K=he(r,I,{}),K._f&&(K._f.mount=!1),(t.shouldUnregister||z.shouldUnregister)&&!(S2(c.array,I)&&a.action)&&c.unMount.add(I)}}},De=()=>t.shouldFocusError&&Ec(r,A,c.mount),Ue=I=>{qn(I)&&(y.state.next({disabled:I}),Ec(r,(z,K)=>{const ce=he(r,K);ce&&(z.disabled=ce._f.disabled||I,Array.isArray(ce._f.refs)&&ce._f.refs.forEach(ue=>{ue.disabled=ce._f.disabled||I}))},0,!1))},ze=(I,z)=>async K=>{let ce;K&&(K.preventDefault&&K.preventDefault(),K.persist&&K.persist());let ue=Dt(i);if(y.state.next({isSubmitting:!0}),t.resolver){const{errors:oe,values:fe}=await E();n.errors=oe,ue=Dt(fe)}else await $(r);if(c.disabled.size)for(const oe of c.disabled)Ot(ue,oe);if(Ot(n.errors,"root"),jn(n.errors)){y.state.next({errors:{}});try{await I(ue,K)}catch(oe){ce=oe}}else z&&await z({...n.errors},K),De(),setTimeout(De);if(y.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:jn(n.errors)&&!ce,submitCount:n.submitCount+1,errors:n.errors}),ce)throw ce},xt=(I,z={})=>{he(r,I)&&(Pt(z.defaultValue)?G(I,Dt(he(s,I))):(G(I,z.defaultValue),rt(s,I,Dt(z.defaultValue))),z.keepTouched||Ot(n.touchedFields,I),z.keepDirty||(Ot(n.dirtyFields,I),n.isDirty=z.defaultValue?Q(I,Dt(he(s,I))):Q()),z.keepError||(Ot(n.errors,I),m.isValid&&x()),y.state.next({...n}))},Ht=(I,z={})=>{const K=I?Dt(I):s,ce=Dt(K),ue=jn(I),oe=ue?s:ce;if(z.keepDefaultValues||(s=K),!z.keepValues){if(z.keepDirtyValues){const fe=new Set([...c.mount,...Object.keys(oc(s,i))]);for(const qe of Array.from(fe))he(n.dirtyFields,qe)?rt(oe,qe,he(i,qe)):G(qe,he(oe,qe))}else{if(Gx&&Pt(I))for(const fe of c.mount){const qe=he(r,fe);if(qe&&qe._f){const tt=Array.isArray(qe._f.refs)?qe._f.refs[0]:qe._f.ref;if(of(tt)){const Jt=tt.closest("form");if(Jt){Jt.reset();break}}}}if(z.keepFieldsRef)for(const fe of c.mount)G(fe,he(oe,fe));else r={}}i=t.shouldUnregister?z.keepDefaultValues?Dt(s):{}:Dt(oe),y.array.next({values:{...oe}}),y.state.next({values:{...oe}})}c={mount:z.keepDirtyValues?c.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},a.mount=!m.isValid||!!z.keepIsValid||!!z.keepDirtyValues,a.watch=!!t.shouldUnregister,y.state.next({submitCount:z.keepSubmitCount?n.submitCount:0,isDirty:ue?!1:z.keepDirty?n.isDirty:!!(z.keepDefaultValues&&!Ts(I,s)),isSubmitted:z.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:ue?{}:z.keepDirtyValues?z.keepDefaultValues&&i?oc(s,i):n.dirtyFields:z.keepDefaultValues&&I?oc(s,I):z.keepDirty?n.dirtyFields:{},touchedFields:z.keepTouched?n.touchedFields:{},errors:z.keepErrors?n.errors:{},isSubmitSuccessful:z.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1})},In=(I,z)=>Ht(Lr(I)?I(i):I,z),Dn=(I,z={})=>{const K=he(r,I),ce=K&&K._f;if(ce){const ue=ce.refs?ce.refs[0]:ce.ref;ue.focus&&(ue.focus(),z.shouldSelect&&Lr(ue.select)&&ue.select())}},$n=I=>{n={...n,...I}},vr={control:{register:We,unregister:te,getFieldState:re,handleSubmit:ze,setError:_e,_subscribe:Se,_runSchema:E,_focusError:De,_getWatch:W,_getDirty:Q,_setValid:x,_setFieldArray:N,_setDisabledField:Oe,_setErrors:k,_getFieldArray:Z,_reset:Ht,_resetDefaultValues:()=>Lr(t.defaultValues)&&t.defaultValues().then(I=>{In(I,t.resetOptions),y.state.next({isLoading:!1})}),_removeUnmounted:V,_disableForm:Ue,_subjects:y,_proxyFormState:m,get _fields(){return r},get _formValues(){return i},get _state(){return a},set _state(I){a=I},get _defaultValues(){return s},get _names(){return c},set _names(I){c=I},get _formState(){return n},get _options(){return t},set _options(I){t={...t,...I}}},subscribe:xe,trigger:D,register:We,handleSubmit:ze,watch:me,setValue:G,getValues:U,reset:In,resetField:xt,clearErrors:le,unregister:te,setError:_e,setFocus:Dn,getFieldState:re};return{...vr,formControl:vr}}function y1(e={}){const t=Y.useRef(void 0),n=Y.useRef(void 0),[r,s]=Y.useState({isDirty:!1,isValidating:!1,isLoading:Lr(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:Lr(e.defaultValues)?void 0:e.defaultValues});if(!t.current)if(e.formControl)t.current={...e.formControl,formState:r},e.defaultValues&&!Lr(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:a,...c}=z7(e);t.current={...c,formState:r}}const i=t.current.control;return i._options=e,Xx(()=>{const a=i._subscribe({formState:i._proxyFormState,callback:()=>s({...i._formState}),reRenderRoot:!0});return s(c=>({...c,isReady:!0})),i._formState.isReady=!0,a},[i]),Y.useEffect(()=>i._disableForm(e.disabled),[i,e.disabled]),Y.useEffect(()=>{e.mode&&(i._options.mode=e.mode),e.reValidateMode&&(i._options.reValidateMode=e.reValidateMode)},[i,e.mode,e.reValidateMode]),Y.useEffect(()=>{e.errors&&(i._setErrors(e.errors),i._focusError())},[i,e.errors]),Y.useEffect(()=>{e.shouldUnregister&&i._subjects.state.next({values:i._getWatch()})},[i,e.shouldUnregister]),Y.useEffect(()=>{if(i._proxyFormState.isDirty){const a=i._getDirty();a!==r.isDirty&&i._subjects.state.next({isDirty:a})}},[i,r.isDirty]),Y.useEffect(()=>{e.values&&!Ts(e.values,n.current)?(i._reset(e.values,{keepFieldsRef:!0,...i._options.resetOptions}),n.current=e.values,s(a=>({...a}))):i._resetDefaultValues()},[i,e.values]),Y.useEffect(()=>{i._state.mount||(i._setValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),t.current.formState=k2(r,i),t.current}const x1=(e,t,n)=>{if(e&&"reportValidity"in e){const r=he(n,t);e.setCustomValidity(r&&r.message||""),e.reportValidity()}},O2=(e,t)=>{for(const n in t.fields){const r=t.fields[n];r&&r.ref&&"reportValidity"in r.ref?x1(r.ref,n,e):r.refs&&r.refs.forEach(s=>x1(s,n,e))}},B7=(e,t)=>{t.shouldUseNativeValidation&&O2(e,t);const n={};for(const r in e){const s=he(t.fields,r),i=Object.assign(e[r]||{},{ref:s&&s.ref});if(U7(t.names||Object.keys(e),r)){const a=Object.assign({},he(n,r));rt(a,"root",i),rt(n,r,a)}else rt(n,r,i)}return n},U7=(e,t)=>e.some(n=>n.startsWith(t+"."));var V7=function(e,t){for(var n={};e.length;){var r=e[0],s=r.code,i=r.message,a=r.path.join(".");if(!n[a])if("unionErrors"in r){var c=r.unionErrors[0].errors[0];n[a]={message:c.message,type:c.code}}else n[a]={message:i,type:s};if("unionErrors"in r&&r.unionErrors.forEach(function(m){return m.errors.forEach(function(g){return e.push(g)})}),t){var d=n[a].types,h=d&&d[r.code];n[a]=C2(a,t,n,s,h?[].concat(h,r.message):r.message)}e.shift()}return n},_1=function(e,t,n){return n===void 0&&(n={}),function(r,s,i){try{return Promise.resolve(function(a,c){try{var d=Promise.resolve(e[n.mode==="sync"?"parse":"parseAsync"](r,t)).then(function(h){return i.shouldUseNativeValidation&&O2({},i),{errors:{},values:n.raw?r:h}})}catch(h){return c(h)}return d&&d.then?d.then(void 0,c):d}(0,function(a){if(function(c){return Array.isArray(c==null?void 0:c.errors)}(a))return{values:{},errors:B7(V7(a.errors,!i.shouldUseNativeValidation&&i.criteriaMode==="all"),i)};throw a}))}catch(a){return Promise.reject(a)}}};const L2=p.forwardRef(({className:e,...t},n)=>l.jsx("div",{ref:n,className:ee("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));L2.displayName="Card";const M2=p.forwardRef(({className:e,...t},n)=>l.jsx("div",{ref:n,className:ee("flex flex-col space-y-1.5 p-6",e),...t}));M2.displayName="CardHeader";const I2=p.forwardRef(({className:e,...t},n)=>l.jsx("h3",{ref:n,className:ee("text-2xl font-semibold leading-none tracking-tight",e),...t}));I2.displayName="CardTitle";const D2=p.forwardRef(({className:e,...t},n)=>l.jsx("p",{ref:n,className:ee("text-sm text-muted-foreground",e),...t}));D2.displayName="CardDescription";const $2=p.forwardRef(({className:e,...t},n)=>l.jsx("div",{ref:n,className:ee("p-6 pt-0",e),...t}));$2.displayName="CardContent";const W7=p.forwardRef(({className:e,...t},n)=>l.jsx("div",{ref:n,className:ee("flex items-center p-6 pt-0",e),...t}));W7.displayName="CardFooter";const w1=S7,F2=p.createContext({}),ma=({...e})=>l.jsx(F2.Provider,{value:{name:e.name},children:l.jsx(P7,{...e})}),fm=()=>{const e=p.useContext(F2),t=p.useContext(z2),{getFieldState:n,formState:r}=hm(),s=n(e.name,r);if(!e)throw new Error("useFormField should be used within <FormField>");const{id:i}=t;return{id:i,name:e.name,formItemId:`${i}-form-item`,formDescriptionId:`${i}-form-item-description`,formMessageId:`${i}-form-item-message`,...s}},z2=p.createContext({}),no=p.forwardRef(({className:e,...t},n)=>{const r=p.useId();return l.jsx(z2.Provider,{value:{id:r},children:l.jsx("div",{ref:n,className:ee("space-y-2",e),...t})})});no.displayName="FormItem";const ro=p.forwardRef(({className:e,...t},n)=>{const{error:r,formItemId:s}=fm();return l.jsx(fl,{ref:n,className:ee(r&&"text-destructive",e),htmlFor:s,...t})});ro.displayName="FormLabel";const so=p.forwardRef(({...e},t)=>{const{error:n,formItemId:r,formDescriptionId:s,formMessageId:i}=fm();return l.jsx(Do,{ref:t,id:r,"aria-describedby":n?`${s} ${i}`:`${s}`,"aria-invalid":!!n,...e})});so.displayName="FormControl";const q7=p.forwardRef(({className:e,...t},n)=>{const{formDescriptionId:r}=fm();return l.jsx("p",{ref:n,id:r,className:ee("text-sm text-muted-foreground",e),...t})});q7.displayName="FormDescription";const io=p.forwardRef(({className:e,children:t,...n},r)=>{const{error:s,formMessageId:i}=fm(),a=s?String(s==null?void 0:s.message):t;return a?l.jsx("p",{ref:r,id:i,className:ee("text-sm font-medium text-destructive",e),...n,children:a}):null});io.displayName="FormMessage";const H7=_2({email:Oa().email("  email"),password:Oa().min(6,"     6 ")}),G7=_2({fullName:Oa().min(2,"     2 ").max(100,"  "),email:Oa().email("  email"),password:Oa().min(8,"     8 ").regex(/[A-Z]/,"    ").regex(/[0-9]/,"   "),confirmPassword:Oa()}).refine(e=>e.password===e.confirmPassword,{message:"  ",path:["confirmPassword"]});function Z7(){const e=jl(),{signIn:t,signUp:n,signInWithGoogle:r,isAuthenticated:s,isLoading:i}=qt(),[a,c]=p.useState(!1),[d,h]=p.useState(null),[m,g]=p.useState(!1),[y,v]=p.useState("signin");p.useEffect(()=>{s&&!i&&e("/",{replace:!0})},[s,i,e]);const b=y1({resolver:_1(H7),defaultValues:{email:"",password:""}}),x=y1({resolver:_1(G7),defaultValues:{fullName:"",email:"",password:"",confirmPassword:""}}),S=async P=>{h(null),g(!0);const T=await t(P.email,P.password);T.error?h(k(T.error.message)):e("/",{replace:!0}),g(!1)},N=async P=>{h(null),g(!0);const T=await n(P.email,P.password,P.fullName);T.error?h(k(T.error.message)):e("/",{replace:!0}),g(!1)},w=async()=>{h(null);const P=await r();P.error&&h(k(P.error.message))},k=P=>P.includes("Invalid login credentials")?" email  ":P.includes("Email not confirmed")?"Email  .  ":P.includes("User already registered")?"   email  ":P.includes("Password should be")?"    ":P;return i?l.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-b from-muted via-background to-background",children:l.jsx(ct,{className:"w-8 h-8 animate-spin text-primary"})}):l.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-b from-muted via-background to-background p-4",children:l.jsxs(L2,{className:"w-full max-w-md shadow-xl border-border/50",children:[l.jsxs(M2,{className:"text-center space-y-4",children:[l.jsx("div",{className:"mx-auto w-16 h-16 rounded-2xl bg-gradient-to-br from-primary to-secondary flex items-center justify-center",children:l.jsx(jo,{className:"w-8 h-8 text-primary-foreground"})}),l.jsxs("div",{children:[l.jsx(I2,{className:"text-2xl font-display gradient-text",children:"SafeAir Pro"}),l.jsx(D2,{children:"     "})]})]}),l.jsxs($2,{className:"space-y-6",children:[d&&l.jsxs(Wx,{variant:"destructive",children:[l.jsx(Di,{className:"h-4 w-4"}),l.jsx(qx,{children:d})]}),l.jsxs(BT,{value:y,onValueChange:v,children:[l.jsxs(Ox,{className:"grid w-full grid-cols-2",children:[l.jsx(Gh,{value:"signin",children:""}),l.jsx(Gh,{value:"signup",children:""})]}),l.jsx(Zh,{value:"signin",className:"space-y-4 mt-4",children:l.jsx(w1,{...b,children:l.jsxs("form",{onSubmit:b.handleSubmit(S),className:"space-y-4",children:[l.jsx(ma,{control:b.control,name:"email",render:({field:P})=>l.jsxs(no,{children:[l.jsx(ro,{children:"Email"}),l.jsx(so,{children:l.jsxs("div",{className:"relative",children:[l.jsx(m0,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),l.jsx(Gn,{...P,type:"email",placeholder:"example@mail.com",className:"pl-10",disabled:m})]})}),l.jsx(io,{})]})}),l.jsx(ma,{control:b.control,name:"password",render:({field:P})=>l.jsxs(no,{children:[l.jsx(ro,{children:""}),l.jsx(so,{children:l.jsxs("div",{className:"relative",children:[l.jsx(yp,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),l.jsx(Gn,{...P,type:a?"text":"password",placeholder:"",className:"pl-10 pr-10",disabled:m}),l.jsx("button",{type:"button",onClick:()=>c(!a),className:"absolute right-3 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground",children:a?l.jsx(h0,{className:"w-4 h-4"}):l.jsx(f0,{className:"w-4 h-4"})})]})}),l.jsx(io,{})]})}),l.jsx(Te,{type:"submit",className:"w-full",disabled:m,children:m?l.jsxs(l.Fragment,{children:[l.jsx(ct,{className:"w-4 h-4 animate-spin"}),"..."]}):""})]})})}),l.jsx(Zh,{value:"signup",className:"space-y-4 mt-4",children:l.jsx(w1,{...x,children:l.jsxs("form",{onSubmit:x.handleSubmit(N),className:"space-y-4",children:[l.jsx(ma,{control:x.control,name:"fullName",render:({field:P})=>l.jsxs(no,{children:[l.jsx(ro,{children:""}),l.jsx(so,{children:l.jsxs("div",{className:"relative",children:[l.jsx(TN,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),l.jsx(Gn,{...P,placeholder:" ",className:"pl-10",disabled:m})]})}),l.jsx(io,{})]})}),l.jsx(ma,{control:x.control,name:"email",render:({field:P})=>l.jsxs(no,{children:[l.jsx(ro,{children:"Email"}),l.jsx(so,{children:l.jsxs("div",{className:"relative",children:[l.jsx(m0,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),l.jsx(Gn,{...P,type:"email",placeholder:"example@mail.com",className:"pl-10",disabled:m})]})}),l.jsx(io,{})]})}),l.jsx(ma,{control:x.control,name:"password",render:({field:P})=>l.jsxs(no,{children:[l.jsx(ro,{children:""}),l.jsx(so,{children:l.jsxs("div",{className:"relative",children:[l.jsx(yp,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),l.jsx(Gn,{...P,type:a?"text":"password",placeholder:"",className:"pl-10 pr-10",disabled:m}),l.jsx("button",{type:"button",onClick:()=>c(!a),className:"absolute right-3 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground",children:a?l.jsx(h0,{className:"w-4 h-4"}):l.jsx(f0,{className:"w-4 h-4"})})]})}),l.jsx(io,{}),l.jsx("p",{className:"text-xs text-muted-foreground",children:" 8 ,    "})]})}),l.jsx(ma,{control:x.control,name:"confirmPassword",render:({field:P})=>l.jsxs(no,{children:[l.jsx(ro,{children:" "}),l.jsx(so,{children:l.jsxs("div",{className:"relative",children:[l.jsx(yp,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),l.jsx(Gn,{...P,type:a?"text":"password",placeholder:"",className:"pl-10",disabled:m})]})}),l.jsx(io,{})]})}),l.jsx(Te,{type:"submit",className:"w-full",disabled:m,children:m?l.jsxs(l.Fragment,{children:[l.jsx(ct,{className:"w-4 h-4 animate-spin"}),"..."]}):""})]})})})]}),l.jsxs("div",{className:"relative",children:[l.jsx(Qy,{}),l.jsx("span",{className:"absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 bg-card px-2 text-xs text-muted-foreground",children:""})]}),l.jsxs(Te,{variant:"outline",className:"w-full gap-2",onClick:w,disabled:m,children:[l.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[l.jsx("path",{fill:"currentColor",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),l.jsx("path",{fill:"currentColor",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),l.jsx("path",{fill:"currentColor",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),l.jsx("path",{fill:"currentColor",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"  Google"]})]})]})})}const K7=()=>{const e=zi();return p.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",e.pathname)},[e.pathname]),l.jsx("div",{className:"flex min-h-screen items-center justify-center bg-muted",children:l.jsxs("div",{className:"text-center",children:[l.jsx("h1",{className:"mb-4 text-4xl font-bold",children:"404"}),l.jsx("p",{className:"mb-4 text-xl text-muted-foreground",children:"Oops! Page not found"}),l.jsx("a",{href:"/",className:"text-primary underline hover:text-primary/90",children:"Return to Home"})]})})},Y7=new i4,X7=()=>l.jsx(a4,{client:Y7,children:l.jsx(az,{children:l.jsx(XF,{children:l.jsx(JF,{children:l.jsxs(vC,{children:[l.jsx(xI,{}),l.jsx(XI,{}),l.jsx(o3,{children:l.jsx(tz,{children:l.jsxs(Q4,{children:[l.jsx(Qr,{path:"/auth",element:l.jsx(Z7,{})}),l.jsxs(Qr,{element:l.jsx(DU,{}),children:[l.jsx(Qr,{path:"/",element:l.jsx(t6,{})}),l.jsx(Qr,{path:"/progress",element:l.jsx(x6,{})}),l.jsx(Qr,{path:"/health",element:l.jsx(w6,{})}),l.jsx(Qr,{path:"/community",element:l.jsx(z9,{})}),l.jsx(Qr,{path:"/districts",element:l.jsx(cW,{})}),l.jsx(Qr,{path:"/actions",element:l.jsx(ZW,{})})]}),l.jsx(Qr,{path:"*",element:l.jsx(K7,{})})]})})})]})})})})});Vk(document.getElementById("root")).render(l.jsx(X7,{}));
